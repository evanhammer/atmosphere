// Generated by CoffeeScript 1.7.1
(function() {
  var dnode, http, onSignal, phanta, shoe, spawn, startPhantomProcess, wrap,
    __slice = [].slice;

  dnode = require('dnode');

  http = require('http');

  shoe = require('shoe');

  spawn = require('win-spawn');

  phanta = [];

  startPhantomProcess = function(binary, port, hostname, args) {
    return spawn(binary, args.concat([__dirname + '/shim.js', port, hostname]));
  };

  onSignal = function() {
    var phantom, _i, _len;
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      phantom.exit();
    }
    return process.exit();
  };

  process.on('exit', function() {
    var phantom, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = phanta.length; _i < _len; _i++) {
      phantom = phanta[_i];
      _results.push(phantom.exit());
    }
    return _results;
  });

  process.on('SIGINT', onSignal);

  process.on('SIGTERM', onSignal);

  wrap = function(ph) {
    ph.callback = function(fn) {
      return '__phantomCallback__' + fn.toString();
    };
    ph._createPage = ph.createPage;
    return ph.createPage = function(cb) {
      return ph._createPage(function(page) {
        page._evaluate = page.evaluate;
        page.evaluate = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._evaluate.apply(page, [fn.toString(), cb].concat(args));
        };
        page._onResourceRequested = page.onResourceRequested;
        page.onResourceRequested = function() {
          var args, cb, fn;
          fn = arguments[0], cb = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
          return page._onResourceRequested.apply(page, [fn.toString(), cb].concat(args));
        };
        return cb(page);
      });
    };
  };

  module.exports = {
    create: function() {
      var arg, args, cb, httpServer, key, options, phantom, ps, sock, value, _i, _len, _ref;
      args = [];
      options = {};
      for (_i = 0, _len = arguments.length; _i < _len; _i++) {
        arg = arguments[_i];
        switch (typeof arg) {
          case 'function':
            cb = arg;
            break;
          case 'string':
            args.push(arg);
            break;
          case 'object':
            options = arg;
        }
      }
      if (typeof options.parameters === 'object') {
        _ref = options.parameters;
        for (key in _ref) {
          value = _ref[key];
          args.push('--' + key + '=' + value);
        }
      }
      if (options.path == null) {
        options.path = '';
      }
      if (options.binary == null) {
        options.binary = options.path + 'phantomjs';
      }
      if (options.port == null) {
        options.port = 0;
      }
      if (options.hostname == null) {
        options.hostname = 'localhost';
      }
      if (options.dnodeOpts == null) {
        options.dnodeOpts = {};
      }
      ps = null;
      phantom = null;
      httpServer = http.createServer();
      httpServer.listen(options.port, options.hostname);
      httpServer.on('listening', function() {
        var hostname, port;
        port = httpServer.address().port;
        hostname = httpServer.address().address;
        ps = startPhantomProcess(options.binary, port, hostname, args);
        ps.stdout.on('data', options.onStdout || function(data) {
          return console.log("phantom stdout: " + data);
        });
        ps.stderr.on('data', options.onStderr || function(data) {
          return module.exports.stderrHandler(data.toString('utf8'));
        });
        ps.on('error', function(err) {
          httpServer.close();
          if ((err != null ? err.code : void 0) === 'ENOENT') {
            return console.error("phantomjs-node: You don't have 'phantomjs' installed");
          } else {
            throw err;
          }
        });
        return ps.on('exit', function(code, signal) {
          var p;
          httpServer.close();
          if (phantom) {
            if (typeof phantom.onExit === "function") {
              phantom.onExit();
            }
            phanta = (function() {
              var _j, _len1, _results;
              _results = [];
              for (_j = 0, _len1 = phanta.length; _j < _len1; _j++) {
                p = phanta[_j];
                if (p !== phantom) {
                  _results.push(p);
                }
              }
              return _results;
            })();
          }
          if (options.onExit) {
            return options.onExit(code, signal);
          } else {
            console.assert(signal == null, "signal killed phantomjs: " + signal);
            return console.assert(code === 0, "abnormal phantomjs exit code: " + code);
          }
        });
      });
      sock = shoe(function(stream) {
        var d;
        d = dnode({}, options.dnodeOpts);
        d.on('remote', function(phantom) {
          wrap(phantom);
          phantom.process = ps;
          phanta.push(phantom);
          return typeof cb === "function" ? cb(phantom) : void 0;
        });
        d.pipe(stream);
        return stream.pipe(d);
      });
      return sock.install(httpServer, '/dnode');
    },
    stderrHandler: function(message) {
      if (message.match(/(No such method.*socketSentData)|(CoreText performance note)/)) {
        return;
      }
      return console.warn("phantom stderr: " + message);
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,IWZ1bmN0aW9uIGUodCxuLGkpe2Z1bmN0aW9uIHIobyxhKXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZsKXJldHVybiBsKG8sITApO2lmKHMpcmV0dXJuIHMobywhMCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY312YXIgdT1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHIobj9uOmUpfSx1LHUuZXhwb3J0cyxlLHQsbixpKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBzPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO21vZHVsZS5leHBvcnRzPXIoaVswXSl9KHsxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWdsb2JhbC5EYXRlO2lmKCJmdW5jdGlvbiBEYXRlKCkgeyBbbmF0aXZlIGNvZGVdIH0iIT09aS50b1N0cmluZygpfHwiZnVuY3Rpb24gdG9TdHJpbmcoKSB7IFtuYXRpdmUgY29kZV0gfSIhPT1pLnRvU3RyaW5nLnRvU3RyaW5nKCkpcmV0dXJuIHZvaWQodC5leHBvcnRzPXtjcmVhdGU6ZnVuY3Rpb24oKXt9fSk7dmFyIHI9ZSgicGF0aCIpLHM9ZnVuY3Rpb24odCl7dmFyIG4saT1lKCIuL2V4dGVuc2lvbi91aS9zZXJ2aWNlIik7aWYodC5fbW9kZWwpbj10Ll9tb2RlbDtlbHNle3ZhciByPWUoIi4vZXh0ZW5zaW9uL3NlcnZlci9tb2RlbCIpO249bmV3IHIoe2ZpbGVJZEJ5UGF0aDpmdW5jdGlvbihlKXtyZXR1cm4gdC5pZEJ5UGF0aChlKX0scHJvamVjdDp0fSl9dC5fdWlTZXJ2aWNlPW5ldyBpKG4pLHQuX3VpU2VydmljZS5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7cmV0dXJuIm5hdmlnYXRpb25SZXF1ZXN0ZWQiPT09ZS50eXBlJiZ0LmVtaXQoIm1lc3NhZ2UiLGUpfSl9O3QuZXhwb3J0cz17Y3JlYXRlOmZ1bmN0aW9uKHQsbil7aWYobil7aWYodC5leHBpcnlEYXRlKXRyeXt2YXIgbz10LmV4cGlyeURhdGUuc3BsaXQoIi0iKSxhPW5ldyBpKG9bMV0rIi8iK29bMF0rIi8iK29bMl0pO2Euc2V0RGF0ZShhLmdldERhdGUoKSsxKTt2YXIgbD1uZXcgaSgxNTE2Njg1MjQ2ODA4KTtpZihsLnNldEhvdXJzKDAsMCwwLDApLGw+YSl7dmFyIGM9cHJvY2Vzcy5lbnYucXVva2thPyJRdW9ra2EuanMgJ1BybyciOiJ3YWxsYWJ5LmpzIix1PXByb2Nlc3MuZW52LnF1b2trYT8iaHR0cHM6Ly9xdW9ra2Fqcy5jb20vcHJvIjoiaHR0cHM6Ly93YWxsYWJ5anMuY29tL2xpY2Vuc2UvIjtyZXR1cm4gUS5yZWplY3Qoe21lc3NhZ2U6IlRoZSBpbnN0YWxsZWQgIitjKyIgdmVyc2lvbiBpcyBub3QgY292ZXJlZCBieSB5b3VyIGN1cnJlbnQgbGljZW5zZS5cblBsZWFzZSB2aXNpdCBvdXIgd2Vic2l0ZSB0byB1cGdyYWRlIHlvdXIgbGljZW5zZTogIit1KyIuIi5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpLG5vRGV0YWlsczohMH0pfX1jYXRjaChkKXt9cHJvY2Vzcy5lbnYucXVva2thfHxzKG4pO3ZhciBoPWUoIi4vZXh0ZW5zaW9uL3NlcnZlci9tdWx0aWNhc3RlciIpLHA9MmUzO2lmKHQubGljZW5zZSYmdC5saWNlbnNlIT09bi5fd2FsbGFieUVtYWlsKXt2YXIgZj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2guZW1pdCgibGljZW5zZS51c2UiLHQubGljZW5zZSl9LHApO2gub24oImxpY2Vuc2UudXNlIixmdW5jdGlvbihlLGkpe3QubGljZW5zZSYmZSYmdC5saWNlbnNlPT09ZSYmbi5fZW1pdCh7dHlwZToibGljZW5zZUNvbGxpc2lvbiIsYWRkcmVzczppfSl9KSxuLl9tdWx0aWNhc3Rlcj17c3RvcDpmdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoZiksaC5zdG9wKCl9fX1yZXR1cm4gdC5saWNlbnNlP1Eud2hlbighMCk6bi5fZmlsZVN0YXRQcm9taXNlKHIuZGlybmFtZShuLl9waGFudG9tanMpKVsiY2F0Y2giXShmdW5jdGlvbigpe3JldHVybiBRLndoZW4oe30pfSkudGhlbihmdW5jdGlvbihlKXtpZihlJiZlLm10aW1lKXt2YXIgdD1lLm10aW1lO2lmKHQuc2V0RGF0ZShlLm10aW1lLmdldERhdGUoKSszMCksbmV3IGk+dClyZXR1cm4gUS5yZWplY3Qoe21lc3NhZ2U6Im1vYy5zanliYWxsYXdAb2xsZWggdGEgbGlhbWUgYWl2IHN1IHRjYXRub2MgZXNhZWxwICxtYWV0IHJ1b3kgcm8gZmxlc3J1b3kgcm9mIGRvaXJlcCBsYWlydCByZWdub2wgYSBlZ25hcnJhIG90IGVraWwgZGx1b3cgdW95IGZJXG4uZXNuZWNpbCBhIGVzYWhjcnVwIG90IGVzYWhjcnVwL21vYy5zanliYWxsYXcvLzpwdHRoIHRhIGV0aXNiZXcgcnVvIHRpc2l2IGVzYWVscCAsdGNlam9ycCBlaHQgdHJvcHB1cyBkbmEgdGkgZ25pc3UgZXVuaXRub2Mgb3QgZWtpbCBkbHVvdyB1b3kgZG5hICx5dGl2aXRjdWRvcnAgcnVveSBkZXNhZXJjbmkgc2FoIHNqLnliYWxsYXcgZklcbi50dW8gdGkgZ25peXJ0IHJvZiBza25haHQgLHJldm8gc2kgZG9pcmVwIGxhaXJ0IHNqLnliYWxsYXcgcnVvWSIuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKSxub0RldGFpbHM6ITB9KX1yZXR1cm4gUS53aGVuKCEwKX0pfXJldHVybiBlKCIuL2V4dGVuc2lvbi9jb3JlIil9fX0seyIuL2V4dGVuc2lvbi9jb3JlIjoyLCIuL2V4dGVuc2lvbi9zZXJ2ZXIvbW9kZWwiOjEwLCIuL2V4dGVuc2lvbi9zZXJ2ZXIvbXVsdGljYXN0ZXIiOjExLCIuL2V4dGVuc2lvbi91aS9zZXJ2aWNlIjoxNixwYXRoOnZvaWQgMH1dLDI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscj1nbG9iYWwuRGF0ZTtpZigiZnVuY3Rpb24gRGF0ZSgpIHsgW25hdGl2ZSBjb2RlXSB9IiE9PXIudG9TdHJpbmcoKXx8ImZ1bmN0aW9uIHRvU3RyaW5nKCkgeyBbbmF0aXZlIGNvZGVdIH0iIT09ci50b1N0cmluZy50b1N0cmluZygpKXJldHVybiB2b2lkKHQuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCkpO3ZhciBzLG89ZSgicGF0aCIpLGE9ZSgiY3J5cHRvIiksbD1lKCJjaGlsZF9wcm9jZXNzIikuZXhlY1N5bmMsYz1lKCJ0aW1lcnMiKS5zZXRUaW1lb3V0LHU9ZSgidGltZXJzIikuY2xlYXJUaW1lb3V0LGQ9ZSgiLi9zZXJ2ZXIvZmlsZVN5c3RlbSIpLGg9ZSgiLi9zZXJ2ZXIvbW9kZWwiKSxwPWUoIi4vc2hhcmVkL3V0aWxzIiksZj02ZTUsZz03ZTMsbT01LHY9MTQseT0iYWN0aXZhdGUtbGluayIsVD0iY29udGludWUtdHJpYWwtbGluayIsUj0iRnJlZWRvbSIsVj17QXRvbToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBcXlkUUJacGU0dlBtV3ZIMnlyaUhcbjhmL0Jtb2txY2xEcUpOSlVDb1YrUlFhdzE2cnQvaTNrUlVVSHFZWFYxb3p4UHZRc056QXBQcmFwKzIxTXFWVFRcbmd6cFNKQjZIbmhZYWJBT01haHV2emFabHh0RVVWQW9kWndHWG43YmRETDZ0YjdXSWpvaGhHbXlmc0RLdisycGlcblZWbkJQK3FHUlh0dGF0TnlLazBtVE9mYlViODBtc3E2UzNNbmZoTThTdU9vODMreFkvdFo1aVBHd3pqMTFiU0ZcbnR2a2JNQWNYM1ljS2hvRlJteThLZ0R1T3hqUThtZTgyRHk2U2dzaGxzYWU4LzJTTlZ6MGlNY2dDSVRBU1hPdVhcbjBGMFFGQ3JlanhYVFR6Z2g3VEJlOWE0eDUxaVlLTWZNMXdxcVhoVi8zeWNzekhacndHRWY4RmNvNzNMV3Rmb21cbkh3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLFZTQ29kZToiLS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS1cbk1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBd2YwUm42cmdGTVZOdWFlZzNLZzlcbmtqTE5VVDhaMmZuSXJqVWhER004RlM3bzVrNE5UMUZkem5xc29CcHJMZHJMUmRrTXpqSDhJUHJyRVU1cktpV2xcblZPMGlLVTdRN0FtTWZBVFN0ZXp2ZnlzMEFBbCtvM2Yva1FpU1p4RDJVNVAvSzM4a2xZcHdmOUw4TU10aEFlRUZcbnk0eHpBNWVCdVB6QmRSSHh2VXdVcWhDQjlvNzNaNE1heEhucmF6NWh4MGY2YWdFZExWVTZYc05rbzV3WG44Wk5cblA2QmJrT09tL0hnVThLa1d1SmJVNTh5Z1h4UGYvZm5aSHUyZ3R2cnovck5lbW9YWTFmRHlkaXpOeER5K1pQZ1Bcbml3ZVNkcW5MaGxGb0pFdXhuSXdvUGxZTTdKd0toM0ppaE96QXFRUTVVNUprTTVlL21GUS9sRnFDVnhNbG1CUVdcblZ3SURBUUFCXG4tLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0iLFN1YmxpbWU6Ii0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tXG5NSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXUxRUVEWnpRKytsNnR6MmlvQ1BhXG5IeE9TY2p5MmtSRGRQb1h1UTg4elpHNlZldnhxbUl6YWRIUEZHalY1cDNabThPWTlSK1NmNjFrZHpSWnp2V1JnXG54b3JsYW5vT2x1dHZmQmZHMmxrdjJKNEgvQjc1WHBvQWVHdmR2SWxPTW9EeGZ3ajJ2TUlRNG9ITmFDSjJ5K08vXG5pb2hURk9DMDduWTd1ZjJzYTB1c09BWjd6ZytiWHl6NjMvZnVTZVZvdUZDS0dlWUt2cTFZQzk5MUYySGowVGhNXG54eGVsbGM2eDFBYUZ1eXlHNUhtZFlxYnVLTlMraUF0N3c4cFlUSm9YeGk5akUwMjE0R2Ywc2JzRm5BYkJGajJzXG5rT2FlZTRQU3BseVNaWEVtWVJlcFAxK3c2YURrdWJWdHNITXZGdCtBcjR3dTRkTHVBajdTOHl4VlZyS0VHOVJ6XG40d0lEQVFBQlxuLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tIixGcmVlZG9tOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUE0cERvdGVqdHpoaVQvbHBOZmQwSFxuMkR2MDhOVFNKOC9peHVRejNpSmlWUnhRa290NVNuNDV3dTRRaVFFb1k1TlEvdERmOFY5bURlZVBOVS9aZDhLWVxuZHlSRm9xNmJ3T2xIYzBIQWE1MHRlY1JDRUNFU0IrdDNUVmNxTE1vZ1gzMnZnUWtTbWx5MHNGeHRHRkJqTjhXeFxuVitRN1dROG5lZnQ3SkthWHRtKzJGdDdQNDFvbmQrU2ZCZVRvaDltbjlERmZ0K091STJ2ejdzME9TamQrUDJid1xuK0dFSXIzb3RsM0NBNVJySUg5V1JzQVZqYXd2K3o1THZha1FYdE82Sk5ObUpnRXJIV1pta0JJbHYyVkhEc29TZFxuTUxnYTJqVGlFSHJrWnlsS1BGb3ovaE9kaC9pVkg0L3IxQVd4QmhqOElnUWxSY0xKZ3ZTQnpKbzRPbEJobFloNlxueHdJREFRQUJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSIsUXVva2thOiItLS0tLUJFR0lOIFBVQkxJQyBLRVktLS0tLVxuTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUFvaFIvTzhYNXB0Z1BiZWxzU3NhWlxuV0pIWjdGa3FvMzlDeDlVWVBzMnJZemJ3OTRhWnJJZVJkZGZnRDU1Z1NaWjNKa1JYUmRaN0tibStYVHJpNlYwL1xuMFpldCtGS2FlVzB4a290SHZNUDBmVHpHbmFqUTZDODM2TTh3UVI5ZjFuZHFkN1RzYTMwa0FlZ3ZQcWhLdUkrV1xuYVcxR1pyU2VlZXlxMy91WjR0aFBFR3ZGRFhqNlAyb2dFYUV4MzZXdXFEOURWMVV1WTd2Y20vZlBZWnBmR2dQdVxuOEo0SEF6SzVHME95clNlblRYLytKTzhwS2pPdEY2SkhLYVFtaTNDRjF0Q0ExZXc4c3ZaMFpMa0s5QUdvTSs4T1xuYTlreDFzQnA0WXZDakEwVlJ4ZE8vNjZPdEJSaEZuS1Y2SmJvUFRRNFNHMmJGQUtZUkpPN3RuUzdubmhpY2dIc1xuRXdJREFRQUJcbi0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLSJ9LEY9eyJRMGRDSUVWdWRHVnljSEpwYzJWeklDTnlZWEo2TkFwa2FXNWhhQzV3YkdGdVkyaGhjbVJBWTJkaUxtTnZiU3hYWVd4c1lXSjVMbXB6SUdOdmJYQmhibmtnYkdsalpXNXpaU0FvVmxNZ1EyOWtaU2tLTVRFdk1EVXZNakF4TndwT1QyWlVhRFpXTlV4R1luVkZTVTV6YlV4WVJUSjNPVk16TVRaalNIaGxWVnBHVFdKRGNETTNSaXQwUjNKc1RGRndibHBEYjFaRlFucERUVU5RZGpaRWFUUldNVEZMVUU1TVNHbDRaR2QzY2tOR2VEaFBVRkJPTmpRNGMycEpNWHBXVFVsMFRYQnJSSFJpTHl0TGR6UjZNbUpTU1VGMmNFbDJaeXQ0UjA1dlExSXpWME5PU1RsaFdXVTFWWEIzVVVGM2RHRjJhMmRpVTA5a2RIZEdhbTFKTDIxcFV6QlhObXBYWVVkMVRuUkNSM1ZrUlZOVmNtcE5NRlJsTTNSalJsQkRUVlIzTUZKWU5YbHBTWEpzWlZOa1FrcFZlRTlUV2t4VGNHWXdaMncxWVZrclRYTkxWVGs0ZEhwTmFsVjFjMnRHWkdzM1NYWnFWRTFsUTB0TWIxcDZkMmgzTVhSTE1XMTFjRkJPYlVOaVZVZDFhMU1yZDFSVlJsSldVRUZ2YkVOelZIcEhMMUpFUldoV2QyTkxaa3dyT0M5eVIwMTFVVUpyTkZaNFp6WkNjbnBwT0hvNVdVcE1SSFpzYTJoa2NrRk9ka0ZYWm5jOVBRPT0iOjEsUVcxaGVtOXVJRU52Y25CdmNtRjBaU0JNVEVNZ0kzaGhaVGwyQ21Gc1pYaGZjMk5vYVdOcmJHbHVaMEJ6YUdrdVkyOXRMRmRoYkd4aFlua3Vhbk1nWTI5dGNHRnVlU0JzYVdObGJuTmxJQ2hCZEc5dEtRb3lOeTh3TkM4eU1ERTNDa1ZqU0d0MksxaHJlVzVqZUZKRVdWZEZVRkZpYnpkWVZteHFVRVEzVkc0d2VqQndlbTFFWlNzM2IyNVBWWEJuWVRWQmMydExTVEF5Y2tSVVdTdEZLMlJXTkM5cEwyWmhXRzR3ZGxGcWRFSjNOMFZTYTNkTU0zZFhWVEZOZUhKNE5VMW9hSE51ZGxveVNqTk1ZM0JxYjJsMU1sUkthR3hpVUhsSk1YWldSeTlHUVU0M1dEVnRWMFZzZFhKdVVsRkhhbGRCY0ZkT1UwTkNMMlk0VUdabFpGVmliVU51YVM5elpXNU5PRGxSVG5JcldETTBaekJqYWpkYVExRXpXVmgyYnpkMFMwMXdNMUZyZDI1UGVVaG9lVEJ0TkN0MWFUaFlaRXBZUms4NFV6UnFXRk5QU0VrdmVpdHlOVE15VjBFdlNVRkxlVXR0TTFnMFZXbFRXbWxNVkhOTWRrWTFOVVppUjJreFNsWXhZV3hQZVVaclJIQldUbmg0U2pKTFVVUlBNbmxGTTI4clkybHNZbFk0TW10VGR5c3hkRVpzTHpadE4yeHViM2RoTTBOSVdtdE9kVmhZZWxkRkwwdzNPVUV3UjBoaU9FWnhaejA5OjEsIlNuVnpkR2x1SUV4bFpHOTFlQXBxZFhOMGFXNHViR1ZrYjNWNFFHcDFjM1JwYm5kbFlpNXdjbThzVjJGc2JHRmllUzVxY3lCd1pYSnpiMjVoYkNCc2FXTmxibk5sSUNoVGRXSnNhVzFsSUZSbGVIUXBDakEyTHpBMkx6SXdNVGNLYjJvNWRFRlJZVXR2UTBkYVRHeHRZV2R4WlU0elZFVkNWVzl3VVRGeGNHTlBVa2xqTUhkblZqVXJWRVF6TkU1aGFFZFFWV2hYYUZWU1lTOWFkSHBzTjBWYWIzVjBNelpqWlZKMFRVY3lVa3d3SzJsYU4wWmxZMk5TVm5neVZUUk5iVTl0U0dwT2JFRlhaa050S3pBNGREWlZkMmszUVM5T2QwOVRja2x1TWtSV1dUWnlWMDlqVFdsRlNsazRhV0paWlhwblFWZDFkRGNyVjBFdlRrWXhWMDExWkVjdmVsZG5kVmRQTlRsMVFXRlFlRWQwUm5SWlRqZEJUemRTV2tSRGJHRnliM0lyUzA5TlRtZHpXalF2WW1NMk5FTm1Uak40ZFdZeVJFOWtUakJJTjI4MlZVcExhMDFLYVVOd1pHTkZUWGxUTTFaMVNGSnNSVlprVlUxcU0ycGxabE5sUTAxR1JtRmliSEJYTUZselEyVkNRVFUzV2xOM1dYQklLMDVLTldrcmExbGtNM1pqYkN0emMxRlJlVlJITld4WlVpdGlNbkZXV0RWRVdsVlZUWFYwTUZkVVRYWXJNMGhLUW5wTmNGTnVUalozUFQwPSI6MSwiVUdGMWJDQkpjbWx6YUFwd1lYVnNMbWx5YVhOb1FHZHRZV2xzTG1OdmJTeFhZV3hzWVdKNUxtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakF4THpBM0x6SXdNVGNLY1c1eVdHZHRZM1JVSzJRNFFVVTNNRWx2TVZWUmJ5czNTR3hvVGtWdGNVaFVWbk5wY21KWlZDdDZNamhMVGpWd2RUWjZhV1k1UWtkSE4wUlpNRk4yZW14QlQwTlFlWEphVG5vemIzaEpPVU51ZDFsVU1tWmhSR001ZUdwaVVteG1ZbXB3TURsVlRUQmlOMjl5TURWeldFWkhNa3N6U0ZWbVkzWk5Oa000YUcwNWRWbHlaV2xYTkV0TU1Xd3dSVE5HZFVob1pYaDFSM2x2Wm1GQ2RXNUdNakYxWTBWaWNWY3hTRXh1Y0hWRGJFNHJLelJvWWl0VlowaFdiWGhMZWpVM1R6QjJUbFZsVEdzcmFuRlVWU3RDUlUxWWVrNU5ZMWxMVlZGNmIwZHhNRlF3YzFvdldtNTFaMDE1VmpKU1VXeFFlRzFVYUcxblIzaEVTU3RSVVRKNmNYZHBSMjFSZVdGelNGUkxhVFZXUjJ0UVdEWldhbFZsTUdOVmNrVlFMMEp0TkM5V2RYZG9iVmRxUldWU1REWjBiMDQ1TkhwdlJXRmxVRU5KSzNsdVFuZEdUekZMZGtSM2IzWTJaa2xZTURKaGJ6SnRka3QzUFQwPSI6MSwiVkc5aWFXRnpJRUZ1WkdWeWMyVnVDblJ2WW1saGMwQXliV2x1WkM1a2F5eFhZV3hzWVdKNUxtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakF5THpBNUx6SXdNVGNLWWpOMlRUaG5Sbk51YUhkeE9HVXJablV5ZUhWd1ZVVmlUa3hYYzFOV1VqSjBZbVZUUkhWTVRHcEpOME41UTI1UldFOTZkMlZvTDBSUEwyUk1OaXMyZGs5WVZ6ZGFVMUEzVFM5RFQzWXhlbmR0TDFkNlNFWXhWMHRLWlZOWmNsZHZWRmRZTkRsbVNFSldURTlNVG1KRmQwNUllVmgwTTBSM1dubDFhMlprUVVKVlUxbFZRMkYwYXpCMk9HRnhjRzUwTkRrMkwxUlZWRWRuV1haRmFrNUpTMjlhTWs1WE5IUnlTa0o1UXpjdksyZ3lTMHhFVTFOeFkyZG9ZV3BqUVN0YVkwVjZOelpPYjNKQlNtNHJOV05FUjJKTlVHOVpZMjgyY0ZscllYaDNjaXRRYTB0d1ZFSm9jblU0V0hSVVZIbDRlRlpaTURBeFNtSldibWxWTjNaUVltVlhXVmhqUlROblZuUnRjVkUwWmpOTGMyTldaVGhFY2pZd1l6WnBTVW8xSzNaclVGTTNMelJyUmxNMFMwNUNSVmxSWTFWeEwzRmlPVTVvVmtONVVWRlVhR0ZGWTBkcmJrMVBkRTFsVUdOM2RXRkxTVXhCUFQwPSI6MSwiVjJsdUlGUmxZMmh1YjJ4dloybGxjeUFvVlVzcElFeDBaQ0FqZG5kdWRXa0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pBM0x6RXdMekl3TVRjS1F6aDBaWHBQZUZsbGIxRklhMjFUT1U5NFNEWmlNM1IwYzNkalJ6WndXakp5YVRjelJETkRkQ3Q0YlZGeFNIb3pjVGhhVjJGeU9USlhLekpVVlhKcFdIbG9UMDVHVW5SalpWZHdlRWx5TkZoallYTTBTakZzYm5OU2FqbHpaSFpsTTNaclFXMHpLMGxVT1dWdlNFMTBXbWROVDBKRlRqZGxiM1pVVmtGb09UUkxLMjgxUW5kYU9FTkxZVEpRZW1WS1RVaHpkRVp5ZDJ0R2MwdFNNbEJvUzBRdk1EVndaRGRMTnpjNGREbHZRM2hQZERWRE4zRnNZVFZzVFdkNVNscHVVVU5wVDNGR2VqSk1TM0YyU1RncmNEVnlOemt3V2poTVJUUlBVRkZqVUROdFRrd3JOWGQyUzFkeVoyaHpUVFl3YVhWVU0zRkhiSFY1VWtGTGVTOXpia3c0ZFhReWJqTjNkbnB2TkhnclZGVnRZbkZKVjJ4alkwRkVTM2hzVERGRlRpdDFhVnBJWnpGcmJXbDFlbkpDVWxOVlZ6Wm5haTlGYVhKdGFUUk1jM1poU2xocFEycHRjVzh5UWk5NFNFUjFOSFkxY21aUlBUMD0iOjEsIlYybHVJRlJsWTJodWIyeHZaMmxsY3lBb1ZVc3BJRXgwWkNBamNXTm9PSFVLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqQTNMekV3THpJd01UY0tka3RqTVdjd09FeHZkWEJQVUVOSVIxbEhTa2RIYkdObVdXcHFSazg1TjFaRmVXdEtkazVYU25Gd2NUaDVkRk5PUWtKVldrRmtVMGxWT1hKRFpXRkZTbTg0WTJKb1RrcFpaelZWZG1KS1lUVjVXWGxrZDNRMmVWcENiMHBvUmt0WldqQlZiRkVyZFVOUmRrOUlTbGhHWkV0NlNHTm1UbmxyWW5rNFQyWlBjemhNVW1GUFNHTkdkVWcyTjBNNFMyWlNhbUZJYVc1cWR6RnpURkpVWjBKUmRUWTJaRU50VkhablNubDZVSFIzYWxCVE9UVlJPVk5XZHpoUlN6VjNhR0l3VXpKeVRIQXZRbXhOY21nMVdXZzJha1ZwUmtSeE4xWXpUWGdyUVdWelJXeGtXSHBLWWxkSVpqTnFaRXhLU25GRVZ5OVdNaTlTWnpjeVFuWnRiMWhtY0VScVRXWjNkbVF3VGxZeFNITklVemc0ZEhGTVozbENjSGxvYmxaWlNEbGxTMFZTVWtseWJuTllhMVptVDJkUWFUUnNWMlJUU21kUGRVVjVVV2xZZWt4blJHeEhNVkkzUVhWdlpHZFVaVW80Y3k5a1dWWlJQVDA9IjoxLCJVM1JsWm1GdUlGUm9iMjFoY3dwdGIyOXVRR3AxYzNSdGIyOXVMbVJsTEZkaGJHeGhZbmt1YW5NZ2NHVnljMjl1WVd3Z2JHbGpaVzV6WlNBb1JuSmxaV1J2YlNrS01USXZNVEV2TWpBeE53cDZNVkprVWpWRlpXZHBWekZZTHpZeVRrczJSMFZKWmxCcVdXZ3JVVUZoUlhkTVZVdHViMHd4UVZOVmEwWXhaM2hKTVdsMVlVZFlTWGxLWm1Sak5HbE9ObUZKYmpWT2FXaFdWbTlzZDFrd2FFeEVSM3B0WVdaSlEydFhSVkp0WTFFd2NHOTBSM1kzTjBZd1puRXhhVFpQUVVWNlNGTnpTM3BQZWpaMFZVOHJjbWxXY0ZaalVIQlViRUoyZFVKa1RITTBlV2N6Wm1zMmNsbExWbnBJYTJOSGVpOHdZbmxMZFVWWVNUTkVURVJvUTNGS1UyOHhWWFpOYVVkUFZsQktVV05aV0dwcmRrcFhVWGN6UVZWSWFrdDFOWEJVVFZOQlRtTklkRkpzVVZoeGFsRklTMWxhWjNKWk0waDRXRFJtY0ZWcVMwcFdTRFpqVFZocFNUUjVNVWxuT0U4M09UZFZkVUV5TkdnNVozTnVSbFYxVjFoYVZWaGxkRTVHV2xWTVluSk1kVmh4VFVoaGFIRXhZalJsV210cmFVSnRXV2xFWkdFMU5Fd3dLelJNVG5OYVNGWk9Ra2RSUVRGd2MyMDJiQzlKYTFkNk4zYzlQUT09IjoxLCJUSFZqWVNCVGRHVmxZZ3BqYjI1MFlXTjBRR3gxWTJFdGMzUmxaV0l1WTI5dExGZGhiR3hoWW5rdWFuTWdjR1Z5YzI5dVlXd2diR2xqWlc1elpTQW9SbkpsWldSdmJTa0tNekV2TVRJdk1qQXhOd3B5ZUZZck5WWnNObE5UUTJ0Uk4zQXZia3RvYjA5NGQzYzFkRU1yTW1vNWFHOXVORUphZUVoV1QyMTVRa0ZxTW0xWmVFODRSRkJRVFhOdmNWbDNObU5PVWpkbVVVSndWSFpqZWt4bmFtSXpjM2h1YUdwNU9FUjJUa3R0YTFGbGNXcFZkVmhxYVRCSFIxbFRTa2RaT1ZaWFJqbHFaMmwxVW1oTlowVk9MMWN3TXpWWmRGTTBRME15Umk4d2NVRlpNVmRXVmpoU01qWlFWRE5PY3k4dlVFZDJiVEUyZUhvclZqaEdja1JsZWs0NWF6UmphRkZMT0RSQlJqQkdkVm94TUVwdE5qUjFaRWhOVTNsSWVtZGtlV0ZMVjNkUFRHUmlZV3N3Vm5ZNVNqZ3JPRGt6YzFaRU1VdDZXalpZU21rMFpUWXdabFkzUjFKMmJWaFVkRnBtYWxGSE1UQXdkV1JJTkc5T09VbHdPSGRVUkhZNGJrZExlRGhLV0hWdVpHODJNbEY0Y0hJMlQwcG5XaXRZV0M4eFFsRm1UMVJvYzI5cVRXUm5SR3hYUTA0d2RrTlpMMDVxUlVaa1VHdGpVRnBRWkV0YVFVOTJRVUU5UFE9PSI6MSxURzkxYVhNZ1ZtRnVJR1JsSUVOaGJITmxlV1JsQ25aa1l5NXNiM1ZwYzBCbmJXRnBiQzVqYjIwc1YyRnNiR0ZpZVM1cWN5QndaWEp6YjI1aGJDQnNhV05sYm5ObElDaFdVeUJEYjJSbEtRb3hPQzh3TVM4eU1ERTRDa1I0WTB4WlRWRTBVQzgyYkdScGIycFRWVTlRWjBabGVYcHBiM0ZIWjA1aFoxYzJjM0pOTmpOeE9EWlhRekYwUVU1MldGVklhaXQzY1hweVFuZDZSa2RNWkdGVmRYaFRSVFZGUmtZeWFFaE9RMGROTTBaWmRsZE9jRGxUT1VSSWNDdHVORE13VUhkTk0yRjBXVlE1TVVOQk5YVkxZamRqYWt4Mk9VTmlUVVZOTURobk5ISkhOVVIxWW5vM1dIRXhlWFF4TWpsNFdVVjZhbXhaUW10U09VOUlNbnBQUlhKWGIwRnFVVzVQZVZoMGNXMVZSelZWTkdKTU1YcFNhRWhDVGtoeVJXTnRibWgwWlhoNWRIRkROVGR5VEhKR2VqSkZORk5MYTJWa2VUYzFjMnB6Ym1oSU1WaFpOR3hQT0hkeFFrVTVTa3A2Vm5WWFJtMWtjVWh5WW5KQ2JVWkdhVVZFTTFoT2NsWkVaVUZoYm1kMlVXZE9RMDUwV2tSQlQzZDBRVE5HVjFaT1RFUnFNamxyY21KMFFqSlFOMHR0UldsV1UxSTBXVGROVjJ4MWFrMDBXbmcyZVhWb2J5dHNPVWRsYUVKNlZISTBkejA5OjEsIlJHOXRhWE52Wm5RZ1VHbHZkSElnVG05M1lXc0tjQzV1YjNkaGF6SkFaMjFoYVd3dVkyOXRMRmRoYkd4aFlua3Vhbk1nY0dWeWMyOXVZV3dnYkdsalpXNXpaU0FvVmxNZ1EyOWtaU2tLTVRBdk1ESXZNakF4T0FwMFZ6bDJXbGxOWVVwQ1IzTnBNMEpJUjBkWVUzbHFPRFYyT1ZkTlZUTTFSbEprZVZsUlVVTnhaWEpuVUZkTGJrbEhWRmh0ZUdWaEszSlFURWhySzJselFVeDRaRU5tZFZneE56bFFZeTlxWjNSMloxSk5jV2NyU1hsbWJYbzFPV01yWTFBNWNHSnZOREIyT0ZZcmIwWkdOM1pCWkZoVmMwVTFURkJ4U2t4Q1NuRjBlV2hMSzBKSmVXZHZOVFowYTNoRmMyOW9NRGsyYTAxRGRuZE5SbVl3Yld4NFVGb3diazlzUTFndlFrSnNMMHB0ZEdSM04wcGpLMU5ZZVRjeVZUWkthR1ZwV0VsVk5HaENSVkZNZVVKcFJtdFFPR0pZWjNjeVlXTXJUbWgyU2xsWmJWaDBjMjFHTHpSUlRqRnphVUpDWjNwMWRHWjZWVWhhU25KV05GZExOR1JqVmpjNVp6VnpZaXRaVVhsRmRtaHROakZWWVdWMVFtWnBhRnBKVWtKNmNGbERhbFJDVTFJM2RFSmhWWGRHVnpkbmRIaG5ZblZUUWtRMWMwNVdWV0YwY0dVeGRYQnRURlJ4TWtWRU1VRktTR1pMTUZFOVBRPT0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpabmw2TUhjS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLWTJ0UlZ6azNSbk5qU3l0SFdVWkNTRnB0YVZoTVYyOVRkbEZoVTJrNFF6UTBMMWQzWVdFd1dFMXZWbVIwUlVRMWNuWXJOaTlrWXpSUFVUWlZhRlYxT0UxdllrMVVkemR0WkdwNVRHVkVNamQwY2paalJrMXlZakJ0YUhkeE0zZDRhelkwZFc5NGFrdE1WbXMxU0dSb2FGVmlWRkpDSzJsdmJtNDVPV0ZtTDJodFRVZFhVVmxuYTB4UldXZEhja3RCWmtsSmF6RTVTVmRZTVU1cVFpczVZVkZpTVdORFdGUjNSSG80UTB4T1VtUlVNRFpLUW5OdmIxQndlbEZ2TUdsQ2JrdFdTRlZUVjA5U1MwZ3pPRUZzTjB4SWFEY3hiVXcyVlcxa1ZHMUZhVkZIWW5RNFFqQllkUzgxU2xaMWRXdDJSSEUwWm5aTGVHNXZla3BoVjFBclRYcHlSMU0wZWt0dldFOXBha0prUm5VNVRURXpkeXRaVGk4MVZXOWlRMEV4U2xSelFtTXlkbWMyU0hGVU0xbDZRMU5HTlZrMmRqVjRXVGh1ZUdNeE9UVkxkRE50ZW5wcE1tOHljbVZPUWtSNVFuQkhUVEJSUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBak1HWTBOM2NLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tkMHh5VDFGdFRWQm1SV3BWZUhaSWN6WnhhMFZoYUdwVWRYZE1TazFEVWxsVWNVVktaSGRYY2psTU5VcERWRmMxYlhscGJYTTFVV1JXTms5V2JsUnNibEp3UzFWbFFrUkhXRGN3YzNwNFREWXZiVFZ2WldkbFNHWm1aVGxpUTNGM1FYWlpLM3BPYTBSeEwwUXpSMnRrZDJwWk5qbFRiV3h5UkhoMlozRm5VRTkyTVRndlRXeEhlRWhHU21kVmJtOVRWbmdyUWpKNWEzbDNXV0pUYnpKSE5ubGpXamRYY0c5TE9IbDBaRWx0YWxNcmFGZDRRME0yTTBOb1VHb3piM1UwZVhCNE1tSXdjMEZUTlUxdmFXcGFXRWhLYzNNeVJVOHZWR2hZV1U5RVlqaE1VVEZXYzJGNlREaExSRFozVldoT1NHVmhaa1JzZEdwaVVtVnViVU5pZGxBME9XdHViWEZMWms1VGRXeDRja0YwZVRBMWExTkdNamh2U21VMFFUVkRXR0puWjFsTE16TjRXbnAxTkd0NGFtdFBWM0pKTDBkeGJUaHliR0o2VHpWV1JqTkJVRVF2WTBRdmFXTlJjVE4yVDJvMFpWRlJQVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqWWpadFl6Z0tjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2JHZDRSU3R1UWtkeGFqVXJXWGQxYWxneVdVRmtjMHhOWjB4M2FrNXBPRmxtU0hkSlZuZHhVV05ZTWtWcGRraE5XbEZGUXpWMU9DODJiemRNT1ZjME4ybFBSM05aUzBOR1IwY3pXa3BqU0hkRU1EVjNOVWxWUWxKclFrZ3dWVEk1UmxneFYwMVBXV1ZrU1RoTVZtSTVkMlV6ZFVrNU9HOVFTVW81WkhkdVZHRjVlakJWSzJrNWNrZDZjRzVyVFhWblduaE9ZakIxVjJ0WVdGbEZWa3RsTDJGbGJpczViV3RhVFZCQ0wxRnhaR2RRTVROYWJtWm9PRXA0UlVkd2RqWllWRE5SWXpsemEwZzVTRkpQYVVaMldGQXhUbTE1TlRkbmNVcFVkWE13YVhGWmEycFdWbU5zZWxwaFJVMUpLME5SZUdSRWEwc3dia295V1hWWU5ERTFZemt6WkZwb0t6ZHFiRnBuWkhWQmEyNVBXVUp4YUZWeE1qUjZiVXRyUXprNVlWZGhOMDVhWVdwaGNVd3ZSazloTDBSck1taFlaR1pQVW5rNGNtbGFiMk5VSzNCSlYyVktaMGgwY1hKVVJGbHlRbTVzUlVwM1BUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpNemRyY0hnS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLWkhocEsxSldla2RXTkZKTVYzRlRWVTVZU1daTFR5dHpNM0pVSzNZeVNqZzFZelJTTDJaRVRITjZjbXc1V1doRmFtTllLMk5NVDBSSFVXTnFVV0prZEZKTGNHUkxaVTF5U2taMmFVMDNWbVZqZG5NdksxRmFibXh1TUd0RmNrdFhVMjRyTURSR05HRnVaMlowY0dOaVJtMTFaakJMTHl0NFVYWmhVM0E0T0VSbFRUaFpNV3B1VGpKUmF6SnhkRVZRY0N0Uk9HZERVaTlhUTJ4RlZGWnpVRmxJUnpST015OUpVVEpWVm5SV1NYaDJkSFY2TjBsa2VWVjNURTE1V21WS1QwOXpTVWROTldwaU5YbHZkM0J4VlZKamNFWlhUbEF2V1hoWVpGZ3JUbU5UUXpNdldtMHdiV2hsVUhSSlJHZGxUSEl5V0d3dlUyRnJhUzlYUVRSWGNIZG9hWFF6ZHl0aWIzbDFhRkJ2WlVoRWFFWlBOM2t3VGpVM1ltUkRTU3RsVHpjMVR6UTBjRnBWUW10ME1HNDRXbkJoV1ZNNFVEZEdUVWRUV0hwck1FbE5hbUpvVmt0WmEzbzRlall2WlU1REsweHNSU3QzUFQwPSI6MSwiVjJsdWRHVmphRzV2Ykc5bmFXVnpJQ2hWU3lrZ1RHbHRhWFJsWkNBamRqSnZkemdLY0hWeVkyaGhjMlZ6UUhkcGJuUmxZMmh1YjJ4dloybGxjeTV1WlhRc1YyRnNiR0ZpZVM1cWN5QmpiMjF3WVc1NUlHeHBZMlZ1YzJVZ0tGWlRJRU52WkdVcENqRTJMekExTHpJd01UZ0tVa2t4U3padGRqaDZRV3B0VGtSRWRYUlliWFZ4ZW1VNGJHdFRhRkpSZURSRlNUbElVVFZYUVRsWVduZGhWRGMxUW1kb2NIcFRhWHBCZEZwNFlWaDVaRU5SYkVaRVRHSXdjMmhGWldOQ1FuTk5ha3hYZEUxcFJ6UkhaMGxWZEdaTk1UVlNSRWQ1TVRsc1VsazNVV1pUU0hoSlZrbEdiVFkxVkdwdWEzVldOSFpRUkhkQk5sTlNlV2xMYVVaNUsxZHBLM1JOWW5jNVlTdEVVMmc0TmpsNlVqRk5jbkpRV2tacFJXTXhkRWwxUldwV1Z5OVZibmhITW1oaE5HWXJWVk0zZVZwNWVXcEtUelJZV25jeFZTdGhSVTlQYmt4clFsaHNhMjkwWTNGbE1FRXJNaTl2VDI5c1ZXWTJXVFJSYVVscWVXaHNXWFJVY1RJdlozQlZka1YzZFhsVmFsZHhNa1I1TlZNNVRuVmxLelZzTDNKTlVFaFFaMFJWVXpOV2JXWnlNSG92UWpGRlNHTlpTM0pzVlRJeFdtaFJUM2h3ZUVsblUycHpXV1J0VGtOWVluUlJja3RrVmpSWVZteEpkMlprVGxoR1kwSm5QVDA9IjoxLCJWMmx1ZEdWamFHNXZiRzluYVdWeklDaFZTeWtnVEdsdGFYUmxaQ0FqTWpWaU1uSUtjSFZ5WTJoaGMyVnpRSGRwYm5SbFkyaHViMnh2WjJsbGN5NXVaWFFzVjJGc2JHRmllUzVxY3lCamIyMXdZVzU1SUd4cFkyVnVjMlVnS0ZaVElFTnZaR1VwQ2pFMkx6QTFMekl3TVRnS2FFcE9PRzF5TkdFemFtbDRlbVZTYjFsdk16SndVRzAzTlhndkwyaDRRa3RsWjNkcGQxcFhNMUZFU2s1TlZXdFZNVzlyTm5sVVVFdzBaakowWkdob2MyWlFVM2hRSzJaWFZUbElhbTlvTjFSV1QzZFVjV1Z6T0ZsVVpGSkdNRFJ2YUZFNVNtVnFNbUZLZVUxSlkxUkdObUZ0YTB0UFdWWldZVVpETkRaWU9FcGFUVFZVUTFWdmJFTlhWaTlOVFdkallqZExPRVpYTkZwTFozWjBVRUZEWlZONmJWcHBibkZTZDBoaVRqQlZPRm94TUZNNU9YVkxMMWRMZFVsQmRuUmhVamR0VFdkS1kyeGFlRmgzTkdkVlJERjBiMW80YWsxVE9FaENXbloyYjFsWWFFdFRWVXhGZVU0dldFNWplREE0WTNCVlYyVXJjWE4wTVhGVlJGQXpaamR0TjFWTVYxbHNSblk1VTA4clVWaGxOV0ZJUTNwbFREWmxRM2MzV0ZFd1NFWkdWV05ZYkhkaVozVnJNMjB5VTFaelZESnNRMVp6ZVc1NVltbDBaMlZOTW1KUmJYaEtibkJHZEZoWFVFNTBSVTVKUW1kM1BUMD0iOjEsIlYybHVkR1ZqYUc1dmJHOW5hV1Z6SUNoVlN5a2dUR2x0YVhSbFpDQWpibmwyYWpjS2NIVnlZMmhoYzJWelFIZHBiblJsWTJodWIyeHZaMmxsY3k1dVpYUXNWMkZzYkdGaWVTNXFjeUJqYjIxd1lXNTVJR3hwWTJWdWMyVWdLRlpUSUVOdlpHVXBDakUyTHpBMUx6SXdNVGdLVTFkWVVXaHhka05vWWpkMmNtcFhkREY0VjI5eFRTOTNia0ZGWW5FeFQybDVUbXhPZDFGeWVXTmFMMVJKZFVZd1V5OTNWblpZYWxsU1dFSk5WRFo1V2poa0swbFdMMXB5UmxGQ1pGTmhTalJYWWtGSU5rNVpSalpZWm5ZMlpUQnFjelJ6TWxSNWVFWkZaemg1WmxSUE9YRm9SbUZ5TTFsclVrOVBURXhpTVdzemN6QlJOSEpXZEZKaEswZFFXSGN3VEVacllVMUtVRTEzUkhobVdYcFNiVE5DYjJKcWJDdG5iMlpPV21GSVNVSTFlWEF3VDI1YVJrVTVaMjFaZEhBNFpISmtZMjVzZDNsMFRYRjBRVzFoT1M5alFVMHZNU3RsUzNKRVJ6aHdTVVpWY1c1b2RIcG1SRTFZVlRodFRtOHZSVVpyU2pkRGFVeG5ObkJZYkVJMU4wd3hkVEJoU21ZelUwbHpkRTF4ZDBzNFRVOVFXRlZGWTFaT0wzVmxZMFZVSzNCRlYyOXBSM1IyT1ZWSk0yUmxPV0pyU0hoa2RVWklUR1o1ZWsxVU9GZDFaazFyUzFoYVZUUmtjaXRXZDAwMU5rRlBNVU5uUFQwPSI6MSwiVm1sdVkyVnVkQ0JHYjNWeWJtbGxjZ3AyYVc1alpVQnVkR1p2ZFhKdWFXVnlMbU52YlN4WFlXeHNZV0o1TG1weklIQmxjbk52Ym1Gc0lHeHBZMlZ1YzJVZ0tFWnlaV1ZrYjIwcENqRTNMekEzTHpJd01UZ0tiSEpMT1ZSak4xTXlXV05XWjA5RGNEUldXVWx4VUZsWGIzZGxMekUxTkdacVpsZFFTVE5rT0ZocFlUTnlhM1ZXV1V4SWFraEpXRGhJTm5BMGQwY3ZNV0ZFTVdoMFJIbDBNSFpHUWtGd1p6UkxSWFEzWWs5elIyRm9jRzVIYTB0dU9IWnNlalI1VFVwNFNETkpTMVJ5YkVsU2VHc3hiRmhYT0RCR1ptMHpVMDV1ZG5WSWIzUlJZME00YURSMlVGRTJaRnBFT0ZSNlVIUnNPRW94VURsMlNsVkZVMEpzUm05TWRuUlFNMVZPYUM5NVYyZFJRVU40ZEhrdlFXNWhlbEZOV0hGRlRFWllTRVZPZFZOck1HZERUbGRGT0c5SmRVVjRPVzQ1TDNJNVIydElNbFJ0YzFkQ2NsSkdjRFpwV2taUE4wbHNNRFJhZDBOTmNsZEpZME14TldseU5WUmtWV3htTXpWSkwyRndXVWh6YW1wNVZqTnlNSFZzVlVocE5WUlRUbGxPU2pSa1EwUjRiVkZMTm5wUGQxVmxSMjF1TDJrdmVHZzVaME5GZFdobWREQnJOMWx5YkhVMGNERnlZM2swV2tsd1p6Um5QVDA9IjoxLFRtbHJiR0Z6SUV4cGJHeHhkbWx6ZEFwdWFXdHNZWE11Ykdsc2JIRjJhWE4wUUdkdFlXbHNMbU52YlN4UmRXOXJhMkV1YW5NZ2NHVnljMjl1WVd3Z2JHbGpaVzV6WlFveU9DOHdPUzh5TURFNENsTkplR2R6WW1Oak1tdDNaV2MxVFVOa2VYaExiR00zTm01VlRVTlNlRVJUTVM5SU9UYzFRa28zUnpOaU5XaFdjVGx3ZUVGNGRtZDJNR3RRVFdwdmEwbHNVVFp4Y0N0MVFWQlVNR0ZyUmt4b2VrSjNiVGQzVm1KRVNVNVBTbGxtY2twMVprbzRVRU5UTVN0WmRVcFdTRGdyVUd0cVRrbGxVM2RDU0U0ME1tTnFXRWhsWmxaalZVTXJRaXRDVEZKb2JWcElNMEZDVjBSdWRGVmlkRUZvZEVFNVlVODFORnAwVW1OYVVEQjFMMjUzVnpkV2RWRnRRMHROUzNsTFF5OUVhRmh2VVU5R1dVcHFTWFZUTVdwQlZ6RkVLM0ZPZWk4eVdVUkNiMWhwTWpJeGMxaFZkRXRKZDNoYWFtRndOVWxzU1UxVE5FOVdiMFZ4ZVdVMFpFSTVhV05RTlV0bWMxWXJRakZpYUdWbldGTlZSV2RrTnpKMUszVkhOWGx5V0hCWlpEZHFVWEJLUld4dk1tTXZVWEpyZWxjMk5WaElZalpZV1d4bWVGbEdWVTFPUmtscFNqbG9MMFpHWmpKVVNYSnpVSEYxUW5FcmR6MDk6MSwiVFdsclpTQkNiMkpoWkdsc2JHRUtiV2xyWlM1akxtSnZZbUZrYVd4c1lVQm5iV0ZwYkM1amIyMHNVWFZ2YTJ0aExtcHpJSEJsY25OdmJtRnNJR3hwWTJWdWMyVUtNak12TVRJdk1qQXhPQXBLTUZNMU0xVnRWeko1WVdob01VTlpVMVJZTDA1bFUwb3JXV3RUVmtWQlUyZFFMMjVIY1ZOSGNVTkdWVFZXVFRBcmVUa3ZWV1JaTm1RNFZsTktOM1ZrVUU4MU0yaGFNbVY0UTNsU1NTc3dUVUpYT0hCdGRta3ZkVXdyVWpWcmVHNUlZVFJ5ZEhSelNtNWhTamM1YVVObkwyUkthMnRQUjNOV2VuUTJUbkU0ZFU1a1IzZHNVa1JvZEZKR2JWQXZVakpUTkZjMk1EVTVhRFpLY0V0bFlUbFZRbTVEUVRJeFdqWk5OMm81TlV3MFEwdDVUMkkxWTBFNFkwUlFUMkpHWldZMFUydHBZVmxPV2tWTE1qbEdkalIwWnpZM1FTOW5VMVEwUW5wWllsTnNXbUV6ZDNaTGFteEVSRkF5V0RaV04zRjVOSFZCVlVvclNGVXllWFV4Vms0NFdsQmtXWGd6VVhKVWRVNXFOWGxJTVRKbFNrdElkRUVyY0N0S2VFZDZNVU5XWkVaQ1QwaGxTRWxMVEhWVGIwZFBhR28yUlRrMEsxa3Zha2RpWmxsbGJXbElOVnBTV0hReWN6WnlSRUZuU0RkREt6UnpOM2M5UFE9PSI6MX07Xy5lYWNoKEYsZnVuY3Rpb24oZSx0KXt0cnl7RltfLnJ0cmltKHAucGFyc2VLZXkodCkubGljZW5zZVNpZ25hdHVyZSwiPSIpXT0xfWNhdGNoKG4pe319KTt2YXIgYj1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUpe3ZhciBuPXQuY2FsbCh0aGlzKXx8dGhpcyxpPW47bi5fZGlmZk1hdGNoUGF0Y2g9ZS5kaWZmTWF0Y2hQYXRjaDt2YXIgcj1lLlByb2plY3Q7bi5fcHJvamVjdD1uZXcgcihlKSxlLnF1b2trYT8oZj02ZTUsbT01LHY9Mik6ZGVsZXRlIHByb2Nlc3MuZW52LnF1b2trYSxuLl9xdW9ra2E9ZS5xdW9ra2Esbi5fcXVva2thRWRpdGlvbj1lLmVkaXRpb24sbi5fcHJvamVjdC5vbigibWVzc2FnZSIsZnVuY3Rpb24odCl7aWYoISFlLnF1b2trYT09ISFwcm9jZXNzLmVudi5xdW9ra2Epe3ZhciBuPWlbInByb2plY3Q6Iit0LnR5cGVdO24mJm4uY2FsbChpLHQpfX0pLG4uX2ZzPW5ldyBkKG4uX3Byb2plY3QuX2xvY2FsUm9vdCxlKSxuLl9tb2RlbD1uZXcgaCh7ZmlsZUlkQnlQYXRoOmZ1bmN0aW9uKGUpe3JldHVybiBpLl9mcy5pZEJ5UGF0aChlKX0scHJvamVjdDpuLl9wcm9qZWN0LGFsd2F5c1NlbmRBbGxMaW5lczoiVlNDb2RlIj09PWUuY2xpZW50fHxuLl9xdW9ra2EmJiJBdG9tIiE9PWUuY2xpZW50fSksbi5fbW9kZWwub24oIm1lc3NhZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0PWlbIm1vZGVsOiIrZS50eXBlXTt0JiZ0LmNhbGwoaSxlKX0pLG4uX3Byb2plY3QuX21vZGVsPW4uX21vZGVsLG4uX3JlYWRGaWxlU3luYz1lLnJlYWRGaWxlU3luYyxuLl93cml0ZUZpbGVTeW5jPWUud3JpdGVGaWxlU3luYzt2YXIgcz1hLG89YS5jcmVhdGVWZXJpZnksbD1hLmNyZWF0ZUhhc2g7cmV0dXJuIGE9e2NyZWF0ZVZlcmlmeTpmdW5jdGlvbigpe3ZhciBlPW8uYXBwbHkocyxhcmd1bWVudHMpLHQ9ZS52ZXJpZnk7cmV0dXJuIGUudmVyaWZ5PWZ1bmN0aW9uKG4pe3RyeXt2YXIgcj1zLmNyZWF0ZUhhc2goIm1kNSIpLnVwZGF0ZShuKS5kaWdlc3QoImhleCIpOyI3OTQ3OWZlOTRmY2QyYmQ5ZjE0MWFkMTcxN2MzNTI4MiIhPT1yJiYiNjY1NzEwOWZiNDQyNjMzZjQxMmYxMjg3ODg4NzE5NjAiIT09ciYmImNjNDhmZGM5MWQ4ODI1Y2E5N2IzMWM1NWNhMDM0ZDQ2IiE9PXImJiI0N2FiZmRmYTdiY2Q0MTZlMGY5YzY5OTkxZWMxZjg5NiIhPT1yJiYiMDdlZDFmYzZhM2EzMmQ2NjA5OWZlMTg3MGM4M2EwY2UiIT09ciYmaS5fdHJpYWxNb2RlKCl9Y2F0Y2gobyl7fXJldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX0sZX0sY3JlYXRlSGFzaDpmdW5jdGlvbigpe3JldHVybiBsLmFwcGx5KHMsYXJndW1lbnRzKX19LCghZS5xdW9ra2F8fG4uX3F1b2trYUVkaXRpb24pJiZuLl92ZXJpZnlMaWNlbnNlKGUucXVva2thPyJRdW9ra2EiOmUuY2xpZW50LGUubGtwKSxuLl9jb25zb2xlT3V0cHV0PVtdLG59cmV0dXJuIGkobix0KSxuLnByb3RvdHlwZS5jb25maWd1cmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBlLl9ydW5JZlZlcmlmaWVkKGZ1bmN0aW9uKCl7cmV0dXJuIGUuX3Byb2plY3QuY29uZmlndXJlKCl9KX0sbi5wcm90b3R5cGUuZmlsZUNoYW5nZWRJbkVkaXRvcj1mdW5jdGlvbihlKXt0aGlzLl9mcy5maWxlQ2hhbmdlZEluRWRpdG9yKGUucGF0aCxlLmNvbnRlbnQsZS5jaGFuZ2VGcmFtZSl9LG4ucHJvdG90eXBlLmZpbGVPcGVuZWRJbkVkaXRvcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tb2RlbC5maWxlQnlQYXRoKGUucGF0aCk7dCYmKHQub3BlbmVkSW5FZGl0b3IoKSx0aGlzLl9lbWl0RG9jdW1lbnRMaW5lcyh0KSl9LG4ucHJvdG90eXBlLmZpbGVDbG9zZWRJbkFsbEVkaXRvcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbW9kZWwuZmlsZUJ5UGF0aChlLnBhdGgpO3QmJnQuY2xvc2VkSW5BbGxFZGl0b3JzKCl9LG4ucHJvdG90eXBlLnJ1blRlc3RzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3Byb2plY3Quc2V0dGluZ3MoKSxuPWUucmVxdWVzdCYmZS5yZXF1ZXN0LmV4dGVybmFsRmlsZUNoYW5nZSxpPWUucmVxdWVzdCYmZS5yZXF1ZXN0Lmluc3RhbGxQYWNrYWdlO2lmKGkmJnQmJnQucXVva2thJiZ0LnF1b2trYS5pbnN0YWxsUGFja2FnZSYmaS5uYW1lPT09cC52YWxpZFBhY2thZ2VOYW1lKGkubmFtZSkmJnQucXVva2thLmluc3RhbGxQYWNrYWdlLmNvbW1hbmQpdHJ5e2wocC5mb3JtYXQodC5xdW9ra2EuaW5zdGFsbFBhY2thZ2UuY29tbWFuZCx7cGFja2FnZU5hbWU6aS5uYW1lfSkse3N0ZGlvOiJwaXBlIixjd2Q6aS5sb2NhbD9wcm9jZXNzLmN3ZCgpOnQucXVva2thLmluc3RhbGxQYWNrYWdlLmRpcn0pfWNhdGNoKHIpe3JldHVybiB2b2lkIHRoaXMuX2VtaXRTdGF0c1VwZGF0ZShyLm1lc3NhZ2UpfXZhciBzPXRoaXMuX21vZGVsLnRlc3RzQnlSZXF1ZXN0KGUucmVxdWVzdCk7dGhpcy5fcHJvamVjdC5ydW5UZXN0cyh7dGVzdHM6cy5sZW5ndGgmJnN8fHZvaWQgMCxleHRlcm5hbEZpbGVDaGFuZ2U6bn0pfSxuLnByb3RvdHlwZS5pbnN0cnVtZW50ZWRGaWxlPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6Imluc3RydW1lbnRlZEZpbGUiLGlkOmUuaWQsZGF0YTp0aGlzLl9wcm9qZWN0LmdldEluc3RydW1lbnRlZEphdmFTY3JpcHRGaWxlQ29udGVudEJ5UGF0aChlLnJlcXVlc3QucGF0aCl9KX0sbi5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcy5zdG9wKCksdGhpcy5fcHJvamVjdC5zdG9wKCl9LG4ucHJvdG90eXBlLnVuY292ZXJlZFJlZ2lvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49e3R5cGU6InVuY292ZXJlZFJlZ2lvbnMiLGRhdGE6e30saWQ6ZS5pZH0saT10aGlzLl9tb2RlbC51bmNvdmVyZWRSZWdpb25zQnlSZXF1ZXN0KHQpO3JldHVybiBpPyhuLmRhdGEucmFuZ2VzPWksdm9pZCB0aGlzLl9lbWl0KG4pKTp2b2lkIHRoaXMuX2VtaXROb3RpZmljYXRpb24oImluZm8iLCJBY3Rpb24gaXMgbm90IGF2YWlsYWJsZSBmb3IgZmlsZXMgb3V0c2lkZSB3YWxsYWJ5LmpzIHNjb3BlIil9LG4ucHJvdG90eXBlLmxpbmVSZXBvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXF1ZXN0LG49e3R5cGU6ImxpbmVSZXBvcnQiLGRhdGE6e30saWQ6ZS5pZH0saT10aGlzLl9tb2RlbC5saW5lUmVwb3J0QnlSZXF1ZXN0KHQpO3JldHVybiBpPyhuLmRhdGEucmVwb3J0PWksdm9pZCB0aGlzLl9lbWl0KG4pKTp2b2lkIHRoaXMuX2VtaXROb3RpZmljYXRpb24oImluZm8iLCJBY3Rpb24gaXMgbm90IGF2YWlsYWJsZSBmb3IgZmlsZXMgb3V0c2lkZSB3YWxsYWJ5LmpzIHNjb3BlIil9LG4ucHJvdG90eXBlLmxvY2F0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt0eXBlOiJsb2NhdGlvbiIsZGF0YTp7fSxpZDplLmlkfSxpPXRoaXMuX21vZGVsLmxvY2F0aW9uQnlSZXF1ZXN0KHQpO2k/aS5maWxlPyhuLmRhdGEuZmlsZT1pLmZpbGUsbi5kYXRhLmxvYz1pLmxvYyx0aGlzLl9lbWl0KG4pKTp0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJpbmZvIiwiQ2FuIG5vdCBsb2NhdGUgYSBmYWlsaW5nIHRlc3QiKTp0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJpbmZvIiwiQ2FuIG5vdCBmaW5kIGFueSBmYWlsaW5nIHRlc3RzIil9LG4ucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVxdWVzdCxuPXt0eXBlOiJlcnJvciIsZGF0YTp7fSxpZDplLmlkfSxpPXRoaXMuX21vZGVsLmVycm9yQnlSZXF1ZXN0KHQpO2k/bi5kYXRhLmVycm9yPWk6ImZhaWxpbmdUZXN0Ij09PXQudHlwZSYmdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiaW5mbyIsIkNhbiBub3QgZmluZCBhbnkgdGVzdCBlcnJvcnMiKSx0aGlzLl9lbWl0KG4pfSxuLnByb3RvdHlwZS5jb250aW51ZVRyaWFsPWZ1bmN0aW9uKCl7dGhpcy5fY29udGludWVUcmlhbFNlc3Npb24mJnRoaXMuX2NvbnRpbnVlVHJpYWxTZXNzaW9uKCl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OnByb2plY3RDb25maWd1cmVkIl09ZnVuY3Rpb24odCl7dmFyIG49dGhpcztzPWUoImRlYnVnIikoIndhbGxhYnk6ZXh0ZW5kZWQtY29yZSIpLHRoaXMuX2ZzLnNldHVwKHQuZmlsZXMsdGhpcy5fcHJvamVjdCYmdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuLl9zdGFydCh7ZmlsZXM6bi5fZmlsZXNGb3JQcm9qZWN0KGUpfSl9KVsiY2F0Y2giXShmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gc2V0IHVwIHByb2plY3QgZmlsZSBzeXN0ZW06ICIrbi5fZXJyb3JNZXNzYWdlKGUpKSxuLl9lbWl0VGVzdFJ1bkVycm9yKG4uX3Rlc3RSdW5FcnJvck1lc3NhZ2UoZSkpfSksdGhpcy5fZnMub24oImFkZGVkIixfLmJpbmQodGhpcy5fdXBkYXRlUHJvamVjdEZpbGUsdGhpcywhMSkpLHRoaXMuX2ZzLm9uKCJsb2FkZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCExKSksdGhpcy5fZnMub24oImNoYW5nZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCExKSksdGhpcy5fZnMub24oImRlbGV0ZWQiLF8uYmluZCh0aGlzLl91cGRhdGVQcm9qZWN0RmlsZSx0aGlzLCEwKSksdGhpcy5fZnMub24oImVycm9yIixmdW5jdGlvbihlKXtjb25zb2xlLmVycm9yKCJGaWxlIHN5c3RlbSBlcnJvcjogIituLl9lcnJvck1lc3NhZ2UoZSkpLG4uX2VtaXRUZXN0UnVuRXJyb3Iobi5fdGVzdFJ1bkVycm9yTWVzc2FnZShlKSl9KSx0aGlzLl9mcy5vbigibm90Q2hhbmdlZCIsZnVuY3Rpb24oZSx0LGkpe3RyeXtpZihpJiZpLnN0YXJ0PT09aS5lbmQpcmV0dXJuO3MoIkZpbGUgd2FzIG5vdCBjaGFuZ2VkLCBidXQgZmlsZSBtYXJrZXJzIG1heSBuZWVkIHRvIGJlIHN5bmNlZCIpO3ZhciByPW4uX21vZGVsLmZpbGVCeUlkKGUuaWQpO2lmKCFyKXJldHVybjtuLl9lbWl0RG9jdW1lbnRMaW5lcyhyKX1maW5hbGx5e24uX2VtaXRTdGF0c1VwZGF0ZSgpfX0pfSxuLnByb3RvdHlwZS5fZW1pdERvY3VtZW50TGluZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKTt0W2UucGF0aCgpXT1lLmFsbExpbmVzKCksdGhpcy5fZW1pdERvY3VtZW50VXBkYXRlcyh0KX0sbi5wcm90b3R5cGVbInByb2plY3Q6dGVzdFJ1bkVycm9yIl09ZnVuY3Rpb24oZSl7aWYocHJvY2Vzcy5lbnYucXVva2thJiZlLm1lc3NhZ2Upe2UubWVzc2FnZT1lLm1lc3NhZ2UucmVwbGFjZSgiUG9zdHByb2Nlc3NvciBydW4gZmFpbHVyZTogIiwiIik7dmFyIHQ9ZS5tZXNzYWdlLmluZGV4T2YoIiwgU3ludGF4RXJyb3I6Iik7aWYodD4wKXtlLm1lc3NhZ2U9ZS5tZXNzYWdlLnN1YnN0cih0KzIpO2Zvcih2YXIgbj1lLm1lc3NhZ2Uuc3BsaXQoIlxuIiksaT0wO2k8bi5sZW5ndGgmJiFfLnN0YXJ0c1dpdGgoXy50cmltTGVmdChuW2ldKSwiYXQgIik7aSsrKTtlLm1lc3NhZ2U9bi5zbGljZSgwLGkpLmpvaW4oIlxuIil9fXRoaXMuX2VtaXRTdGF0c1VwZGF0ZShlLm1lc3NhZ2UpfSxuLnByb3RvdHlwZVsicHJvamVjdDp0ZXN0UnVuUmVRdWV1ZWQiXT1mdW5jdGlvbihlKXtpZighZS50ZXN0RXJyb3JSZXBvcnRlZCl7aWYocHJvY2Vzcy5lbnYucXVva2thJiYhZS5yZXJ1blNjaGVkdWxlZClyZXR1cm47dGhpcy5fZW1pdFN0YXRzVXBkYXRlKHRoaXMuX21vZGVsLmZ1bGxUZXN0UmVzdWx0c1JlcG9ydCgpKX19LG4ucHJvdG90eXBlWyJwcm9qZWN0OmJ1c3kiXT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyQ29uc29sZU91dHB1dFNlbmRRdWV1ZSgpLHRoaXMuX2VtaXQoe3R5cGU6ImJ1c3kifSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OmxpdmUiXT1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KGUpfSxuLnByb3RvdHlwZVsicHJvamVjdDpjb25maWdDaGFuZ2VkIl09ZnVuY3Rpb24oZSl7dGhpcy5fcXVva2thPXtwcm86dGhpcy5fYWRqdXN0UXVva2thRmVhdHVyZXMoZS5wcm8sZS5zZXR0aW5ncyl9LHRoaXMuX2VtaXQoXy5vbWl0KGUsIl9pbnRlcm5hbCIsInNldHRpbmdzIikpfSxuLnByb3RvdHlwZVsicHJvamVjdDptb2R1bGVMb2FkZWQiXT1mdW5jdGlvbihlKXt2YXIgdD1lLnNlc3Npb247aWYoZGVsZXRlIGUuc2Vzc2lvbix0aGlzLl9xdW9ra2EmJiF0aGlzLl9xdW9ra2EucHJvJiZ0JiZlLnBhdGgmJiF+ZS5wYXRoLmluZGV4T2YoIm5vZGVfbW9kdWxlcyIpJiZ+ZS5wYXRoLmluZGV4T2Yoby5zZXApKXt2YXIgbj0iT25seSAnUHJvJyBlZGl0aW9uIG9mIFF1b2trYS5qcyBzdXBwb3J0cyBwcm9qZWN0IGZpbGVzIGltcG9ydC4iO3QucmVqZWN0KG5ldyBFcnJvcihuKSksdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigid2FybmluZyIsbix7c3VnZ2VzdFByb0VkaXRpb246ITB9KX19LG4ucHJvdG90eXBlWyJwcm9qZWN0Om5hdmlnYXRpb25SZXF1ZXN0ZWQiXT1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOmUudHlwZSxmaWxlOmUucGF0aCxsb2M6ZS5saW5lKyhlLmNvbHVtbj8iOiIrZS5jb2x1bW46IiIpfSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OmZpbGVzUmVxdWlyZWQiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2ZzLmxvYWRGaWxlcyhlLmZpbGVzKVsiY2F0Y2giXShmdW5jdGlvbihlKXtyZXR1cm4gdC5fZW1pdFRlc3RSdW5FcnJvcih0Ll9lcnJvck1lc3NhZ2UoZSkpfSl9LG4ucHJvdG90eXBlWyJwcm9qZWN0OmxpY2Vuc2VDb2xsaXNpb24iXT1mdW5jdGlvbihlKXt2YXIgdD1wcm9jZXNzLmVudi5xdW9ra2E/IlF1b2trYS5qcyAnUHJvJyI6IldhbGxhYnkuanMiLG49cHJvY2Vzcy5lbnYucXVva2thPyJodHRwczovL3F1b2trYWpzLmNvbS9wcm8iOiJodHRwczovL3dhbGxhYnlqcy5jb20vcHVyY2hhc2UiLGk9dCsiIGlzIHN0b3BwZWQgYmVjYXVzZSB5b3VyIGxpY2Vuc2UgaXMgYmVpbmcgdXNlZCBlbHNld2hlcmUgb24gdGhlIG5ldHdvcmsgYnkgPGI+IisoZS5hZGRyZXNzfHwidW5rbm93biBhZGRyZXNzIikrJzwvYj4uIE9ubHkgb25lIGFjdGl2ZSBjb21wdXRlciBhdCB0aGUgc2FtZSB0aW1lIG1heSB1c2UgdGhlIGxpY2Vuc2UuPGJyLz5JZiB5b3Ugd291bGQgbGlrZSB0byBwdXJjaGFzZSBhbiBhZGRpdGlvbmFsIGxpY2Vuc2UsIHBsZWFzZSB2aXNpdCA8YSBocmVmPSInK24rJyI+b3VyIHdlYnNpdGU8L2E+LiBJZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+Lic7dGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiZXJyb3IiLGkpLHRoaXMuX2VtaXRTdG9wcGVkKCl9LG4ucHJvdG90eXBlWyJtb2RlbDpzdGF0c01heWJlQ2hhbmdlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX2NsZWFyQ29uc29sZU91dHB1dFNlbmRRdWV1ZSgpLHByb2Nlc3MuZW52LnF1b2trYSYmdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpLmVycm9yfHx0aGlzLl9lbWl0U3RhdHNVcGRhdGUoZS50ZXN0UmVzdWx0c0NoYW5nZWR8fHByb2Nlc3MuZW52LnF1b2trYT90aGlzLl9tb2RlbC5mdWxsVGVzdFJlc3VsdHNSZXBvcnQoZS50aW1lKTp2b2lkIDApfSxuLnByb3RvdHlwZVsibW9kZWw6ZG9jdW1lbnRzVXBkYXRlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXREb2N1bWVudFVwZGF0ZXMoZS5kb2N1bWVudHMpfSxuLnByb3RvdHlwZVsibW9kZWw6ZmlsZUFkZGVkIl09ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdEZpbGVzVG9UcmFjayhbZS5maWxlLnBhdGhdKX0sbi5wcm90b3R5cGVbIm1vZGVsOmNvbnNvbGVPdXRwdXQiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2NvbnNvbGVPdXRwdXQucHVzaChlLm1lc3NhZ2UpLHQuX2NvbnNvbGVPdXRwdXRUaW1lb3V0fHx0Ll9zY2hlZHVsZUNvbnNvbGVPdXRwdXRTZW5kKCl9LG4ucHJvdG90eXBlLl9zY2hlZHVsZUNvbnNvbGVPdXRwdXRTZW5kPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9jb25zb2xlT3V0cHV0VGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoZS5fY29uc29sZU91dHB1dC5sZW5ndGgpe3ZhciB0PWUuX2NvbnNvbGVPdXRwdXQuc3BsaWNlKDAsMjApO2UuX2NvbnNvbGVPdXRwdXQubGVuZ3RoP2UuX3NjaGVkdWxlQ29uc29sZU91dHB1dFNlbmQoKTplLl9jbGVhckNvbnNvbGVPdXRwdXRTZW5kUXVldWUoKSxlLl9lbWl0KHt0eXBlOiJjb25zb2xlT3V0cHV0IixtZXNzYWdlczp0fSl9fSwxMDApfSxuLnByb3RvdHlwZS5fYWRqdXN0UXVva2thRmVhdHVyZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5oaW50cz10LmhpbnRzfHx7fSx0LmhpbnRzLmNvbW1lbnRBdXRvTG9nPWU/Ij8iOnt2YWx1ZToiPyIsZXhwOiJcIkxpdmUgQ29tbWVudHMgb25seSBzdXBwb3J0ZWQgaW4gJ1BybycgZWRpdGlvbiwgc2VlIGh0dHBzOi8vcXVva2thanMuY29tL3Byby8gZm9yIG1vcmUgZGV0YWlsc1wiIn0sZXx8ZGVsZXRlIHQucXVva2thLmluc3RhbGxQYWNrYWdlLGV9LG4ucHJvdG90eXBlLl9jbGVhckNvbnNvbGVPdXRwdXRTZW5kUXVldWU9ZnVuY3Rpb24oKXt0aGlzLl9jb25zb2xlT3V0cHV0Lmxlbmd0aD0wLGRlbGV0ZSB0aGlzLl9jb25zb2xlT3V0cHV0VGltZW91dH0sbi5wcm90b3R5cGUuX3VwZGF0ZVByb2plY3RGaWxlPWZ1bmN0aW9uKGUsdCxuLGkscil7dmFyIG89dGhpcy5fbW9kZWwuZmlsZUJ5SWQodC5pZCk7aWYoIWUmJm8mJm8uaXNPcGVuZWRJbkVkaXRvcigpJiZvLmhhc1ZhbGlkRG9jdW1lbnQoKSl7dmFyIGE9ITA7aWYoXy5pc1BhdGNoKHQuY29udGVudCkmJl8uaXNTdHJpbmcobikmJmkpe3ZhciBsPXRoaXMuX2RpZmZNYXRjaFBhdGNoLnBhdGNoX2Zyb21UZXh0KHQuY29udGVudCk7aWYoMT09PWwubGVuZ3RoKXt2YXIgYz1sWzBdO2lmKGMmJmMuZGlmZnMmJmMuZGlmZnMubGVuZ3RoJiZjLnN0YXJ0MT09PWMuc3RhcnQyKXthPSExO3ZhciB1PWMuc3RhcnQxLGQ9Yy5kaWZmc1swXTswPT09ZFswXSYmKHUrPWRbMV0ubGVuZ3RoKTt2YXIgaD0wO2lmKF8uZWFjaChjLmRpZmZzLGZ1bmN0aW9uKGUpezAhPT1lWzBdJiYoaCs9ZVswXSooXy50ZXh0TGluZXMoZVsxXSkubGVuZ3RoLTEpKX0pLGgpe3ZhciBwPV8udGV4dExpbmVzKG4sdSkubGVuZ3RoLGY9Xy50ZXh0TGluZXMobixjLnN0YXJ0MSkubGVuZ3RoLGc9TWF0aC5hYnMoaCksbT1NYXRoLm1heChNYXRoLm1pbihpLnN0YXJ0LGYpLWcsMSksdj1NYXRoLm1heChpLmVuZCxmKTtvLnNoaWZ0RG9jdW1lbnRMaW5lcyhwLGgse3N0YXJ0Om0sZW5kOnZ9KX1lbHNlIGkuc3RhcnQhPT1pLmVuZCYmby5pbnZhbGlkYXRlRG9jdW1lbnRMaW5lcygwLDAsaSl9fX1hJiYocygiTmV3IGRvY3VtZW50IG9yIGNvbXBsZXggZG9jdW1lbnQgY2hhbmdlIiksby5pbnZhbGlkYXRlRG9jdW1lbnQoKSl9dGhpcy5fcHJvamVjdC5maWxlKHtmaWxlOnRoaXMuX2ZpbGVGb3JQcm9qZWN0KHQpLCJkZWxldGUiOmUsaW5FZGl0b3I6cn0pfSxuLnByb3RvdHlwZS5fZmlsZXNGb3JQcm9qZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBfLm1hcChlLHRoaXMuX2ZpbGVGb3JQcm9qZWN0KX0sbi5wcm90b3R5cGUuX2ZpbGVGb3JQcm9qZWN0PWZ1bmN0aW9uKGUpe3JldHVybntwYXRoOmUucGF0aCxpZDplLmlkLHRzOmUudHMsb3JkZXI6ZS5vcmRlcixpbmNsdWRlOmUubG9hZCx0cmlnZ2Vyc1Rlc3RzOmUudHJpZ2dlcixjb3ZlcmFibGU6ZS5pbnN0cnVtZW50LHRlc3Q6ZS50ZXN0LHR5cGU6ZS50eXBlLGJpbmFyeTplLmJpbmFyeSxjb250ZW50OmUuY29udGVudH19LG4ucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZW1pdEZpbGVzVG9UcmFjayhfLm1hcChlLmZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhdGh9KSksZS5saWNlbnNlfHwoZS5saWNlbnNlPXRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdCYmdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0Lmhhc2h8fHRoaXMuX3Byb2plY3QuX3dhbGxhYnlFbWFpbCksZS5leHBpcnlEYXRlfHwoZS5leHBpcnlEYXRlPXRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdCYmdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyYXRpb25EYXRlJiZ0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJhdGlvbkRhdGUuc3BsaXQoIi8iKS5qb2luKCItIil8fHZvaWQgMCksdGhpcy5fcHJvamVjdC5zdGFydChlKX0sbi5wcm90b3R5cGUuX3ZlcmlmeUxpY2Vuc2U9ZnVuY3Rpb24oZSx0KXt0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQ9dGhpcy5fbGljZW5zZVZlcmlmaWNhdGlvblJlc3VsdChlLHQpfSxuLnByb3RvdHlwZS5fcnVuSWZWZXJpZmllZD1mdW5jdGlvbihlKXtpZihwcm9jZXNzLmVudi5xdW9ra2EmJiF0aGlzLl9xdW9ra2FFZGl0aW9uKXJldHVybiBlKCk7dmFyIHQ9cHJvY2Vzcy5lbnYucXVva2thPyJRdW9ra2EuanMgJ1BybyciOiJ3YWxsYWJ5LmpzIixuPXByb2Nlc3MuZW52LnF1b2trYT8iaHR0cHM6Ly9xdW9ra2Fqcy5jb20vcHJvIjoiaHR0cHM6Ly93YWxsYWJ5anMuY29tL3B1cmNoYXNlIjt0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQ9dGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0fHx7dmFsaWQ6ITF9O3ZhciBpO2lmKHRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC52YWxpZClyZXR1cm4gdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmV4cGlyZWQ/KGk9IllvdXIgIit0KyIgbGljZW5zZSA8Yj5mcmVlIHVwZ3JhZGVzIHBlcmlvZCBoYXMgZXhwaXJlZDwvYj4uIElmIHlvdSB3b3VsZCBsaWtlIHRvIHdvcmsgd2l0aCB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgIit0KycgYW5kIGZ1dHVyZSB2ZXJzaW9ucyByZWxlYXNlZCB3aXRoaW4gdGhlIG5leHQgMTIgbW9udGhzLCBwbGVhc2UgdmlzaXQgPGEgaHJlZj0iJytuKyciPm91ciB3ZWJzaXRlPC9hPiB0byB1cGdyYWRlIHlvdXIgbGljZW5zZS48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBuZXcgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+LicsdGhpcy5fZW1pdEV4cGlyZWRMaWNlbnNlKCkpOnRoaXMuX3ZlcmlmaWNhdGlvblJlc3VsdC5leHBpcmluZ1Nvb24mJihpPSJZb3VyICIrdCsiIGxpY2Vuc2UiKyhwcm9jZXNzLmVudi5xdW9ra2E/IiI6IiBmcmVlIHVwZ3JhZGVzIHBlcmlvZCIpKyIgPGI+IGV4cGlyZXMgb24gIit0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJhdGlvbkRhdGUrIjwvYj4uIElmIHlvdSB3b3VsZCBsaWtlIHRvIHdvcmsgd2l0aCB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgIit0KycgYW5kIGZ1dHVyZSB2ZXJzaW9ucyByZWxlYXNlZCB3aXRoaW4gdGhlIG5leHQgMTIgbW9udGhzLCBwbGVhc2UgdmlzaXQgPGEgaHJlZj0iJytuKyciPm91ciB3ZWJzaXRlPC9hPiB0byB1cGdyYWRlIHlvdXIgbGljZW5zZS48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBuZXcgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+LicpLGkmJnRoaXMuX2VtaXROb3RpZmljYXRpb24oIndhcm5pbmciLGkpLGUoKTtpZih0aGlzLl92ZXJpZmljYXRpb25SZXN1bHQuZXhwaXJlZFRyaWFsKWk9IllvdXIgIit0KycgdHJpYWwgcGVyaW9kIGlzIG92ZXIsIHRoYW5rcyBmb3IgdHJ5aW5nIGl0IG91dC4gUGxlYXNlIHZpc2l0IDxhIGhyZWY9IicrbisnIj5vdXIgd2Vic2l0ZTwvYT4gdG8gcHVyY2hhc2UgYSBsaWNlbnNlIG9yIHRvIGFycmFuZ2UgYSBsb25nZXIgdHJpYWwgcGVyaW9kIGZvciB5b3Vyc2VsZiBvciB5b3VyIHRlYW0uPGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+LicsdGhpcy5fZW1pdE5vdGlmaWNhdGlvbigiZXJyb3IiLGkpLHRoaXMuX2VtaXRTdG9wcGVkKCk7ZWxzZXtpZighdGhpcy5fdmVyaWZpY2F0aW9uUmVzdWx0LmludmFsaWRWZXJzaW9uKXJldHVybiBpPSJObyB2YWxpZCAiK3QrJyBsaWNlbnNlIGZvdW5kLCBzdGFydGluZyBpbiB0cmlhbCBtb2RlLjxici8+SWYgeW91IHdvdWxkIGxpa2UgdG8gcHVyY2hhc2UgYSBsaWNlbnNlLCBwbGVhc2UgdmlzaXQgPGEgaHJlZj0iJytuKyciPm91ciB3ZWJzaXRlPC9hPi48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicreSsnIj5hY3RpdmF0ZSBpdDwvYT4uJyx0aGlzLl9lbWl0Tm90aWZpY2F0aW9uKCJ3YXJuaW5nIixpKSx0aGlzLl90cmlhbE1vZGUoKSxlKCk7aT0iQ3VycmVudGx5IGluc3RhbGxlZCB2ZXJzaW9uIG9mICIrdCsnIGlzIDxiPm5vdCBjb3ZlcmVkIGJ5IHlvdXIgbGljZW5zZTwvYj4uIFBsZWFzZSB2aXNpdCA8YSBocmVmPSInK24rJyI+b3VyIHdlYnNpdGU8L2E+IHRvIHVwZ3JhZGUgeW91ciBsaWNlbnNlLjxici8+SWYgeW91IGhhdmUgYWxyZWFkeSBwdXJjaGFzZWQgdGhlIGxpY2Vuc2UsIHBsZWFzZSA8YSBocmVmPSIjIiBjbGFzcz0iJyt5KyciPmFjdGl2YXRlIGl0PC9hPi4nLHRoaXMuX2VtaXROb3RpZmljYXRpb24oImVycm9yIixpKSx0aGlzLl9lbWl0U3RvcHBlZCgpfX0sbi5wcm90b3R5cGUuX3RyaWFsTW9kZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49cHJvY2Vzcy5lbnYucXVva2thPyJRdW9ra2EuanMgJ1BybyciOiJ3YWxsYWJ5LmpzIixpPXByb2Nlc3MuZW52LnF1b2trYT8iaHR0cHM6Ly9xdW9ra2Fqcy5jb20vcHJvIjoiaHR0cHM6Ly93YWxsYWJ5anMuY29tL3B1cmNoYXNlIjtlPWV8fDAsYyhmdW5jdGlvbigpe2U+PW0/KHQuX2VtaXROb3RpZmljYXRpb24oIndhcm5pbmciLCJUbyBrZWVwIHRyaWFsaW5nICIrbisnLCBwbGVhc2UgPGI+cmVzdGFydCB5b3VyIGVkaXRvcjwvYj4gb3IgdmlzaXQgPGEgaHJlZj0iJytpKyciPm91ciB3ZWJzaXRlPC9hPiB0byBwdXJjaGFzZSBhIGxpY2Vuc2UuPGJyLz5JZiB5b3UgaGF2ZSBhbHJlYWR5IHB1cmNoYXNlZCB0aGUgbGljZW5zZSwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK3krJyI+YWN0aXZhdGUgaXQ8L2E+LicpLHQuc3RvcCgpLHQuX2VtaXRTdG9wcGVkKCEwKSk6KHQuX2NvbnRpbnVlVHJpYWxTZXNzaW9uPWZ1bmN0aW9uKCl7dSh0Ll9zdG9wcGVyVGltZW91dCksdC5fdHJpYWxNb2RlKGUrMSl9LHQuX3N0b3BwZXJUaW1lb3V0PWMoZnVuY3Rpb24oKXt0LnN0b3AoKSx0Ll9lbWl0U3RvcHBlZCgpfSxnKSx0Ll9lbWl0Tm90aWZpY2F0aW9uKCJ3YXJuaW5nIiwiVG8gY29udGludWUgIituKycgdHJpYWwgc2Vzc2lvbiwgcGxlYXNlIDxhIGhyZWY9IiMiIGNsYXNzPSInK1QrJyI+Y2xpY2sgIkNvbnRpbnVlIjwvYT4uPGJyLz5WaXNpdCA8YSBocmVmPSInK2krJyI+b3VyIHdlYnNpdGU8L2E+IHRvIHB1cmNoYXNlIGEgbGljZW5zZS48YnIvPklmIHlvdSBoYXZlIGFscmVhZHkgcHVyY2hhc2VkIHRoZSBsaWNlbnNlLCBwbGVhc2UgPGEgaHJlZj0iIyIgY2xhc3M9IicreSsnIj5hY3RpdmF0ZSBpdDwvYT4uJykpfSxmKX0sbi5wcm90b3R5cGUuX2xpY2Vuc2VWZXJpZmljYXRpb25SZXN1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixpPXRoaXMscz17dmFsaWQ6ITEsZXhwaXJlZFRyaWFsOiEwfTt0cnl7bj1pLl9yZWFkRmlsZVN5bmModCl9Y2F0Y2gobyl7dHJ5e2kuX3dyaXRlRmlsZVN5bmModCwrbmV3IHIpfWNhdGNoKGwpe319dHJ5e2lmKF8uaXNTdHJpbmcobikpaWYobi5sZW5ndGg+MTAwKXt2YXIgYz1wLnBhcnNlS2V5KG4pLHU9Yy5saWNlbnNlU2lnbmF0dXJlO2lmKEZbXy5ydHJpbSh1LCI9IildKXMuZXhwaXJlZFRyaWFsPSExO2Vsc2V7cy5leHBpcmVkVHJpYWw9ITEscy5rZXk9bjt2YXIgZD1jLmxpY2Vuc2VlTmFtZSxoPWMubGljZW5zZWVFbWFpbCxmPWMubGljZW5zZVRhZ3MsZz1jLmxpY2Vuc2VkUHJvZHVjdCxtPWMuZXhwaXJhdGlvbkRhdGVTdHJpbmc7CnMubmFtZT1kLHMuZXhwaXJhdGlvbkRhdGU9bTt2YXIgeT1hLmNyZWF0ZVZlcmlmeSgiUlNBLVNIQTUxMiIpO2lmKHkudXBkYXRlKG5ldyBCdWZmZXIoZCtmK20pKSxzLnZhbGlkPXkudmVyaWZ5KFZbfmcuaW5kZXhPZihSKT9SOmVdLG5ldyBCdWZmZXIodSwiYmFzZTY0IikpLHMudmFsaWQpe3ZhciBUPW0uc3BsaXQoIi8iKSxiPW5ldyByKFRbMV0rIi8iK1RbMF0rIi8iK1RbMl0pLGs9bmV3IHIoMTUxNjY4NTI0NjgwOCk7aWYoay5zZXRIb3VycygwLDAsMCwwKSxrPmIpcy5pbnZhbGlkVmVyc2lvbj0hMCxzLnZhbGlkPSExO2Vsc2V7dmFyIE49aD09PWkuX3Byb2plY3QuX3dhbGxhYnlFbWFpbDt0cnl7dmFyIFU9dm9pZCAwO3MuaGFzaD1OP2kuX3Byb2plY3QuX3dhbGxhYnlFbWFpbDooVT1hLmNyZWF0ZUhhc2goInNoYTUxMiIpLFUudXBkYXRlKG5ldyBCdWZmZXIobiwiYmFzZTY0IikpLFUuZGlnZXN0KCJiYXNlNjQiKSl9Y2F0Y2goWil7cy5oYXNoPWkuX3Byb2plY3QuX3dhbGxhYnlFbWFpbH12YXIgRT1uZXcgcjtpZihFLnNldEhvdXJzKDAsMCwwLDApLEU+YilzLmV4cGlyZWQ9ITAscy52YWxpZD0hTixzLmV4cGlyZWRUcmlhbD1OO2Vsc2V7dmFyIE09bmV3IHI7TS5zZXREYXRlKE0uZ2V0RGF0ZSgpK3YpLHMuZXhwaXJpbmdTb29uPU0+Yn19fX19ZWxzZXt2YXIgeD1wYXJzZUludChuLDEwKTtzLmV4cGlyZWRUcmlhbD1fLmlzTmFOKHgpfHx4Kyhwcm9jZXNzLmVudi5xdW9ra2E/MTMxNGU2OjI2MjhlNik8K25ldyByfWVsc2Ugcy5leHBpcmVkVHJpYWw9ITF9Y2F0Y2goWil7cy52YWxpZD0hMX1yZXR1cm4gc30sbi5wcm90b3R5cGUuX2VtaXRGaWxlc1RvVHJhY2s9ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZToiZmlsZXNUb1RyYWNrIixmaWxlczplfSl9LG4ucHJvdG90eXBlLl9lbWl0VGVzdFJ1bkVycm9yPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXQoe3R5cGU6InN0YXRzIixkYXRhOmV9KX0sbi5wcm90b3R5cGUuX2VtaXREb2N1bWVudFVwZGF0ZXM9ZnVuY3Rpb24oZSl7dGhpcy5fZW1pdCh7dHlwZToiZG9jdW1lbnRVcGRhdGVzIix1cGRhdGVzOmV9KX0sbi5wcm90b3R5cGUuX2VtaXRTdGF0c1VwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJzdGF0cyIsZGF0YTplfSl9LG4ucHJvdG90eXBlLl9lbWl0UHJvamVjdENvbmZpZ3VyZWQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbWl0KF8uZXh0ZW5kKHQse2ZpbGVzOmV9KSl9LG4ucHJvdG90eXBlLl9lbWl0Tm90aWZpY2F0aW9uPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLl9lbWl0KHt0eXBlOiJub3RpZmljYXRpb24iLG5vdGlmaWNhdGlvbjpfLmV4dGVuZCh7dGV4dDp0LHR5cGU6ZX0sbnx8e30pfSl9LG4ucHJvdG90eXBlLl9lbWl0U3RvcHBlZD1mdW5jdGlvbihlKXt0aGlzLl9lbWl0KHt0eXBlOiJzdG9wcGVkIixkZWFjdGl2YXRlOmV9KX0sbi5wcm90b3R5cGUuX2VtaXRFeHBpcmVkTGljZW5zZT1mdW5jdGlvbigpe3RoaXMuX2VtaXQoe3R5cGU6ImV4cGlyZWRMaWNlbnNlIn0pfSxuLnByb3RvdHlwZS5fZW1pdD1mdW5jdGlvbihlKXt0aGlzLmVtaXQoIm1lc3NhZ2UiLGUpfSxuLnByb3RvdHlwZS5fZXJyb3JNZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9wcm9qZWN0JiZ0aGlzLl9wcm9qZWN0Ll9jbGVhblN0YWNrKGUpLGUmJihlLnN0YWNrfHxlLm1lc3NhZ2UpfSxuLnByb3RvdHlwZS5fdGVzdFJ1bkVycm9yTWVzc2FnZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5tZXNzYWdlfSxufShFdmVudEVtaXR0ZXIpO3QuZXhwb3J0cz1ifSx7Ii4vc2VydmVyL2ZpbGVTeXN0ZW0iOjksIi4vc2VydmVyL21vZGVsIjoxMCwiLi9zaGFyZWQvdXRpbHMiOjE1LGNoaWxkX3Byb2Nlc3M6dm9pZCAwLGNyeXB0bzp2b2lkIDAsZGVidWc6dm9pZCAwLHBhdGg6dm9pZCAwLHRpbWVyczp2b2lkIDB9XSwzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl90ZXN0SWQ9ZS5zcGVjLHRoaXMuX2ZpbGVJZD1lLmZpbGUsdGhpcy5fcmFuZ2U9ZS5yYW5nZSx0aGlzLl90ZXh0PWUudGV4dCx0aGlzLl90eXBlPWUudHlwZSx0aGlzLl9jb250ZXh0PWUuY29udGV4dCx0aGlzLl9hY3R1YWw9ZS5hY3R1YWwsdGhpcy5fZXhwZWN0ZWQ9ZS5leHBlY3RlZH1yZXR1cm4gZS5wcm90b3R5cGUudGVzdElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Rlc3RJZH0sZS5wcm90b3R5cGUuZmlsZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZH0sZS5wcm90b3R5cGUucmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2V9LGUucHJvdG90eXBlLnNldFJhbmdlPWZ1bmN0aW9uKGUpe3RoaXMuX3JhbmdlPWV9LGUucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dH0sZS5wcm90b3R5cGUudHlwZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlfSxlLnByb3RvdHlwZS5zZXRGaWxlPWZ1bmN0aW9uKGUpe3RoaXMuX2ZpbGU9ZX0sZS5wcm90b3R5cGUuZmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlfSxlLnByb3RvdHlwZS5saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhbmdlP18uaXNBcnJheSh0aGlzLl9yYW5nZSk/dGhpcy5fcmFuZ2VbMF06dGhpcy5fcmFuZ2Uuc3RhcnRMaW5lKCk6dm9pZCAwfSxlLnByb3RvdHlwZS5jb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9LGUucHJvdG90eXBlLmFjdHVhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3R1YWx9LGUucHJvdG90eXBlLmV4cGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4cGVjdGVkfSxlfSgpO3QuZXhwb3J0cz1pfSx7fV0sNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5faXRlbXM9ZS5pdGVtcyx0aGlzLl9oaXRzPWUuaGl0c31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LG4pe3ZhciBpPXRoaXM7dGhpcy5fa2V5PWUucmFuZ2VLZXkodGhpcy5faXRlbXMpLHRoaXMuX2ZpbGU9dCx0aGlzLl9zdGFydExpbmU9dGhpcy5faXRlbXNbMF0sdGhpcy5fc3RhcnRDb2x1bW49dGhpcy5faXRlbXNbMV0sdGhpcy5fZW5kTGluZT10aGlzLl9pdGVtc1syXSx0aGlzLl9lbmRDb2x1bW49dGhpcy5faXRlbXNbM10sdGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzPTAsdGhpcy5faXNDb3ZlcmVkPSExLHRoaXMuX2hpdHMmJih0aGlzLl9jb3ZlcmluZ1Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2godGhpcy5faGl0cyxmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1uW2VdO2lmKCF0KXJldHVybjt2YXIgcj10LmtleSgpO2kuX2NvdmVyaW5nVGVzdE1hcFtyXT10LGkuX2FkZEZhaWxlZE9uTWVUZXN0SWZGYWlsaW5nKHQpfWVsc2UgaS5faXNDb3ZlcmVkQnlOb3RUZXN0cz0hMH0pLGkuX251bU9mQ292ZXJpbmdUZXN0cz1fLnNpemUoaS5fY292ZXJpbmdUZXN0TWFwKSxpLl9zZXRJc0NvdmVyZWQoKSksZGVsZXRlIHRoaXMuX2l0ZW1zLGRlbGV0ZSB0aGlzLl9oaXRzfSxlLnByb3RvdHlwZS5saW5lU2hpZnQ9ZnVuY3Rpb24odCl7dGhpcy5fc3RhcnRMaW5lKz10LHRoaXMuX2VuZExpbmUrPXQsdGhpcy5fa2V5PWUucmFuZ2VLZXkoW3RoaXMuX3N0YXJ0TGluZSx0aGlzLl9zdGFydENvbHVtbix0aGlzLl9lbmRMaW5lLHRoaXMuX2VuZENvbHVtbl0pfSxlLnByb3RvdHlwZS5zdGFydExpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRMaW5lfSxlLnByb3RvdHlwZS5zdGFydENvbHVtbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFydENvbHVtbn0sZS5wcm90b3R5cGUuZW5kTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmRMaW5lfSxlLnByb3RvdHlwZS5lbmRDb2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5kQ29sdW1ufSxlLnByb3RvdHlwZS5mYWlscz1mdW5jdGlvbihlKXt0aGlzLl9nbG9iYWxFcnJvcnN8fCh0aGlzLl9nbG9iYWxFcnJvcnM9W10pLH50aGlzLl9nbG9iYWxFcnJvcnMuaW5kZXhPZihlKXx8dGhpcy5fZ2xvYmFsRXJyb3JzLnB1c2goZSl9LGUucHJvdG90eXBlLnNldENvbnNvbGVMb2c9ZnVuY3Rpb24oZSl7dGhpcy5fY29uc29sZUxvZz1lfSxlLnByb3RvdHlwZS5jb25zb2xlTG9nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnNvbGVMb2d9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXl9LGUucHJvdG90eXBlLmlzRGlzcG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH0sZS5wcm90b3R5cGUuaXNFcnJvclNvdXJjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mYWlsZWRCeU1lVGVzdHMmJiFfLmlzRW1wdHkodGhpcy5fZmFpbGVkQnlNZVRlc3RzKXx8dGhpcy5fZ2xvYmFsRXJyb3JzJiYhXy5pc0VtcHR5KHRoaXMuX2dsb2JhbEVycm9ycyl9LGUucHJvdG90eXBlLmlzT25FcnJvclBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFpbGVkT25NZVRlc3RzJiYhXy5pc0VtcHR5KHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyl9LGUucHJvdG90eXBlLmVycm9ycz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmlzRXJyb3JTb3VyY2UoKT8odGhpcy5fZmFpbGVkQnlNZVRlc3RzJiYoZT1lLmNvbmNhdChfLmZsYXR0ZW4oXy52YWx1ZXModGhpcy5fZmFpbGVkQnlNZVRlc3RzKSkpKSx0aGlzLl9nbG9iYWxFcnJvcnMmJihlPWUuY29uY2F0KHRoaXMuX2dsb2JhbEVycm9ycykpLGUpOmV9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fZmlsZSxkZWxldGUgdGhpcy5fY292ZXJpbmdUZXN0TWFwLGRlbGV0ZSB0aGlzLl9mYWlsZWRPbk1lVGVzdHMsZGVsZXRlIHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyxkZWxldGUgdGhpcy5fZ2xvYmFsRXJyb3JzLHRoaXMuX2lzRGlzcG9zZWQ9ITAsZGVsZXRlIHRoaXMuX251bU9mQ292ZXJpbmdUZXN0c30sZS5wcm90b3R5cGUuc291cmNlRmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlfSxlLnByb3RvdHlwZS5mYWlsc1Rlc3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9mYWlsZWRCeU1lVGVzdHN8fCh0aGlzLl9mYWlsZWRCeU1lVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5fZmFpbGVkQnlNZVRlc3RzW2Uua2V5KCldPXR9LGUucHJvdG90eXBlLm5vdENvdmVyZWRCeT1mdW5jdGlvbihlKXt2YXIgdD1lLmtleSgpLG49dGhpcy5pc0NvdmVyZWQoKTt0aGlzLl9jb3ZlcmluZ1Rlc3RNYXAmJnRoaXMuX2NvdmVyaW5nVGVzdE1hcFt0XSYmKGRlbGV0ZSB0aGlzLl9jb3ZlcmluZ1Rlc3RNYXBbdF0sdGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzLS0sdGhpcy5fc2V0SXNDb3ZlcmVkKCkpLHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyYmZGVsZXRlIHRoaXMuX2ZhaWxlZEJ5TWVUZXN0c1t0XSx0aGlzLl9mYWlsZWRPbk1lVGVzdHMmJmRlbGV0ZSB0aGlzLl9mYWlsZWRPbk1lVGVzdHNbdF0sbnVsbCE9dGhpcy5fZmlsZSYmdGhpcy5fZmlsZS5yYW5nZUNvdmVyYWdlQ2hhbmdlZCh0aGlzLG4pfSxlLnByb3RvdHlwZS5jb3ZlcmluZ1Rlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIF8udmFsdWVzKHRoaXMuX2NvdmVyaW5nVGVzdE1hcCl9LGUucHJvdG90eXBlLmlzQ292ZXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0NvdmVyZWR9LGUucHJvdG90eXBlLl9zZXRJc0NvdmVyZWQ9ZnVuY3Rpb24oKXt0aGlzLl9pc0NvdmVyZWQ9dGhpcy5fbnVtT2ZDb3ZlcmluZ1Rlc3RzPjB8fHRoaXMuX2lzQ292ZXJlZEJ5Tm90VGVzdHN9LGUucHJvdG90eXBlLmF0dGFjaGVkVG9Tb3VyY2VGaWxlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9jb3ZlcmluZ1Rlc3RNYXAmJl8uZWFjaCh0aGlzLl9jb3ZlcmluZ1Rlc3RNYXAsZnVuY3Rpb24odCl7cmV0dXJuIHQuY292ZXJzKGUpfSl9LGUucHJvdG90eXBlLnVwZGF0ZUZyb209ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXM7cmV0dXJuIHQmJm4mJl8uaXNFbXB0eShlLl9jb3ZlcmluZ1Rlc3RNYXApP3ZvaWQoZS5fY29uc29sZUxvZyYmKHRoaXMuX2NvbnNvbGVMb2c9ZS5fY29uc29sZUxvZykpOih0aGlzLl9pc0NvdmVyZWRCeU5vdFRlc3RzPWUuX2lzQ292ZXJlZEJ5Tm90VGVzdHMsdGhpcy5fY29uc29sZUxvZz1lLl9jb25zb2xlTG9nLHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cyYmKHRoaXMuX2ZhaWxlZEJ5TWVUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpKSx0aGlzLl9nbG9iYWxFcnJvcnMmJih0aGlzLl9nbG9iYWxFcnJvcnM9W10pLGUuX2NvdmVyaW5nVGVzdE1hcD8odCYmIW4/KHRoaXMuX2NvdmVyaW5nVGVzdE1hcD1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2ZhaWxlZE9uTWVUZXN0cyYmKHRoaXMuX2ZhaWxlZE9uTWVUZXN0cz1PYmplY3QuY3JlYXRlKG51bGwpKSxfLmVhY2goZS5fY292ZXJpbmdUZXN0TWFwLGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5KCk7aS5fY292ZXJpbmdUZXN0TWFwW3RdPWUsZS5jb3ZlcnMoaSksaS5fYWRkRmFpbGVkT25NZVRlc3RJZkZhaWxpbmcoZSl9KSk6aS5fZmFpbGVkT25NZVRlc3RzP18uZWFjaChlLl9jb3ZlcmluZ1Rlc3RNYXAsZnVuY3Rpb24oZSl7cmV0dXJuIGkuX3VwZGF0ZVRlc3RXaXRoUG9zc2libGVGYWlsZWRPblRoZVJhbmdlKGUsZS5rZXkoKSl9KTpfLmVhY2goZS5fY292ZXJpbmdUZXN0TWFwLGZ1bmN0aW9uKGUpe3JldHVybiBpLl91cGRhdGVUZXN0KGUsZS5rZXkoKSl9KSxpLl9udW1PZkNvdmVyaW5nVGVzdHM9Xy5zaXplKGkuX2NvdmVyaW5nVGVzdE1hcCkpOih0aGlzLl9jb3ZlcmluZ1Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9udW1PZkNvdmVyaW5nVGVzdHM9MCx0aGlzLl9mYWlsZWRPbk1lVGVzdHMmJih0aGlzLl9mYWlsZWRPbk1lVGVzdHM9T2JqZWN0LmNyZWF0ZShudWxsKSkpLHZvaWQgdGhpcy5fc2V0SXNDb3ZlcmVkKCkpfSxlLnByb3RvdHlwZS5fdXBkYXRlVGVzdD1mdW5jdGlvbihlLHQpe3RoaXMuX2NvdmVyaW5nVGVzdE1hcFt0XT1lLGUuY292ZXJzKHRoaXMpLHRoaXMuX2FkZEZhaWxlZE9uTWVUZXN0SWZGYWlsaW5nKGUpfSxlLnByb3RvdHlwZS5fdXBkYXRlVGVzdFdpdGhQb3NzaWJsZUZhaWxlZE9uVGhlUmFuZ2U9ZnVuY3Rpb24oZSx0KXtkZWxldGUgdGhpcy5fZmFpbGVkT25NZVRlc3RzW3RdLHRoaXMuX3VwZGF0ZVRlc3QoZSx0KX0sZS5wcm90b3R5cGUuaXNJbnNpZGVPZj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3RhcnRMaW5lPj1lLl9zdGFydExpbmUmJmUuX2VuZExpbmU+PXRoaXMuX2VuZExpbmUmJih0aGlzLl9zdGFydExpbmU+ZS5fc3RhcnRMaW5lfHx0aGlzLl9zdGFydENvbHVtbj49ZS5fc3RhcnRDb2x1bW4pJiYoZS5fZW5kTGluZT50aGlzLl9lbmRMaW5lfHxlLl9lbmRDb2x1bW4+PXRoaXMuX2VuZENvbHVtbil9LGUucHJvdG90eXBlLl9hZGRGYWlsZWRPbk1lVGVzdElmRmFpbGluZz1mdW5jdGlvbihlKXtlLmlzRmFpbGluZygpJiYodGhpcy5fZmFpbGVkT25NZVRlc3RzfHwodGhpcy5fZmFpbGVkT25NZVRlc3RzPU9iamVjdC5jcmVhdGUobnVsbCkpLHRoaXMuX2ZhaWxlZE9uTWVUZXN0c1tlLmtleSgpXT1lKX0sZS5yYW5nZUtleT1mdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCIuIil9LGV9KCk7dC5leHBvcnRzPWl9LHt9XSw1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4vZG9jdW1lbnRMaW5lIikscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9saW5lcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX3JlY3ljbGVkTGluZXM9W10sdGhpcy5fbGluZVNoaWZ0T3JJbnZhbGlkYXRpb25TaW5jZUxhc3RVcGRhdGU9ITF9cmV0dXJuIGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcyxzPXRoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlO2RlbGV0ZSB0aGlzLl9saW5lU2hpZnRPckludmFsaWRhdGlvblNpbmNlTGFzdFVwZGF0ZSxuPyh0aGlzLl9saW5lcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX3JlY3ljbGVkTGluZXM9W10pOnQmJl8uZWFjaCh0aGlzLl9saW5lcyxmdW5jdGlvbihlKXtlLnJlbW92ZVJhbmdlcygpfSk7dmFyIG89W10sYT1bXTtfLmVhY2goZSxmdW5jdGlvbihlKXtpZighZS5pc0Rpc3Bvc2VkKCkpe3ZhciBuPWUuc3RhcnRMaW5lKCkscz1yLl9saW5lc1tuXTtzfHwocz1uZXcgaShuKSxyLl9saW5lc1tuXT1zLGEucHVzaChzKSkscy5hZGRSYW5nZShlLHQpLG8ucHVzaChzKX19KTt2YXIgbD1PYmplY3QuY3JlYXRlKG51bGwpO289dCYmIW4/Xy52YWx1ZXModGhpcy5fbGluZXMpLmNvbmNhdChhKTpvLF8uZWFjaChvLGZ1bmN0aW9uKGUpe2UuaGFzUmFuZ2VzKCk/ZS51cGRhdGVMaW5lRGF0YSgpJiYobFtlLmtleSgpXT1lKTooZS5kaXNwb3NlKCksZGVsZXRlIHIuX2xpbmVzW2UubnVtYmVyKCldLHIuX3JlY3ljbGVkTGluZXMucHVzaChlKSl9KTt2YXIgYz10aGlzLl9yZWN5Y2xlZExpbmVzLnNsaWNlKCk7cmV0dXJuIHRoaXMuX3JlY3ljbGVkTGluZXM9W10se2xpbmVzOm4/Xy5tYXAodGhpcy5fbGluZXMsZnVuY3Rpb24oZSl7cmV0dXJuIHIuX2NvbXBhY3RMaW5lKGUpfSk6Xy5tYXAocz90aGlzLl9saW5lczpsLGZ1bmN0aW9uKGUpe3ZhciB0PXIuX2NvbXBhY3RMaW5lKGUpO3JldHVybiB0LmNoYW5nZWQ9cz8hIWxbZS5rZXkoKV18fHZvaWQgMDoxLHR9KS5jb25jYXQoXy5tYXAoYyxmdW5jdGlvbihlKXtyZXR1cm57aWQ6ZS5rZXkoKSxkZWw6MX19KSksYWxsTGluZXM6bnx8c319LGUucHJvdG90eXBlLmxpbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xpbmVzW2VdfSxlLnByb3RvdHlwZS5hbGxMaW5lcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJue2xpbmVzOl8ubWFwKHRoaXMuX2xpbmVzLGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jb21wYWN0TGluZSh0KX0pLGFsbExpbmVzOiEwfX0sZS5wcm90b3R5cGUuX2NvbXBhY3RMaW5lPWZ1bmN0aW9uKGUpe3JldHVybntpZDplLmtleSgpLG51bTplLm51bWJlcigpLHN0YXRlOmUuc3RhdGUoKSxsb2c6ZS5jb25zb2xlTG9nVGV4dCgpLGxvbmdMb2c6cHJvY2Vzcy5lbnYucXVva2thP2UubG9uZ0NvbnNvbGVMb2dUZXh0KCk6dm9pZCAwLGVycjplLmVycm9yU291cmNlVGV4dCgpfX0sZS5wcm90b3R5cGUuaW52YWxpZGF0ZUxpbmVzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fbGluZVNoaWZ0T3JJbnZhbGlkYXRpb25TaW5jZUxhc3RVcGRhdGU9ITAsXy5lYWNoKF8ucmFuZ2UoZS5zdGFydCxlLmVuZCksZnVuY3Rpb24obil7dmFyIGk9dC5fbGluZXNbbl07aSYmdC5fcmVjeWNsZUxpbmVJZkluQ2hhbmdlRnJhbWUoaSxlKX0pfSxlLnByb3RvdHlwZS5zaGlmdExpbmVzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzO3RoaXMuX2xpbmVTaGlmdE9ySW52YWxpZGF0aW9uU2luY2VMYXN0VXBkYXRlPSEwO3ZhciByPV8udmFsdWVzKHRoaXMuX2xpbmVzKTt0aGlzLl9saW5lcz1PYmplY3QuY3JlYXRlKG51bGwpLF8uZWFjaChyLGZ1bmN0aW9uKHIpe3ZhciBzPXIubnVtYmVyKCk7aWYoIWkuX3JlY3ljbGVMaW5lSWZJbkNoYW5nZUZyYW1lKHIsbikpe3M+ZSYmKHMrPXQsci5udW1iZXIocykpO3ZhciBvPWkuX2xpbmVzW3NdO28/KG8uZGlzcG9zZSgpLHIuZGlzcG9zZSgpLGkuX3JlY3ljbGVkTGluZXMucHVzaChvKSxpLl9yZWN5Y2xlZExpbmVzLnB1c2gociksZGVsZXRlIGkuX2xpbmVzW3NdKTppLl9saW5lc1tzXT1yfX0pfSxlLnByb3RvdHlwZS5fcmVjeWNsZUxpbmVJZkluQ2hhbmdlRnJhbWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLm51bWJlcigpO3JldHVybiBuPj10LnN0YXJ0JiZuPD10LmVuZD8oZS5kaXNwb3NlKCksdGhpcy5fcmVjeWNsZWRMaW5lcy5wdXNoKGUpLCEwKTp2b2lkIDB9LGV9KCk7dC5leHBvcnRzPXJ9LHsiLi9kb2N1bWVudExpbmUiOjZ9XSw2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4uL3NoYXJlZC9lbnVtcyIpLmxpbmVTdGF0ZSxyPTEyOCxzPTI2MjE0NCxvPTEyOCxhPTAsbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fbGluZU51bWJlcj1lLHRoaXMuX3Jhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2lkPSsrYX1yZXR1cm4gZS5wcm90b3R5cGUuaGFzUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIV8uaXNFbXB0eSh0aGlzLl9yYW5nZXMpfSxlLnByb3RvdHlwZS5yYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFuZ2VzfSxlLnByb3RvdHlwZS51cGRhdGVMaW5lRGF0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0hMCxuPSEwLGE9ITEsbD0hMSxjPXRoaXMuX2xpbmVTdGF0ZSx1PXRoaXMuX2NvbnNvbGVMb2dUZXh0LGQ9dGhpcy5fZXJyb3JTb3VyY2VUZXh0O3JldHVybiBkZWxldGUgdGhpcy5fY29uc29sZUxvZ1RleHQsZGVsZXRlIHRoaXMuX2xvbmdDb25zb2xlTG9nVGV4dCxkZWxldGUgdGhpcy5fZXJyb3JTb3VyY2VUZXh0LF8uZWFjaCh0aGlzLl9yYW5nZXMsZnVuY3Rpb24oaSl7dmFyIHM9aS5jb25zb2xlTG9nKCk7aWYocyYmcy5sZW5ndGgpe18uaXNTdHJpbmcoZS5fY29uc29sZUxvZ1RleHQpfHwoZS5fY29uc29sZUxvZ1RleHQ9IiIpO3ZhciBjPXMubGVuZ3RoPnIsdT1fLm1hcChjP3Muc2xpY2Uocy5sZW5ndGgtcik6cyxmdW5jdGlvbihlKXtyZXR1cm4iIj09PWU/IltlbXB0eSBzdHJpbmddIjplfSkuam9pbigiLCAiKTtpZih1Lmxlbmd0aD5yJiYodT0oMD09PXUuaW5kZXhPZigidGhlbiAiKT8idGhlbiAiOiIiKSsiLi4uICIrdS5zdWJzdHIodS5sZW5ndGgtcis0KSksZS5fY29uc29sZUxvZ1RleHQrPShlLl9jb25zb2xlTG9nVGV4dD8iIHwgIjoiIikrdSxwcm9jZXNzLmVudi5xdW9ra2Epe18uaXNTdHJpbmcoZS5fbG9uZ0NvbnNvbGVMb2dUZXh0KXx8KGUuX2xvbmdDb25zb2xlTG9nVGV4dD0iIik7dmFyIGQ9cy5sZW5ndGg+MWUzLGg9KGQ/IiAgLi4uXG4iOiIiKSsiICIrKGQ/cy5zbGljZShzLmxlbmd0aC0xZTMpOnMpLmpvaW4oIiBcbiAiKTtlLl9sb25nQ29uc29sZUxvZ1RleHQrPShlLl9sb25nQ29uc29sZUxvZ1RleHQ/IlxuLS0tXG4iOiIiKStofX1pZihpLmlzRXJyb3JTb3VyY2UoKSl7YT0hMDt2YXIgcD1pLmVycm9ycygpO2lmKHAubGVuZ3RoKXt2YXIgZj1wW3AubGVuZ3RoLTFdLm1lc3NhZ2UoKTtlLl9lcnJvclNvdXJjZVRleHQ9ZS5fdHJ1bmNhdGVNZXNzYWdlKGZ8fCIiLG8pfX1pLmlzT25FcnJvclBhdGgoKSYmKGw9ITApLGkuaXNDb3ZlcmVkKCk/bj0hMTp0PSExfSksZS5fY29uc29sZUxvZ1RleHQmJihwcm9jZXNzLmVudi5xdW9ra2EmJihlLl9sb25nQ29uc29sZUxvZ1RleHQ9ZS5fdHJ1bmNhdGVNZXNzYWdlKGUuX2xvbmdDb25zb2xlTG9nVGV4dCxzLCEwKSksZS5fY29uc29sZUxvZ1RleHQ9ZS5fdHJ1bmNhdGVNZXNzYWdlKGUuX2NvbnNvbGVMb2dUZXh0LHIpKSx0aGlzLl9saW5lU3RhdGU9YT9pLmVycm9yU291cmNlOmw/aS5lcnJvclBhdGg6bj9pLm5vdENvdmVyZWQ6dD9pLmZ1bGx5Q292ZXJlZDppLnBhcnRpYWxseUNvdmVyZWQsdGhpcy5fbGluZVN0YXRlIT09Y3x8dGhpcy5fY29uc29sZUxvZ1RleHQhPT11fHx0aGlzLl9lcnJvclNvdXJjZVRleHQhPT1kfSxlLnByb3RvdHlwZS5jb25zb2xlTG9nVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25zb2xlTG9nVGV4dH0sZS5wcm90b3R5cGUubG9uZ0NvbnNvbGVMb2dUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvbmdDb25zb2xlTG9nVGV4dH0sZS5wcm90b3R5cGUuZXJyb3JTb3VyY2VUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Vycm9yU291cmNlVGV4dH0sZS5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGluZVN0YXRlfSxlLnByb3RvdHlwZS5hZGRSYW5nZT1mdW5jdGlvbihlLHQpe3ZhciBuPWUua2V5KCk7dHx8ZGVsZXRlIHRoaXMuX3Jhbmdlc1tuXSx0aGlzLl9yYW5nZXNbbl09ZX0sZS5wcm90b3R5cGUucmVtb3ZlUmFuZ2VzPWZ1bmN0aW9uKCl7dGhpcy5fcmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCl9LGUucHJvdG90eXBlLm51bWJlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5fbGluZU51bWJlcjtpZihfLmlzVW5kZWZpbmVkKGUpKXJldHVybiBuO2lmKGUhPT1uKXt0aGlzLl9saW5lTnVtYmVyPWU7dmFyIGk9ZS1uLHI9Xy52YWx1ZXModGhpcy5fcmFuZ2VzKTt0aGlzLnJlbW92ZVJhbmdlcygpLF8uZWFjaChyLGZ1bmN0aW9uKGUpe2UubGluZVNoaWZ0KGkpLHQuX3Jhbmdlc1tlLmtleSgpXT1lfSl9fSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVSYW5nZXMoKSxkZWxldGUgdGhpcy5fY29uc29sZUxvZ1RleHQsZGVsZXRlIHRoaXMuX2Vycm9yU291cmNlVGV4dCxkZWxldGUgdGhpcy5fbGluZVN0YXRlLHRoaXMuX2lzRGlzcG9zZWQ9ITB9LGUucHJvdG90eXBlLmlzRGlzcG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH0sZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxlLnByb3RvdHlwZS5fdHJ1bmNhdGVNZXNzYWdlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1lLmxlbmd0aD50PyIuLi4iOiIiO3JldHVybiBlPWUuc3Vic3RyKDAsdCksKG4/ZTp0aGlzLl9jbGVhblN0cmluZyhlKSkraX0sZS5wcm90b3R5cGUuX2NsZWFuU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnJlcGxhY2UoL1xyXG5ccyovZywiICIpLnJlcGxhY2UoL1xuXHMqL2csIiAiKX0sZX0oKTt0LmV4cG9ydHM9bH0seyIuLi9zaGFyZWQvZW51bXMiOjE0fV0sNzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1lKCIuL3N0YWNrRW50cnkiKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9hY3R1YWw9ZS5hY3R1YWwsdGhpcy5fZXhwZWN0ZWQ9ZS5leHBlY3RlZCx0aGlzLl9tZXNzYWdlPWUubWVzc2FnZSx0aGlzLl9zdGFjaz1lLnN0YWNrLHRoaXMuX3NuYXBzaG90PWUuc25hcHNob3QsdGhpcy5fY29udGV4dD1lLmNvbnRleHR8fHt9fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3N0YWNrO3RoaXMuX3N0YWNrPVtdLF8uZWFjaCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuX3N0YWNrLnB1c2gobmV3IGkodFswXSx0WzFdLGUuX2NvbnRleHRbbl0pKX0pLGRlbGV0ZSB0aGlzLl9jb250ZXh0fSxlLnByb3RvdHlwZS5zdGFjaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGFja30sZS5wcm90b3R5cGUubWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlfSxlLnByb3RvdHlwZS5hY3R1YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0dWFsfSxlLnByb3RvdHlwZS5leHBlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHBlY3RlZH0sZS5wcm90b3R5cGUuc25hcHNob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc25hcHNob3R9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybih0aGlzLl9tZXNzYWdlfHwiIikrXy5yZWR1Y2UodGhpcy5fc3RhY2ssZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSs9dC5rZXkoKX0sIiIpfSxlfSgpO3QuZXhwb3J0cz1yfSx7Ii4vc3RhY2tFbnRyeSI6MTJ9XSw4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4vZXJyb3JFbnRyeSIpLHI9KGUoIi4vc3RhY2tFbnRyeSIpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLl9pZD1lLmlkLHRoaXMuX2ZpbGVJZD1lLmZpbGVJZCx0aGlzLl9sb2c9ZS5sb2csdGhpcy5fbmFtZT1lLm5hbWUsdGhpcy5fdGVzdHM9ZS50ZXN0cyx0aGlzLl9zdGFydD1lLnN0YXJ0LHRoaXMuX3RpbWU9ZS50aW1lLHRoaXMuX3Nsb3c9ZS5zbG93fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsbixyLHMpe3ZhciBvPXRoaXM7aWYodGhpcy5fcGFyZW50PXQsdGhpcy5faWQmJih0aGlzLl9idWlsZEZ1bGxOYW1lQW5kUGF0aCgpLHRoaXMuX3NldEtleSgpLHIodGhpcyksdGhpcy5fY292ZXJlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2NvdmVyZWRGaWxlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX3RzPW4sdGhpcy5fbG9nJiZ0aGlzLl9sb2cubGVuZ3RoKSl7dGhpcy5faXNGYWlsaW5nPSEwO3ZhciBhPXRoaXMuX2xvZzt0aGlzLl9sb2c9W10sdGhpcy5fZXJyb3JTdGFja01hcD1PYmplY3QuY3JlYXRlKG51bGwpLF8uZWFjaChhLGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKGUpO3QuaW5pdCgpLF8uZWFjaCh0LnN0YWNrKCksZnVuY3Rpb24oZSl7dmFyIG49ZS5rZXkoKSxpPW8uX2Vycm9yU3RhY2tNYXBbbl07aT9+Xy5pbmRleE9mKGksdCl8fGkucHVzaCh0KTooaT1bXSxpLnB1c2godCksby5fZXJyb3JTdGFja01hcFtuXT1pKSxpLnN0YWNrRW50cnk9ZSxzKGUpfSksby5fbG9nLnB1c2godCl9KX10aGlzLl90ZXN0cyYmKF8uZWFjaCh0aGlzLl90ZXN0cyxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCkuaW5pdChvLG4scixzKX0pLGRlbGV0ZSB0aGlzLl90ZXN0cyl9LGUucHJvdG90eXBlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfSxlLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5fHwodGhpcy5fc2V0S2V5KCksdGhpcy5fa2V5KX0sZS5wcm90b3R5cGUuX3NldEtleT1mdW5jdGlvbigpe3RoaXMuX2tleT10aGlzLl9maWxlSWQrIl8iK3RoaXMuX2Z1bGxOYW1lfSxlLnByb3RvdHlwZS5maWxlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsZUlkfSxlLnByb3RvdHlwZS5maWxlUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXN0RmlsZSYmdGhpcy5fdGVzdEZpbGUucGF0aCgpfSxlLnByb3RvdHlwZS50aW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbWV9LGUucHJvdG90eXBlLmVycm9ycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2d9LGUucHJvdG90eXBlLmFkZENvbnNvbGVNZXNzYWdlPWZ1bmN0aW9uKGUpe3RoaXMuX2NvbnNvbGVNZXNzYWdlc3x8KHRoaXMuX2NvbnNvbGVNZXNzYWdlcz1bXSksdGhpcy5fY29uc29sZU1lc3NhZ2VzLnB1c2goZSl9LGUucHJvdG90eXBlLmNvbnNvbGVNZXNzYWdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25zb2xlTWVzc2FnZXN9LGUucHJvdG90eXBlLmlzRmFpbGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0ZhaWxpbmd9LGUucHJvdG90eXBlLnNsb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2xvd30sZS5wcm90b3R5cGUuc2V0VGVzdEZpbGU9ZnVuY3Rpb24oZSl7dGhpcy5fdGVzdEZpbGU9ZX0sZS5wcm90b3R5cGUub2Jzb2xldGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZGVsZXRlIHRoaXMuX3N0YXJ0UmFuZ2UsZGVsZXRlIHRoaXMuX3Rlc3RGaWxlLHRoaXMuX2NvdmVyZWRSYW5nZXMmJihfLmVhY2godGhpcy5fY292ZXJlZFJhbmdlcyxmdW5jdGlvbihuKXtpZihuLm5vdENvdmVyZWRCeShlKSwhbi5pc0Rpc3Bvc2VkKCkpe3ZhciBpPW4uc291cmNlRmlsZSgpO3RbaS5rZXkoKV09aX19KSxkZWxldGUgdGhpcy5fY292ZXJlZFJhbmdlcyksZGVsZXRlIHRoaXMuX2Vycm9yU3RhY2tNYXAsZGVsZXRlIHRoaXMuX2NvbnNvbGVNZXNzYWdlcyxkZWxldGUgdGhpcy5fY292ZXJlZEZpbGVzLHR9LGUucHJvdG90eXBlLmNvdmVycz1mdW5jdGlvbihlKXt0aGlzLl9jb3ZlcmVkUmFuZ2VzW2Uua2V5KCldPWU7dmFyIHQ9ZS5zb3VyY2VGaWxlKCk7dCYmIXQuaXNUZXN0RmlsZSgpJiYodGhpcy5fY292ZXJlZEZpbGVzW3Qua2V5KCldPXQpfSxlLnByb3RvdHlwZS5jb3ZlcmVkRmlsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gXy5tYXAodGhpcy5fY292ZXJlZEZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybiBlfSl9LGUucHJvdG90eXBlLnN0YXJ0UmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnRSYW5nZX0sZS5wcm90b3R5cGUuY29tcGxldGVJbml0aWFsaXphdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2Vycm9yU3RhY2tNYXAmJl8uZWFjaCh0aGlzLl9lcnJvclN0YWNrTWFwLGZ1bmN0aW9uKG4pe3ZhciBpPW4uc3RhY2tFbnRyeTtpZihpKXt2YXIgcj1lW2kuZmlsZUlkKCldO2lmKHIpe3ZhciBzPXIuY2xvc2VzdFJhbmdlKGkubGluZSgpKTtzJiYoaS5zZXRSYW5nZShzKSxzLmZhaWxzVGVzdCh0LG4pKX19fSksdGhpcy5fY29uc29sZU1lc3NhZ2VzJiZfLmVhY2godGhpcy5fY29uc29sZU1lc3NhZ2VzLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZSgpO3QmJmUuc2V0UmFuZ2UodC5jbG9zZXN0UmFuZ2UoZS5saW5lKCkpKX0pLHRoaXMuX2NvdmVyZWRSYW5nZXMmJihfLmlzVW5kZWZpbmVkKHRoaXMuX3N0YXJ0KXx8KHRoaXMuX3N0YXJ0UmFuZ2U9dGhpcy5fdGVzdEZpbGUuY2xvc2VzdFJhbmdlKHRoaXMuX3N0YXJ0KSxkZWxldGUgdGhpcy5fc3RhcnQpLHRoaXMuX3N0YXJ0UmFuZ2V8fF8uZWFjaCh0aGlzLl9jb3ZlcmVkUmFuZ2VzLGZ1bmN0aW9uKGUpe3ZhciBuPWUuc291cmNlRmlsZSgpO249PXQuX3Rlc3RGaWxlJiYodC5fc3RhcnRSYW5nZT9lLmVuZExpbmUoKTx0Ll9zdGFydFJhbmdlLmVuZExpbmUoKSYmKHQuX3N0YXJ0UmFuZ2U9ZSk6dC5fc3RhcnRSYW5nZT1lKX0pKX0sZS5wcm90b3R5cGUucGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXRofSxlLnByb3RvdHlwZS50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90c30sZS5wcm90b3R5cGUuX2J1aWxkRnVsbE5hbWVBbmRQYXRoPWZ1bmN0aW9uKCl7dmFyIGU9W107ZS5wdXNoKHRoaXMuX25hbWUpO2Zvcih2YXIgdD10aGlzLl9wYXJlbnQ7bnVsbCE9dDspe3ZhciBuPXQuX25hbWU7ZS5wdXNoKG4pLHQ9dC5fcGFyZW50fWUucmV2ZXJzZSgpLHRoaXMuX2Z1bGxOYW1lPWUuam9pbigi4piGIiksdGhpcy5fcGF0aD1lfSxlfSgpKTt0LmV4cG9ydHM9cn0seyIuL2Vycm9yRW50cnkiOjcsIi4vc3RhY2tFbnRyeSI6MTJ9XSw5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpLHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSl9O3JldHVybiBmdW5jdGlvbih0LG4pe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LG4pLHQucHJvdG90eXBlPW51bGw9PT1uP09iamVjdC5jcmVhdGUobik6KGkucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyBpKX19KCkscz1lKCJwYXRoIiksbz1lKCJjaG9raWRhciIpLkZTV2F0Y2hlcixhPWUoIm1pbmltYXRjaCIpLGw9ZSgiLi4vc2hhcmVkL3V0aWxzIiksYz0xZTMsdT01MDAsZD01MCxoPXthcGs6MSxibXA6MSxjZ206MSxnMzoxLGdpZjoxLGllZjoxLGlyeDoxLGpwZWc6MSxqcGc6MSxqcGU6MSxrdHg6MSxwbmc6MSxidGlmOjEsc2dpOjEsc3ZnOjEsc3ZnejoxLHRpZmY6MSx0aWY6MSxwc2Q6MSx1dmk6MSx1dnZpOjEsdXZnOjEsdXZ2ZzoxLGRqdnU6MSxkanY6MSxzdWI6MSxkd2c6MSxkeGY6MSxmYnM6MSxmcHg6MSxmc3Q6MSxtbXI6MSxybGM6MSxtZGk6MSx3ZHA6MSxucHg6MSx3Ym1wOjEseGlmOjEsd2VicDoxLCIzZHMiOjEscmFzOjEsY214OjEsZmg6MSxmaGM6MSxmaDQ6MSxmaDU6MSxmaDc6MSxpY286MSxzaWQ6MSxwY3g6MSxwaWM6MSxwY3Q6MSxwbm06MSxwYm06MSxwZ206MSxwcG06MSxyZ2I6MSx0Z2E6MSx4Ym06MSx4cG06MSx4d2Q6MSxiaW46MSx4bHM6MSx4bHN4OjEsemlwOjEsbXA0OjEsbW86MSxub2RlOjEsZHVtcDoxLGRsbDoxLG1hcDoxLGxpYjoxLGV4cDoxLG9iajoxLHBkYjoxLGd6aXA6MSxnejoxLGRiOjEsZG9jeDoxfSxwPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4obixpKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX2RpZmZNYXRjaFBhdGNoPWkuZGlmZk1hdGNoUGF0Y2gsci5fYmFzZURpcj1uLHIuX2lzUmVhZHk9ITEsci5faXNTdG9wcGVkPSExLHIuX2ZpbGVzQnlQYXRoPU9iamVjdC5jcmVhdGUobnVsbCksci5fZmlsZXNCeUlkPU9iamVjdC5jcmVhdGUobnVsbCksci5fZmlsZUlkPTAsci5fbHJ1Q2FjaGU9ZSgibHJ1LWNhY2hlIikoe21heDoxMDQ4NTc2KmQsbGVuZ3RoOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxlbmd0aH19KSxyLl9yZWFkRmlsZVByb21pc2U9aS5yZWFkRmlsZVByb21pc2Usci5fcmVhbHBhdGhTeW5jPWkucmVhbHBhdGhTeW5jLHJ9cmV0dXJuIHIobix0KSxuLnByb3RvdHlwZS5zZXR1cD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMsYT10aGlzO2lmKGk9ZSgiZGVidWciKSgid2FsbGFieTpmcyIpLHByb2Nlc3MuZW52LnF1b2trYSl7dmFyIGw9dFswXSxkPXt9O3JldHVybiBhLl9pc1JlYWR5PSEwLGRbbC5wYXR0ZXJuXT1hLl9maWxlQWRkZWQobC5wYXR0ZXJuLHttZXRhZGF0YTpsLG10aW1lOntnZXRUaW1lOmZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfX19KSxRLndoZW4oZCl9dmFyIGg9W10scD1bXSxmPXt9LGc9e30sbT0wO18uZWFjaCh0LGZ1bmN0aW9uKGUpe2UuaWdub3JlP3AucHVzaChlKTooaC5wdXNoKGUpLGUub3JkZXI9KyttKX0pO3ZhciB2PW4mJm4uZ2xvYjtuJiZuLmZpbGVTY2FuVGltZW91dCYmKGM9dT1uLmZpbGVTY2FuVGltZW91dCk7dmFyIHk9dGhpcy5faXNJbmNsdWRlZChhLl9iYXNlRGlyLGgscCxmLHYpLFQ9e2lnbm9yZUluaXRpYWw6ITEsaWdub3JlUGVybWlzc2lvbkVycm9yczohMCx1c2VQb2xsaW5nOiJkYXJ3aW4iPT09cHJvY2Vzcy5wbGF0Zm9ybXx8ImxpbnV4Ij09PXByb2Nlc3MucGxhdGZvcm0saWdub3JlZDpmdW5jdGlvbihlLHQpe2lmKCF0KXJldHVybiExO2lmKHQuaXNTeW1ib2xpY0xpbmsoKSl0cnl7Z1tlXT17cGF0aDplLHJlYWxQYXRoOmEuX3JlYWxwYXRoU3luYyhlKX19Y2F0Y2gobil7fXZhciBpPXQuaXNGaWxlKCk7aWYoIWkpe3ZhciBvPXIuX2lzRW50aXR5RXhjbHVkZWQocy5qb2luKHMucmVsYXRpdmUoYS5fYmFzZURpcixlKSwiLyIpLHAsdik7cmV0dXJuIG8uZmlsZSYmby50ZXN0fXZhciBsPSF5KGUsdCk7aWYobCl7dmFyIGM9Xy5maW5kKGcsZnVuY3Rpb24odCl7cmV0dXJuIF8uc3RhcnRzV2l0aChlLHQucmVhbFBhdGgpfSk7YyYmKGw9IXkoZS5yZXBsYWNlKGMucmVhbFBhdGgsYy5wYXRoKSx0KSl9cmV0dXJuIGx9LGN3ZDphLl9iYXNlRGlyfTtpZihhLl9oYXNHbG9iQ2hhcnMoYS5fYmFzZURpcikpdGhyb3cgbmV3IEVycm9yKCJZb3VyIHByb2plY3QgZmlsZSBwYXRoIGNvbnRhaW5zIGdsb2IgY2hhcmFjdGVycywgbGlrZSBge2AsIGB9YCwgYFtgLCBgXWAsIGAoYCwgYClgLCBgKmAsIGB8YCBhbmQgaXQgbWF5IGNhdXNlIHRoZSBwcm9qZWN0IGZpbGUgc2Nhbm5pbmcgdG8gZmFpbCwgcGxlYXNlIHJlbW92ZSBnbG9iIGNoYXJhY3RlcnMgZnJvbSB0aGUgcHJvamVjdCBwYXRoLiIpO3RoaXMuX3dhdGNoZXI9bmV3IG8oVCk7dmFyIFI9Xy5yZWR1Y2UoaCxmdW5jdGlvbihlLHQpe3ZhciBuPWEuX2dldEJhc2VEaXIodC5wYXR0ZXJuKTtyZXR1cm4gZVtuXT1uLGV9LHt9KTtfLmVhY2goUixmdW5jdGlvbihlKXtpZighXy5maW5kKFIsZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1lJiZlLnN1YnN0cigwLHQubGVuZ3RoKzEpPT09dCsiLyJ9KSl7dmFyIHQ9dm9pZCAwLG49cy5ub3JtYWxpemUocy5qb2luKGEuX2Jhc2VEaXIsZSkpO3RyeXt0PXMubm9ybWFsaXplKGEuX3JlYWxwYXRoU3luYyhuKSl9Y2F0Y2gocil7fXQmJnQhPT1uPyhpKCJQb3NzaWJsZSBzeW1saW5rOiAlcyAtPiAlcyIsdCxuKSxmW3RdPXtyZWFsUGF0aDp0LGxpbmtlZFBhdGg6bn0sYS5fd2F0Y2hlci5hZGQodCkpOmEuX3dhdGNoZXIuYWRkKGUpfX0pO3ZhciBWO3JldHVybiBRLnByb21pc2UoZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXthLl9pc1JlYWR5fHwoYS5faXNSZWFkeT0hMCx0JiZpKCJGaWxlIHN5c3RlbSBzY2FuIGhhcyBmaW5pc2hlZCBieSB0aW1lb3V0IiksZShhLl9maWxlc0J5UGF0aCkpfTt0cnl7YS5fd2F0Y2hlci5vbigiYWxsIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChWKSxWPXNldFRpbWVvdXQoXy5iaW5kKG4sbnVsbCwhMCksYyl9KS5vbigiYWRkIixfLmJpbmQoYS5fd2l0aE5vcm1hbGl6ZWRQYXRoLGEsYS5fZmlsZUFkZGVkKSkub24oImNoYW5nZSIsXy5iaW5kKGEuX3dpdGhOb3JtYWxpemVkUGF0aCxhLGEuX2ZpbGVDaGFuZ2VkKSkub24oInVubGluayIsXy5iaW5kKGEuX3dpdGhOb3JtYWxpemVkUGF0aCxhLGEuX2ZpbGVEZWxldGVkKSkub24oInJlYWR5IixfLmRlYm91bmNlKG4sdSkpLm9uKCJlcnJvciIsXy5iaW5kKGEuZW1pdCxhLCJlcnJvciIpKX1jYXRjaChyKXt0KHIpfX0pfSxuLnByb3RvdHlwZS5faGFzR2xvYkNoYXJzPWZ1bmN0aW9uKGUpe3JldHVybn5lLmluZGV4T2YoIigiKXx8fmUuaW5kZXhPZigiKSIpfHx+ZS5pbmRleE9mKCJ8Iil8fH5lLmluZGV4T2YoInsiKXx8fmUuaW5kZXhPZigifSIpfHx+ZS5pbmRleE9mKCIqIil8fH5lLmluZGV4T2YoIlsiKXx8fmUuaW5kZXhPZigiXSIpfSxuLnByb3RvdHlwZS5sb2FkRmlsZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gUS5hbGwoXy5tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gdC5fbG9hZEZpbGUoZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5lbWl0KCJsb2FkZWQiLGUpfSl9KSl9LG4ucHJvdG90eXBlLmZpbGVDaGFuZ2VkSW5FZGl0b3I9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX2ZpbGVzQnlQYXRoW2VdO2lmKHImJiFyLmJpbmFyeSl7aSgiRmlsZSBjaGFuZ2VkIGluIGVkaXRvcjogJXMiLHIucGF0aCk7dmFyIHM9dGhpcy5fbHJ1Q2FjaGUuZ2V0KHIucGF0aCk7dGhpcy5fbHJ1Q2FjaGUuc2V0KHIucGF0aCx0KSxyLmNoYW5nZVRzKyssdGhpcy5fZW1pdEZpbGVDaGFuZ2UoXy5leHRlbmQoe30scix7Y29udGVudDp0fSkscyxuLCEwKX19LG4ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLl9pc1N0b3BwZWQ9ITAsdGhpcy5fd2F0Y2hlciYmKHRoaXMuX3dhdGNoZXIuY2xvc2UoKSxkZWxldGUgdGhpcy5fbHJ1Q2FjaGUpfSxuLnByb3RvdHlwZS5pZEJ5UGF0aD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9maWxlc0J5UGF0aFtlXTtpZih0KXJldHVybiB0LmlkfSxuLnByb3RvdHlwZS5fbG9hZEZpbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZmlsZXNCeUlkW2VdO2lmKCF0KXRocm93IG5ldyBFcnJvcigiTm8gZmlsZSB3aXRoIGlkICIrZSsiIGZvdW5kIik7cmV0dXJuIHRoaXMuX2xvYWRGaWxlV2l0aENhY2hlKHQpfSxuLnByb3RvdHlwZS5fbG9hZEZpbGVXaXRoQ2FjaGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUuY2hhbmdlVHMsaT10aGlzLl9scnVDYWNoZS5nZXQoZS5wYXRoKTtyZXR1cm4oXy5pc1VuZGVmaW5lZChpKT90aGlzLl9yZWFkRmlsZVByb21pc2Uocy5qb2luKHQuX2Jhc2VEaXIsZS5wYXRoKSk6US53aGVuKGkpKS50aGVuKGZ1bmN0aW9uKGkpe3JldHVybiBpPWk/ZS5iaW5hcnk/aS50b1N0cmluZygiYmFzZTY0Iik6aS50b1N0cmluZygpOiIiLHQuX2lzU3RvcHBlZHx8biE9PWUuY2hhbmdlVHN8fHQuX2xydUNhY2hlLnNldChlLnBhdGgsaSksUS53aGVuKF8uZXh0ZW5kKHt9LGUse2NvbnRlbnQ6aX0pKX0pWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVtaXQoImVycm9yIixlKX0pfSxuLnByb3RvdHlwZS5fZmlsZUFkZGVkPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZihpKCJGaWxlIGFkZGVkOiAlcyIsZSksdCYmdC5tZXRhZGF0YSl7dmFyIHI9dC5tZXRhZGF0YSxvPXMuZXh0bmFtZShlKS5zdWJzdHIoMSk7cmV0dXJuIHIuY2hhbmdlVHM9MSxyLmlkPSsrdGhpcy5fZmlsZUlkLHIudHM9dC5tdGltZS5nZXRUaW1lKCksci50eXBlPW8mJm8udG9Mb3dlckNhc2UoKSxyLmJpbmFyeT1yLmJpbmFyeXx8aFtyLnR5cGVdLHIucGF0aD1lLHRoaXMuX2ZpbGVzQnlQYXRoW2VdPXIsdGhpcy5fZmlsZXNCeUlkW3IuaWRdPXIsdGhpcy5faXNSZWFkeSYmKHRoaXMuX2xydUNhY2hlLmRlbChlKSx0aGlzLl9sb2FkRmlsZVdpdGhDYWNoZShyKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuLmVtaXQoImFkZGVkIixlKX0pKSxyfWkoIk5vIG1ldGFkYXRhIGZvciBhZGRlZCBmaWxlIGZvdW5kOiAlcyIsZSl9LG4ucHJvdG90eXBlLl9maWxlQ2hhbmdlZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2koIkZpbGUgY2hhbmdlZDogJXMiLGUpO3ZhciBuPXRoaXMuX2ZpbGVzQnlQYXRoW2VdO2lmKG4pe2lmKHRoaXMuX2lzUmVhZHkpe3ZhciByPXRoaXMuX2xydUNhY2hlLmdldChlKTt0aGlzLl9scnVDYWNoZS5kZWwoZSk7dmFyIHM9KytuLmNoYW5nZVRzO3RoaXMuX2xvYWRGaWxlV2l0aENhY2hlKG4pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhbmdlVHM9PT1zJiZ0Ll9lbWl0RmlsZUNoYW5nZShlLHIpfSl9fWVsc2UgaSgiTm8gbWV0YWRhdGEgZm9yIGNoYW5nZWQgZmlsZSBmb3VuZDogJXMiLGUpfSxuLnByb3RvdHlwZS5fZW1pdEZpbGVDaGFuZ2U9ZnVuY3Rpb24oZSx0LG4scil7dmFyIHM9ZS5jb250ZW50O2lmKF8uaXNTdHJpbmcodCkpe3ZhciBvPXRoaXMuX2RpZmZNYXRjaFBhdGNoLnBhdGNoX21ha2UodCxzKTtpZighby5sZW5ndGgpcmV0dXJuIGkoIk5vIGNoYW5nZXMgZGV0ZWN0ZWQgZm9yICVzIixlLnBhdGgpLHZvaWQgdGhpcy5lbWl0KCJub3RDaGFuZ2VkIixlLHMsbik7ZS5jb250ZW50PXRoaXMuX2RpZmZNYXRjaFBhdGNoLnBhdGNoX3RvVGV4dChvKX10aGlzLmVtaXQoImNoYW5nZWQiLGUscyxuLHIpfSxuLnByb3RvdHlwZS5fZmlsZURlbGV0ZWQ9ZnVuY3Rpb24oZSl7aSgiRmlsZSBkZWxldGVkOiAlcyIsZSksdGhpcy5fbHJ1Q2FjaGUuZGVsKGUpO3ZhciB0PXRoaXMuX2ZpbGVzQnlQYXRoW2VdO3Q/KGRlbGV0ZSB0aGlzLl9maWxlc0J5UGF0aFtlXSxkZWxldGUgdGhpcy5fZmlsZXNCeUlkW3QuaWRdLHRoaXMuX2lzUmVhZHkmJnRoaXMuZW1pdCgiZGVsZXRlZCIsdCkpOmkoIk5vIG1ldGFkYXRhIGZvciBkZWxldGVkIGZpbGUgZm91bmQ6ICVzIixlKX0sbi5wcm90b3R5cGUuX3dpdGhOb3JtYWxpemVkUGF0aD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG4mJm4ubGlua2VkUGF0aCYmKHQ9bi5saW5rZWRQYXRoKSxlLmNhbGwodGhpcyxsLm5vcm1hbGl6ZVBhdGgodCksbil9LG4ucHJvdG90eXBlLl9pc0luY2x1ZGVkPWZ1bmN0aW9uKGUsdCxuLGkscil7dmFyIG89dGhpcztyZXR1cm4gZnVuY3Rpb24obCxjKXt2YXIgdT1pW2xdO2lmKHUpbD1zLnJlbGF0aXZlKGUsdS5saW5rZWRQYXRoKSxjJiYoYy5saW5rZWRQYXRoPWwpO2Vsc2UgaWYoMD09PWwuaW5kZXhPZihlKSlsPXMucmVsYXRpdmUoZSxsKTtlbHNle3ZhciBkPV8uZmluZChpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT1sLmluZGV4T2YodCl9KTtpZighZClyZXR1cm4hMTtsPXMucmVsYXRpdmUoZSxsLnJlcGxhY2UoZC5yZWFsUGF0aCxkLmxpbmtlZFBhdGgpKSxjJiYoYy5saW5rZWRQYXRoPWwpfXZhciBoPW8uX2lzRW50aXR5RXhjbHVkZWQobCxuLHIpO2lmKGguZmlsZSYmaC50ZXN0KXJldHVybiExO3ZhciBwPXI/Ii4vIitsOmwsZj1fLmNsb25lKF8uZmluZCh0LGZ1bmN0aW9uKGUpe3JldHVybighaC5maWxlJiYhZS50ZXN0fHwhaC50ZXN0JiZlLnRlc3QpJiZhKHAsKHI/Ii4vIjoiIikrZS5wYXR0ZXJuKX0pKTtyZXR1cm4gYyYmKGMubWV0YWRhdGE9ZiksISFmfX0sbi5wcm90b3R5cGUuX2lzRW50aXR5RXhjbHVkZWQ9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaSxyLHM9bj8iLi8iK2U6ZSxvPTAsbD10Lmxlbmd0aDtsPm87bysrKXt2YXIgYz10W29dLHU9Yy50ZXN0O2lmKCghaXx8dSkmJmEocywobj8iLi8iOiIiKStjLnBhdHRlcm4pKXtpZih1KXtyPWM7YnJlYWt9aT1jfX1yZXR1cm57ZmlsZTppLHRlc3Q6cn19LG4ucHJvdG90eXBlLl9nZXRCYXNlRGlyPWZ1bmN0aW9uKGUpe3ZhciB0PWwubm9ybWFsaXplUGF0aChlLnJlcGxhY2UoL1tcL1xcXVteXC9cXF0qXCouKiQvLCIiKS5yZXBsYWNlKC9bXC9cXF1bXlwvXFxdKltcIVwrXVwoLiokLywiIikucmVwbGFjZSgvW1wvXFxdW15cL1xcXSpcKVw/LiokLywiIil8fHMuc2VwKTtyZXR1cm4gdGhpcy5faGFzR2xvYkNoYXJzKHQpJiYodD0iLi8iKSx0fSxufShFdmVudEVtaXR0ZXIpO3QuZXhwb3J0cz1wfSx7Ii4uL3NoYXJlZC91dGlscyI6MTUsY2hva2lkYXI6dm9pZCAwLGRlYnVnOnZvaWQgMCwibHJ1LWNhY2hlIjp2b2lkIDAsbWluaW1hdGNoOnZvaWQgMCxwYXRoOnZvaWQgMH1dLDEwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlW25dPXRbbl0pfTtyZXR1cm4gZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxuKSx0LnByb3RvdHlwZT1udWxsPT09bj9PYmplY3QuY3JlYXRlKG4pOihpLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgaSl9fSgpLHI9KGUoInBhdGgiKSxlKCJtaW5pbWF0Y2giKSkscz1lKCIuLi9zaGFyZWQvdXRpbHMiKSxvPWUoIi4vdHJhY2tlZFNvdXJjZUZpbGUiKSxhPWUoIi4vY292ZXJhYmxlUmFuZ2UiKSxsPWUoIi4vZXhlY3V0ZWRUZXN0IiksYz1lKCIuL2NvbnNvbGVNZXNzYWdlIiksdT1lKCIuL2Vycm9yRW50cnkiKSxkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMpfHx0aGlzLGk9bjtuLl9maWxlSWRCeVBhdGg9dC5maWxlSWRCeVBhdGgsbi5fYWx3YXlzU2VuZEFsbExpbmVzPXQuYWx3YXlzU2VuZEFsbExpbmVzLG4uX2ZpbGVzPU9iamVjdC5jcmVhdGUobnVsbCksbi5fbnVtYmVyT2ZBbGxSYW5nZXM9MCxuLl9udW1iZXJPZkNvdmVyZWRSYW5nZXM9MCxuLl9jb3ZlcmFnZT17dmFsdWU6MCxsb3c6ITB9LG4uX3Rlc3RzPU9iamVjdC5jcmVhdGUobnVsbCksbi5fZmFpbGluZ1Rlc3RzPU9iamVjdC5jcmVhdGUobnVsbCksbi5fZ2xvYmFsRXJyb3JzPU9iamVjdC5jcmVhdGUobnVsbCksbi5fdGVzdFJ1bkdsb2JhbExvZ3M9W10sbi5fY2hhbmdlZD0hMCxuLl9wcm9qZWN0PXQucHJvamVjdDt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1pWyJwcm9qZWN0OiIrZS50eXBlXTt0JiZ0LmNhbGwoaSxlKX07cmV0dXJuIG4uX3Byb2plY3QuX21vZGVsfHxwcm9jZXNzLmVudi5xdW9ra2E/bi5fcHJvamVjdC5vbigibWVzc2FnZSIscik6bi5fcHJvamVjdC5vbigibWVzc2FnZSIsZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gcihlKX0sMzApfSksbn1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmNvbmZpZ0ZpbGVQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHMubm9ybWFsaXplUGF0aCh0aGlzLl9wcm9qZWN0LmNvbmZpZ0ZpbGVQYXRoKCkpfSx0LnByb3RvdHlwZS5wcm9qZWN0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0LnByb2plY3ROYW1lKCl9LHQucHJvdG90eXBlLnByb2plY3RDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdC5zZXR0aW5ncygpfSx0LnByb3RvdHlwZS5sb3dDb3ZlcmFnZVRocmVzaG9sZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9qZWN0LnNldHRpbmdzKCkubG93Q292ZXJhZ2VUaHJlc2hvbGR9LHQucHJvdG90eXBlLmNvcmVWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb2plY3QuY29yZVZlcnNpb24oKX0sdC5wcm90b3R5cGUuZmlsZUJ5UGF0aD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9maWxlSWRCeVBhdGgoZSk7aWYodClyZXR1cm4gdGhpcy5fZmlsZXNbdF19LHQucHJvdG90eXBlLmZpbGVCeUlkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9maWxlc1tlXX0sdC5wcm90b3R5cGUuZmlsZUNvbnRlbnRCeVBhdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5maWxlQnlQYXRoKGUpO3JldHVybiB0JiZ0aGlzLl9wcm9qZWN0LnJlYWRTb3VyY2VGaWxlKHQua2V5KCkpfSx0LnByb3RvdHlwZS50ZXN0c0J5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZihlLmZpbGUpe3ZhciBuPXRoaXMuZmlsZUJ5UGF0aChlLmZpbGUpO24mJihlLmxpbmV8fCFuLmlzVGVzdEZpbGUoKT9fLmVhY2goZS5saW5lP24ubGluZVRlc3RzKGUubGluZSk6bi5jb3ZlcmluZ1Rlc3RzKCksZnVuY3Rpb24oZSl7dC5wdXNoKFtlLmZpbGVJZCgpXS5jb25jYXQoZS5wYXRoKCkpKX0pOnQucHVzaChbbi5rZXkoKV0pKX1yZXR1cm4gdH0sdC5wcm90b3R5cGUudW5jb3ZlcmVkUmVnaW9uc0J5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmZpbGVCeVBhdGgoZS5maWxlKTtpZih0KXJldHVybiBfLmNoYWluKGUubGluZT90LmxpbmVSYW5nZXMoZS5saW5lKTp0LnJhbmdlcygpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUuaXNDb3ZlcmVkKCl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW2Uuc3RhcnRMaW5lKCksZS5zdGFydENvbHVtbigpLGUuZW5kTGluZSgpLGUuZW5kQ29sdW1uKCldfSkudmFsdWUoKX0sdC5wcm90b3R5cGUubGluZVJlcG9ydEJ5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmZpbGVCeVBhdGgoZS5maWxlKTtpZih0KXJldHVybiB0aGlzLl9saW5lUmVwb3J0KHQsZS5saW5lKX0sdC5wcm90b3R5cGUubG9jYXRpb25CeVJlcXVlc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbGF0ZXN0RmFpbGluZ1Rlc3RCeUZpbGVBbmRMaW5lKGUpO2lmKHQpe2lmKCJmYWlsaW5nVGVzdCI9PT1lLnR5cGUpe3ZhciBuPXQuc3RhcnRSYW5nZSgpO3JldHVybiBuP3tmaWxlOnQuZmlsZVBhdGgoKSxsb2M6W24uc3RhcnRMaW5lKCksbi5zdGFydENvbHVtbigpXX06e319aWYoImVycm9yU291cmNlIj09PWUudHlwZSl7dmFyIGk9Xy5maW5kKHQuZXJyb3JzKCksZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuc3RhY2smJmUuc3RhY2soKS5sZW5ndGh9KTtpZighaSl7dmFyIG49dC5zdGFydFJhbmdlKCk7cmV0dXJuIG4/e2ZpbGU6dC5maWxlUGF0aCgpLGxvYzpbbi5zdGFydExpbmUoKSxuLnN0YXJ0Q29sdW1uKCldfTp7fX12YXIgcj1pLnN0YWNrKClbMF0scz1yLnJhbmdlKCksbz17fTtyZXR1cm4gby5maWxlPXIuZmlsZVBhdGgoKSxzJiYoby5sb2M9W3Muc3RhcnRMaW5lKCkscy5zdGFydENvbHVtbigpXSksb319fSx0LnByb3RvdHlwZS5fbGF0ZXN0RmFpbGluZ1Rlc3RCeUZpbGVBbmRMaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZSYmdGhpcy5maWxlQnlQYXRoKGUuZmlsZSksbj10JiZlLmxpbmUmJnQubGluZUNvdmVyaW5nVGVzdHNPcmRlcmVkQnlGYWlsaW5nVGhlbkRhdGUoZS5saW5lLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXJyb3JTb3VyY2UoKXx8ZS5pc09uRXJyb3JQYXRoKCl9KVswXTtyZXR1cm4gbiYmbi5pc0ZhaWxpbmcoKXx8KG49dGhpcy5sYXRlc3RGYWlsaW5nVGVzdCgpKSxufSx0LnByb3RvdHlwZS5lcnJvckJ5UmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9sYXRlc3RGYWlsaW5nVGVzdEJ5RmlsZUFuZExpbmUoZSk7aWYodCl7dmFyIG49dC5lcnJvcnMoKTtpZighbi5sZW5ndGgpcmV0dXJuO3ZhciBpPXQuZmlsZUlkKCk7aWYoImVycm9yU291cmNlIj09PWUudHlwZSlyZXR1cm4gdGhpcy5fbWFwRXJyb3JzKF8uZmlsdGVyKG4sZnVuY3Rpb24odCl7cmV0dXJuIF8uZmluZCh0LnN0YWNrKCksZnVuY3Rpb24odCl7cmV0dXJuIHQuZmlsZUlkKCk9PT1pJiZ0LmxpbmUoKT09PWUubGluZX0pfSkpWzBdO2lmKCJmYWlsaW5nVGVzdCI9PT1lLnR5cGUpcmV0dXJuIHRoaXMuX21hcEVycm9ycyhuKVswXX19LHQucHJvdG90eXBlLmxhdGVzdEZhaWxpbmdUZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIF8ubGFzdChfLnZhbHVlcyh0aGlzLl9mYWlsaW5nVGVzdHMpKX0sdC5wcm90b3R5cGUuZnVsbFRlc3RSZXN1bHRzUmVwb3J0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3J1bkVycm9yKXJldHVybiB0aGlzLl9ydW5FcnJvcjt2YXIgdD17ZXJyb3JzOnRoaXMuX21hcEVycm9ycyh0aGlzLl9nbG9iYWxFcnJvcnMpLHRpbWU6ZX07aWYocHJvY2Vzcy5lbnYucXVva2thKXt0Lm1lc3NhZ2VzPXRoaXMuX21hcE1lc3NhZ2VzKHRoaXMuX3Rlc3RSdW5HbG9iYWxMb2dzKTt2YXIgbj10aGlzLl9wcm9qZWN0LnNldHRpbmdzKCk7biYmbi5xdW9ra2EmJm4ucXVva2thLmluc3RhbGxQYWNrYWdlJiZfLmVhY2godC5lcnJvcnMsZnVuY3Rpb24oZSl7aWYoZSYmZS5tZXNzYWdlKXt2YXIgdD1lLm1lc3NhZ2UubWF0Y2goL0Nhbm5vdCBmaW5kIG1vZHVsZSAnKFteJ1xzJnw7XSspJy8pO3QmJnRbMV0mJihlLm1pc3NpbmdQYWNrYWdlPXMudmFsaWRQYWNrYWdlTmFtZSh0WzFdKSl9fSl9ZWxzZSB0LnRvdGFsTnVtYmVyPV8uc2l6ZSh0aGlzLl90ZXN0cyksdC5mYWlsaW5nTnVtYmVyPV8uc2l6ZSh0aGlzLl9mYWlsaW5nVGVzdHMpLHQudGVzdHM9dGhpcy5fbWFwVGVzdHModGhpcy5fZmFpbGluZ1Rlc3RzKS5yZXZlcnNlKCkudmFsdWUoKTtyZXR1cm4gdH0sdC5wcm90b3R5cGUuYWxsVGVzdEZpbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIF8uZmlsdGVyKHRoaXMuX2ZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzVGVzdEZpbGUoKX0pfSx0LnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7dmFyIGU9Xy5zaXplKHRoaXMuX3Rlc3RzKSx0PV8uc2l6ZSh0aGlzLl9mYWlsaW5nVGVzdHMpO3JldHVybnt0b3RhbDplLHBhc3NlZDplLXQsZmFpbGVkOnQsY292ZXJhZ2U6dGhpcy5fY292ZXJhZ2V9fSx0LnByb3RvdHlwZS5hbGxGaWxlcz1mdW5jdGlvbigpe3JldHVybiBfLm1hcCh0aGlzLl9maWxlcyxmdW5jdGlvbihlKXtyZXR1cm57cGF0aDplLnBhdGgoKSxpZDplLmtleSgpfX0pfSx0LnByb3RvdHlwZS5nbG9iYWxFcnJvcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsRXJyb3JzfSx0LnByb3RvdHlwZVsicHJvamVjdDpzdGFydGluZyJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKGUuZmlsZXMsZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2FkZEZpbGUobmV3IG8oZSkpfSksdGhpcy5fZW1pdCgiYWxsRmlsZXMiLHtmaWxlczplLmZpbGVzfSl9LHQucHJvdG90eXBlWyJwcm9qZWN0OmZpbGUiXT1mdW5jdGlvbihlKXt2YXIgdD1lLmZpbGUsbj1lWyJkZWxldGUiXSxpPXRoaXMuZmlsZUJ5SWQodC5pZCk7aWYoaSYmIW4mJnRoaXMuX2VtaXQoImZpbGVDaGFuZ2VkIix7ZmlsZTp0fSksaXx8bnx8KGk9bmV3IG8odCksdGhpcy5fYWRkRmlsZShpKSx0aGlzLl9lbWl0KCJmaWxlQWRkZWQiLHtmaWxlOnR9KSksaSYmbil7dGhpcy5fZGVsZXRlRmlsZSh0LmlkKTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpLHM9aS5vd25UZXN0cygpO3RoaXMuX3Rlc3RzUmVtb3ZlZChzKSxfLmVhY2gocyxmdW5jdGlvbihlKXtyZXR1cm4gXy5leHRlbmQocixlLm9ic29sZXRlKCkpfSksZGVsZXRlIHJbdC5pZF0saS5pc1Rlc3RGaWxlKCkmJnRoaXMuX2VtaXQoInRlc3RGaWxlRGVsZXRlZCIse2ZpbGU6dH0pLHRoaXMuX2VtaXQoImZpbGVEZWxldGVkIix7ZmlsZTp0fSksdGhpcy5fdXBkYXRlQWZmZWN0ZWRGaWxlcyhyKSx0aGlzLl9hZ2dyZWdhdGVGaWxlQ292ZXJhZ2UoaSwhMCksdGhpcy5fdXBkYXRlVG90YWxDb3ZlcmFnZSgpLGkuZGlzcG9zZSgpfX0sdC5wcm90b3R5cGVbInByb2plY3Q6Y29uc29sZU91dHB1dCJdPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBjKGUuZGF0YSksbj10LmZpbGVJZCgpO2lmKG4pe3ZhciBpPXRoaXMuZmlsZUJ5SWQobikscj10LnJhbmdlKCk7aSYmciYmdC5zZXRGaWxlKGkpfXRoaXMuX2VtaXQoImNvbnNvbGVPdXRwdXQiLHttZXNzYWdlOnRoaXMuX21hcE1lc3NhZ2UodCl9KX0sdC5wcm90b3R5cGVbInByb2plY3Q6dGVzdFJ1bkVycm9yIl09ZnVuY3Rpb24oZSl7dGhpcy5fcmVwb3J0RmFpbGVkUnVuKGUubWVzc2FnZSl9LHQucHJvdG90eXBlWyJwcm9qZWN0OnRlc3RSZXN1bHRzIl09ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLGk9T2JqZWN0LmNyZWF0ZShudWxsKSxyPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5fcmVwb3J0Tm9ybWFsUnVuKCksdGhpcy5fdGVzdFJ1bkdsb2JhbExvZ3M9W10sXy5lYWNoKGUudGVzdHMsZnVuY3Rpb24ocil7dmFyIHM9bmV3IGwocik7cy5pbml0KG51bGwsZS50cyxmdW5jdGlvbihlKXtpW2UuaWQoKV09ZSx0IT09ITEmJih0P3QuaXNGYWlsaW5nKCl8fCh0PWUuaXNGYWlsaW5nKCk/ZTohMSk6dD1lKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0RmlsZShuLmZpbGVCeUlkKGUuZmlsZUlkKCkpKX0pfSksXy5lYWNoKGUubG9nLGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBjKGUpLHI9dC50ZXN0SWQoKTtpZigwIT09cil7dmFyIHM9aVtyXTtzJiZzLmFkZENvbnNvbGVNZXNzYWdlKHQpfXZhciBvPXQuZmlsZUlkKCk7aWYobyl7dmFyIGE9bi5maWxlQnlJZChvKSxsPXQucmFuZ2UoKTthJiZsJiYoYS5zZXRSYW5nZUNvbnNvbGVMb2codC50ZXh0KCksbCksdC5zZXRGaWxlKGEpKX0wPT09ciYmcHJvY2Vzcy5lbnYucXVva2thJiZuLl90ZXN0UnVuR2xvYmFsTG9ncy5wdXNoKHQpfSk7dmFyIHM9T2JqZWN0LmNyZWF0ZShudWxsKSxvPU9iamVjdC5jcmVhdGUobnVsbCksYT1fLm1hcChlLmZpbGVzLGZ1bmN0aW9uKGUpe3JldHVybntjb3ZlcmFnZTplLGZpbGU6bi5maWxlQnlJZChlLmlkKX19KSxkPV8uZmlsdGVyKGEsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maWxlLmlzVGVzdEZpbGUoKSxuPWUuY292ZXJhZ2UuY2hhbmdlZCYmIWUuY292ZXJhZ2Uuc2luZ2xlVGVzdENoYW5nZWQsaT10JiZuO3JldHVybiBpP3NbZS5maWxlLmtleSgpXT1lLmZpbGU6dCYmKG9bZS5maWxlLmtleSgpXT1lLmZpbGUpLGl9KTtfLmVhY2goZCxmdW5jdGlvbihlKXt2YXIgdD1lLmZpbGU7bi5fdGVzdHNSZW1vdmVkKHQub3duVGVzdHMoKSksXy5lYWNoKHQucmVtb3ZlQWxsVGVzdHMoKSxmdW5jdGlvbihlKXtyW2Uua2V5KCldPWV9KX0pLF8uZWFjaChpLGZ1bmN0aW9uKGUpe3ZhciB0PW4uZmlsZUJ5SWQoZS5maWxlSWQoKSk7Xy5lYWNoKHQuYWRkVGVzdChlKSxmdW5jdGlvbihlKXtyW2Uua2V5KCldPWV9KSxuLl90ZXN0QWRkZWQoZSl9KSxfLmVhY2goYSxmdW5jdGlvbihlKXtuLl91cGRhdGVGaWxlUmFuZ2VzKGUsaSkscltlLmZpbGUua2V5KCldPWUuZmlsZX0pLF8uZWFjaChpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbXBsZXRlSW5pdGlhbGl6YXRpb24obi5fZmlsZXNCeUlkKCkpfSk7dmFyIGg9W107Xy5lYWNoKGUuZ2xvYmFsRXJyb3JzLGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB1KGUpO3QuaW5pdCgpLF8uZWFjaCh0LnN0YWNrKCksZnVuY3Rpb24oZSl7dmFyIGk9bi5maWxlQnlJZChlLmZpbGVJZCgpKTtpZihpKXtlLnNldEZpbGUoaSk7dmFyIHI9aS5jbG9zZXN0UmFuZ2UoZS5saW5lKCkpO251bGwhPXImJihlLnNldFJhbmdlKHIpLHIuZmFpbHModCkpfX0pLGgucHVzaCh0KX0pLF8uZWFjaChuLl90ZXN0UnVuR2xvYmFsTG9ncyxmdW5jdGlvbihlKXt2YXIgdD1lLmZpbGUoKTt0JiZlLnNldFJhbmdlKHQuY2xvc2VzdFJhbmdlKGUubGluZSgpKSl9KSx0aGlzLl9yZXBvcnRHbG9iYWxFcnJvcnMoaCksdGhpcy5fdXBkYXRlQWZmZWN0ZWRGaWxlcyhyLGUudGltZSksdGhpcy5fZW1pdCgidGVzdHNFeGVjdXRlZCIse2ZpcnN0RmFpbGluZ09yU2luZ2xlRXhlY3V0ZWRUZXN0OnR8fHZvaWQgMCxhbGxBZmZlY3RlZEZpbGVzOnIsY2hhbmdlZDpzLGV4ZWN1dGVkOm8sZnVsbFJ1bjplLmZ1bGxSdW59KX0sdC5wcm90b3R5cGUuX2FkZEZpbGU9ZnVuY3Rpb24oZSl7dGhpcy5fZmlsZXNbZS5rZXkoKV09ZSxlLmhhc1JlcG9ydGFibGVDb3ZlcmFnZSgpJiYoZS5fbm9Db3ZlcmFnZUNhbGN1bGF0aW9uPSEhXy5maW5kKHRoaXMuX3Byb2plY3Quc2V0dGluZ3MoKS5maWxlc1dpdGhOb0NvdmVyYWdlQ2FsY3VsYXRlZCxmdW5jdGlvbih0KXtyZXR1cm4gcihlLnBhdGgoKSx0KX0pKX0sdC5wcm90b3R5cGUuX2RlbGV0ZUZpbGU9ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX2ZpbGVzW2VdfSx0LnByb3RvdHlwZS5fbGluZVJlcG9ydD1mdW5jdGlvbihlLHQpewpyZXR1cm57dGVzdHM6dGhpcy5fbWFwVGVzdHMoZS5saW5lQ292ZXJpbmdUZXN0c09yZGVyZWRCeUZhaWxpbmdUaGVuRGF0ZSh0KSl9fSx0LnByb3RvdHlwZS5fcmVwb3J0RmFpbGVkUnVuPWZ1bmN0aW9uKGUpe3RoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fcnVuRXJyb3I9ZX0sdC5wcm90b3R5cGUuX3JlcG9ydE5vcm1hbFJ1bj1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9ydW5FcnJvcn0sdC5wcm90b3R5cGUuX3JlcG9ydEdsb2JhbEVycm9ycz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLl9jaGFuZ2VkPXRoaXMuX2NoYW5nZWR8fF8uc2l6ZSh0aGlzLl9nbG9iYWxFcnJvcnMpIT09ZS5sZW5ndGgsXy5lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIGk9ZS5rZXkoKTtkZWxldGUgdC5fZ2xvYmFsRXJyb3JzW2ldLG5baV09ZX0pLHRoaXMuX2NoYW5nZWQ9dGhpcy5fY2hhbmdlZHx8IV8uaXNFbXB0eSh0aGlzLl9nbG9iYWxFcnJvcnMpLHRoaXMuX2dsb2JhbEVycm9ycz1ufSx0LnByb3RvdHlwZS5fdGVzdHNSZW1vdmVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Xy5lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIG49ZS5rZXkoKSxpPSEhdC5fZmFpbGluZ1Rlc3RzW25dO2RlbGV0ZSB0Ll90ZXN0c1tuXSxkZWxldGUgdC5fZmFpbGluZ1Rlc3RzW25dLHQuX2NoYW5nZWQ9aXx8dC5fY2hhbmdlZH0pfSx0LnByb3RvdHlwZS5fdGVzdEFkZGVkPWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5KCksbj10aGlzLl90ZXN0c1t0XTt0aGlzLl90ZXN0c1t0XT1lLGRlbGV0ZSB0aGlzLl9mYWlsaW5nVGVzdHNbdF0sZS5pc0ZhaWxpbmcoKSYmKHRoaXMuX2ZhaWxpbmdUZXN0c1t0XT1lKSx0aGlzLl9jaGFuZ2VkPSFufHxuJiZuLmlzRmFpbGluZygpfHxlLmlzRmFpbGluZygpfHx0aGlzLl9jaGFuZ2VkfSx0LnByb3RvdHlwZS5fZmlsZXNCeUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVzfSx0LnByb3RvdHlwZS5fdXBkYXRlQWZmZWN0ZWRGaWxlcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsaT1PYmplY3QuY3JlYXRlKG51bGwpLHI9W107Xy5lYWNoKGUsZnVuY3Rpb24oZSl7bi5fYWdncmVnYXRlRmlsZUNvdmVyYWdlKGUpJiZyLnB1c2goZSk7dmFyIHQ9ZS51cGRhdGVEb2N1bWVudCgpO3QmJihpW2UucGF0aCgpXT1uLl9hbHdheXNTZW5kQWxsTGluZXM/ZS5hbGxMaW5lcygpOnQpfSksXy5pc0VtcHR5KGkpfHx0aGlzLl9lbWl0KCJkb2N1bWVudHNVcGRhdGVkIix7ZG9jdW1lbnRzOml9KTt2YXIgcz10aGlzLl9jaGFuZ2VkO3MmJmRlbGV0ZSB0aGlzLl9jaGFuZ2VkLHIubGVuZ3RoJiZ0aGlzLl91cGRhdGVUb3RhbENvdmVyYWdlKCksdGhpcy5fZW1pdCgic3RhdHNNYXliZUNoYW5nZWQiLHt0ZXN0UmVzdWx0c0NoYW5nZWQ6cyxmaWxlc1dpdGhDaGFuZ2VkQ292ZXJhZ2U6cix0aW1lOnR9KX0sdC5wcm90b3R5cGUuX2FnZ3JlZ2F0ZUZpbGVDb3ZlcmFnZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7aWYoZS5oYXNSZXBvcnRhYmxlQ292ZXJhZ2UoKSl7dmFyIGk9dD8wOmUubnVtYmVyT2ZBbGxSYW5nZXMoKSxyPXQ/MDplLm51bWJlck9mQ292ZXJlZFJhbmdlcygpLHM9MCxvPTA7aWYoZS5fdmFsdWVzSW5jbHVkZWRJbkNvdmVyYWdlQWdncmVnYXRlPyhzPWktZS5fdmFsdWVzSW5jbHVkZWRJbkNvdmVyYWdlQWdncmVnYXRlLm51bWJlck9mQWxsUmFuZ2VzLG89ci1lLl92YWx1ZXNJbmNsdWRlZEluQ292ZXJhZ2VBZ2dyZWdhdGUubnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKToocz1pLG89ciksZS5fdmFsdWVzSW5jbHVkZWRJbkNvdmVyYWdlQWdncmVnYXRlPXtudW1iZXJPZkFsbFJhbmdlczppLG51bWJlck9mQ292ZXJlZFJhbmdlczpyfSxuLl9udW1iZXJPZkFsbFJhbmdlcys9cyxuLl9udW1iZXJPZkNvdmVyZWRSYW5nZXMrPW8sMCE9PXN8fDAhPT1vKXJldHVybiEwfX0sdC5wcm90b3R5cGUuX3VwZGF0ZVRvdGFsQ292ZXJhZ2U9ZnVuY3Rpb24oKXt2YXIgZT1NYXRoLnJvdW5kKDFlNCp0aGlzLl9udW1iZXJPZkNvdmVyZWRSYW5nZXMvdGhpcy5fbnVtYmVyT2ZBbGxSYW5nZXMpLzEwMHx8MDt0aGlzLl9jb3ZlcmFnZT17dmFsdWU6ZSxsb3c6ZTx0aGlzLmxvd0NvdmVyYWdlVGhyZXNob2xkKCl9fSx0LnByb3RvdHlwZS5fdXBkYXRlRmlsZVJhbmdlcz1mdW5jdGlvbihlLHQpe3ZhciBuPVtdLGk9ZS5maWxlLHI9ZS5jb3ZlcmFnZTtfLmVhY2goci5yYW5nZXMsZnVuY3Rpb24oZSl7dmFyIHI9bmV3IGEoZSk7ci5pbml0KGksdCksci5zZXRDb25zb2xlTG9nKGkucmFuZ2VDb25zb2xlTG9nKHIpKSxuLnB1c2gocil9KSxpLnNldFJhbmdlcyhuLHIuY2hhbmdlZCxlLmNvdmVyYWdlLnNpbmdsZVRlc3RDaGFuZ2VkKSxpLmNsZWFyUmFuZ2VDb25zb2xlTG9nKCl9LHQucHJvdG90eXBlLl9tYXBUZXN0cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBfKGUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57ZmFpbGluZzplLmlzRmFpbGluZygpLGxvYzp0Ll9yYW5nZVRvTG9jKGUuc3RhcnRSYW5nZSgpKSxmaWxlOmUuZmlsZVBhdGgoKSx0aW1lOmUudGltZSgpLGVycm9yczp0Ll9tYXBFcnJvcnMoZS5lcnJvcnMoKSkscGF0aDplLnBhdGgoKSxtZXNzYWdlczp0Ll9tYXBNZXNzYWdlcyhlLmNvbnNvbGVNZXNzYWdlcygpKX19KX0sdC5wcm90b3R5cGUuX21hcE1lc3NhZ2VzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIF8ubWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQuX21hcE1lc3NhZ2UoZSl9KX0sdC5wcm90b3R5cGUuX21hcE1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ZS50eXBlKCksdGV4dDplLnRleHQoKSxmaWxlOmUuZmlsZSgpJiZlLmZpbGUoKS5wYXRoKCksbG9jOnRoaXMuX3JhbmdlVG9Mb2MoZS5yYW5nZSgpKXx8ZS5saW5lKCksY29udGV4dDplLmNvbnRleHQoKSxleHBlY3RlZDplLmV4cGVjdGVkKCksYWN0dWFsOmUuYWN0dWFsKCl9fSx0LnByb3RvdHlwZS5fbWFwRXJyb3JzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIF8ubWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJue21lc3NhZ2U6ZS5tZXNzYWdlKCksc3RhY2s6Xy5tYXAoZS5zdGFjaygpLGZ1bmN0aW9uKGUpe3JldHVybntmaWxlOmUuZmlsZVBhdGgoKSxsb2M6dC5fcmFuZ2VUb0xvYyhlLnJhbmdlKCkpfHxlLmxpbmUoKSxjb250ZXh0OmUuY29udGV4dCgpfX0pLGV4cGVjdGVkOmUuZXhwZWN0ZWQoKSxhY3R1YWw6ZS5hY3R1YWwoKSxzbmFwc2hvdDplLnNuYXBzaG90KCl9fSl9LHQucHJvdG90eXBlLl9yYW5nZVRvTG9jPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnN0YXJ0TGluZSYmZS5zdGFydExpbmUoKSsiOiIrZS5zdGFydENvbHVtbigpfHx2b2lkIDB9LHQucHJvdG90eXBlLl9lbWl0PWZ1bmN0aW9uKGUsdCl7dGhpcy5lbWl0KCJtZXNzYWdlIixfLmV4dGVuZCh7dHlwZTplfSx0KSl9LHR9KEV2ZW50RW1pdHRlcik7dC5leHBvcnRzPWR9LHsiLi4vc2hhcmVkL3V0aWxzIjoxNSwiLi9jb25zb2xlTWVzc2FnZSI6MywiLi9jb3ZlcmFibGVSYW5nZSI6NCwiLi9lcnJvckVudHJ5Ijo3LCIuL2V4ZWN1dGVkVGVzdCI6OCwiLi90cmFja2VkU291cmNlRmlsZSI6MTMsbWluaW1hdGNoOnZvaWQgMCxwYXRoOnZvaWQgMH1dLDExOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoImRncmFtIikscj1lKCJvcyIpLHM9ZSgiLi8uLi8uLi91dGlscyIpLG89cy5yYW5kb21JZCgpLGE9bi5vcHRpb25zPXt0dGw6MTI4LGFkZHJlc3M6IjIzMC4wLjAuMyIscG9ydDo1NjM5OH0sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0cnl7dmFyIGU9dGhpczt0aGlzLl9saXN0ZW5lcnM9e30sdGhpcy5fc2VuZGVyPWkuY3JlYXRlU29ja2V0KCJ1ZHA0IiksdGhpcy5fc2VuZGVyLmJpbmQoZnVuY3Rpb24oKXtlLl9zZW5kZXIuc2V0QnJvYWRjYXN0KCEwKSxlLl9zZW5kZXIuc2V0TXVsdGljYXN0VFRMKGEudHRsKX0pLHRoaXMuX3NlbmRlci5vbigiZXJyb3IiLGZ1bmN0aW9uKCl7dHJ5e2UuX3NlbmRlci5jbG9zZSgpfWNhdGNoKHQpe319KSx0aGlzLl9yZWNlaXZlcj1pLmNyZWF0ZVNvY2tldCgidWRwNCIpLHRoaXMuX3JlY2VpdmVyLm9uKCJsaXN0ZW5pbmciLGZ1bmN0aW9uKCl7dHJ5e2UuX3JlY2VpdmVyLnNldEJyb2FkY2FzdCghMCksZS5fcmVjZWl2ZXIuc2V0TXVsdGljYXN0VFRMKGEudHRsKSxlLl9yZWNlaXZlci5hZGRNZW1iZXJzaGlwKGEuYWRkcmVzcyl9Y2F0Y2godCl7fX0pLHRoaXMuX3JlY2VpdmVyLm9uKCJtZXNzYWdlIixmdW5jdGlvbih0KXt0cnl7dD1KU09OLnBhcnNlKHQudG9TdHJpbmcoInV0ZjgiKSksdC5ldmVudCYmdC5zb3VyY2UmJnQuc291cmNlSWQmJnQuc291cmNlIT09ZS5fc291cmNlKCkmJnQuc291cmNlSWQhPT1vJiZfLmVhY2goZS5fbGlzdGVuZXJzW3QuZXZlbnRdLGZ1bmN0aW9uKGUpe2UuYXBwbHkobnVsbCxbdC5kYXRhLHQuc291cmNlXSl9KX1jYXRjaChuKXt9fSksdGhpcy5fcmVjZWl2ZXIub24oImVycm9yIixmdW5jdGlvbigpe3RyeXtlLl9yZWNlaXZlci5jbG9zZSgpfWNhdGNoKHQpe319KSx0aGlzLl9yZWNlaXZlci5iaW5kKGEucG9ydCl9Y2F0Y2godCl7fX1yZXR1cm4gZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt0aGlzLl9saXN0ZW5lcnMmJih0aGlzLl9saXN0ZW5lcnNbZV18fCh0aGlzLl9saXN0ZW5lcnNbZV09W10pLHRoaXMuX2xpc3RlbmVyc1tlXS5wdXNoKHQpKX0sZS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlLHQpe3RyeXt2YXIgbj1uZXcgQnVmZmVyKEpTT04uc3RyaW5naWZ5KHtldmVudDplLGRhdGE6dCxzb3VyY2U6dGhpcy5fc291cmNlKCksc291cmNlSWQ6b30pKTt0aGlzLl9zZW5kZXIuc2VuZChuLDAsbi5sZW5ndGgsYS5wb3J0LGEuYWRkcmVzcyl9Y2F0Y2goaSl7fX0sZS5wcm90b3R5cGUuX3NvdXJjZT1mdW5jdGlvbigpe3JldHVybiByLmhvc3RuYW1lKCkrIiAoIitlLl9nZXRJUHY0QWRkcmVzcygpKyIpIn0sZS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RyeXt0aGlzLl9zZW5kZXIuY2xvc2UoKX1jYXRjaChlKXt9dHJ5e3RoaXMuX3JlY2VpdmVyLmNsb3NlKCl9Y2F0Y2goZSl7fX0sZS5fZ2V0SVB2NEFkZHJlc3M9ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gXy5lYWNoKHIubmV0d29ya0ludGVyZmFjZXMoKSxmdW5jdGlvbih0KXtpZighZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpZigiSVB2NCI9PT1pLmZhbWlseSYmIjEyNy4wLjAuMSIhPT1pLmFkZHJlc3MmJiFpLmludGVybmFsKXJldHVybiB2b2lkKGU9aS5hZGRyZXNzKX19KSxlfHwiMC4wLjAuMCJ9LGV9KCk7dC5leHBvcnRzPW5ldyBsfSx7Ii4vLi4vLi4vdXRpbHMiOjE3LGRncmFtOnZvaWQgMCxvczp2b2lkIDB9XSwxMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihhcmd1bWVudHMubGVuZ3RoPjEpdGhpcy5fZmlsZUlkPWFyZ3VtZW50c1swXSx0aGlzLl9saW5lPWFyZ3VtZW50c1sxXSx0aGlzLl9jb250ZXh0PWFyZ3VtZW50c1syXTtlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXS5zcGxpdCgiXyIpO3RoaXMuX2ZpbGVJZD1wYXJzZUludChlWzBdLDEwKSx0aGlzLl9saW5lPXBhcnNlSW50KGVbMV0sMTApfX1yZXR1cm4gZS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZCsiXyIrdGhpcy5fbGluZX0sZS5wcm90b3R5cGUuZmlsZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGVJZH0sZS5wcm90b3R5cGUubGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lfSxlLnByb3RvdHlwZS5jb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9LGUucHJvdG90eXBlLnNldEZpbGU9ZnVuY3Rpb24oZSl7dGhpcy5fZmlsZT1lfSxlLnByb3RvdHlwZS5maWxlUGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWxlJiZ0aGlzLl9maWxlLnBhdGgoKXx8dGhpcy5fZmlsZUlkJiZ+dGhpcy5fZmlsZUlkLmluZGV4T2YoIi4iKSYmdGhpcy5fZmlsZUlkfSxlLnByb3RvdHlwZS5zZXRSYW5nZT1mdW5jdGlvbihlKXt0aGlzLl9yYW5nZT1lfSxlLnByb3RvdHlwZS5yYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZX0sZX0oKTt0LmV4cG9ydHM9aX0se31dLDEzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPWUoIi4vY292ZXJhYmxlUmFuZ2UiKSxyPWUoIi4vZG9jdW1lbnRJbkVkaXRvciIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX2RhdGE9ZSx0aGlzLl9yYW5nZUNvbnNvbGVMb2c9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9yYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9uZXdSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9hZmZlY3RlZFJhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX291dGRhdGVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbGluZVRvUmFuZ2VNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl90ZXN0TWFwPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzPTB9cmV0dXJuIGUucHJvdG90eXBlLnNldFJhbmdlQ29uc29sZUxvZz1mdW5jdGlvbihlLHQpe3ZhciBuPTgxOTIscj1pLnJhbmdlS2V5KHQpLHM9dGhpcy5fcmFuZ2VDb25zb2xlTG9nW3JdO3N8fChzPXRoaXMuX3JhbmdlQ29uc29sZUxvZ1tyXT1bXSk7dmFyIG89ZS5sZW5ndGg+bj8iLi4uIjoiIjtlPWUuc3Vic3RyKDAsbikscy5wdXNoKGUrbyl9LGUucHJvdG90eXBlLnJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZXN9LGUucHJvdG90eXBlLmluc3RydW1lbnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmNvdmVyYWJsZX0sZS5wcm90b3R5cGUudXBkYXRlRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT1fLmV4dGVuZCh7fSx0aGlzLl9uZXdSYW5nZXMsdGhpcy5fYWZmZWN0ZWRSYW5nZXMsdGhpcy5fb3V0ZGF0ZWRSYW5nZXMpLHQ9dGhpcy5fYWxsUmFuZ2VzUmVjZWl2ZWQsbj10aGlzLl9pbnZhbGlkYXRlRG9jdW1lbnQ7aWYoZGVsZXRlIHRoaXMuX2FsbFJhbmdlc1JlY2VpdmVkLGRlbGV0ZSB0aGlzLl9pbnZhbGlkYXRlRG9jdW1lbnQsXy5lYWNoKHRoaXMuX291dGRhdGVkUmFuZ2VzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc3Bvc2UoKX0pLHRoaXMuX25ld1Jhbmdlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2FmZmVjdGVkUmFuZ2VzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fb3V0ZGF0ZWRSYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9kb2N1bWVudEluRWRpdG9yKXt2YXIgaT1uP3RoaXMuX2RvY3VtZW50SW5FZGl0b3IudXBkYXRlKF8udmFsdWVzKHRoaXMuX3JhbmdlcyksITAsITApOnRoaXMuX2RvY3VtZW50SW5FZGl0b3IudXBkYXRlKGUsdCwhMSk7cmV0dXJuIGkuZnVsbFVwZGF0ZT1uLGl9fSxlLnByb3RvdHlwZS5hbGxMaW5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb2N1bWVudEluRWRpdG9yP3RoaXMuX2RvY3VtZW50SW5FZGl0b3IuYWxsTGluZXMoKTp2b2lkIDB9LGUucHJvdG90eXBlLm9wZW5lZEluRWRpdG9yPWZ1bmN0aW9uKCl7dGhpcy5fZG9jdW1lbnRJbkVkaXRvcnx8KHRoaXMuX2RvY3VtZW50SW5FZGl0b3I9bmV3IHIsdGhpcy5fZG9jdW1lbnRJbkVkaXRvci51cGRhdGUoXy52YWx1ZXModGhpcy5fcmFuZ2VzKSwhMSwhMCkpfSxlLnByb3RvdHlwZS5jbG9zZWRJbkFsbEVkaXRvcnM9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fZG9jdW1lbnRJbkVkaXRvcn0sZS5wcm90b3R5cGUuaXNPcGVuZWRJbkVkaXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb2N1bWVudEluRWRpdG9yfSxlLnByb3RvdHlwZS5zaGlmdERvY3VtZW50TGluZXM9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX2RvY3VtZW50SW5FZGl0b3ImJnRoaXMuX2RvY3VtZW50SW5FZGl0b3Iuc2hpZnRMaW5lcyhlLHQsbil9LGUucHJvdG90eXBlLmludmFsaWRhdGVEb2N1bWVudExpbmVzPWZ1bmN0aW9uKGUpe3RoaXMuX2RvY3VtZW50SW5FZGl0b3ImJnRoaXMuX2RvY3VtZW50SW5FZGl0b3IuaW52YWxpZGF0ZUxpbmVzKGUpfSxlLnByb3RvdHlwZS5pbnZhbGlkYXRlRG9jdW1lbnQ9ZnVuY3Rpb24oKXt0aGlzLl9kb2N1bWVudEluRWRpdG9yJiYodGhpcy5faW52YWxpZGF0ZURvY3VtZW50PSEwKX0sZS5wcm90b3R5cGUuaGFzVmFsaWREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9pbnZhbGlkYXRlRG9jdW1lbnR9LGUucHJvdG90eXBlLmxpbmVUZXN0cz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY292ZXJpbmdUZXN0cyhlKX0sZS5wcm90b3R5cGUubGluZVJhbmdlcz1mdW5jdGlvbihlKXtpZih0aGlzLl9kb2N1bWVudEluRWRpdG9yKXt2YXIgdD10aGlzLl9kb2N1bWVudEluRWRpdG9yLmxpbmUoZSk7aWYodClyZXR1cm4gdC5yYW5nZXMoKX19LGUucHJvdG90eXBlLmNvdmVyaW5nVGVzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY292ZXJpbmdUZXN0cygpfSxlLnByb3RvdHlwZS5saW5lQ292ZXJpbmdUZXN0c09yZGVyZWRCeUZhaWxpbmdUaGVuRGF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBfLmNoYWluKHRoaXMuX2NvdmVyaW5nVGVzdHMoZSx0KSkuc29ydEJ5KGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzRmFpbGluZygpfSkuc29ydEJ5KGZ1bmN0aW9uKGUpe3JldHVybi1lLnRzKCl9KS52YWx1ZSgpfSxlLnByb3RvdHlwZS5fY292ZXJpbmdUZXN0cz1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUpe2lmKCF0aGlzLl9kb2N1bWVudEluRWRpdG9yKXJldHVybltdO2lmKG49dGhpcy5fZG9jdW1lbnRJbkVkaXRvci5saW5lKGUpLCFuKXJldHVybltdfXZhciBpPW4/bi5yYW5nZXMoKTp0aGlzLl9yYW5nZXM7cmV0dXJuIHQmJihpPV8uZmlsdGVyKGksdCkpLF8ucmVkdWNlKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4gXy5lYWNoKHQuY292ZXJpbmdUZXN0cygpLGZ1bmN0aW9uKHQpe2VbdC5rZXkoKV09dH0pLGV9LHt9KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9kb2N1bWVudEluRWRpdG9yLF8uZWFjaCh0aGlzLl9yYW5nZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzcG9zZSgpfSksZGVsZXRlIHRoaXMuX3JhbmdlcyxkZWxldGUgdGhpcy5fdGVzdE1hcH0sZS5wcm90b3R5cGUucmFuZ2VDb25zb2xlTG9nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yYW5nZUNvbnNvbGVMb2dbZS5rZXkoKV19LGUucHJvdG90eXBlLmNsZWFyUmFuZ2VDb25zb2xlTG9nPWZ1bmN0aW9uKCl7dGhpcy5fcmFuZ2VDb25zb2xlTG9nPU9iamVjdC5jcmVhdGUobnVsbCl9LGUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLmlkfSxlLnByb3RvdHlwZS5wYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEucGF0aH0sZS5wcm90b3R5cGUuYWRkVGVzdD1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QuY3JlYXRlKG51bGwpLG49dGhpcy5fdGVzdE1hcFtlLmtleSgpXTtyZXR1cm4gbiYmXy5lYWNoKG4ub2Jzb2xldGUoKSxmdW5jdGlvbihlKXt0W2Uua2V5KCldPWV9KSx0aGlzLl90ZXN0TWFwW2Uua2V5KCldPWUsZS5zZXRUZXN0RmlsZSh0aGlzKSx0fSxlLnByb3RvdHlwZS5yYW5nZUNvdmVyYWdlQ2hhbmdlZD1mdW5jdGlvbihlLHQpe3RoaXMuX2FmZmVjdGVkUmFuZ2VzW2Uua2V5KCldPWU7dmFyIG49ZS5pc0NvdmVyZWQoKTt0IT09biYmKHRoaXMuX251bWJlck9mQ292ZXJlZFJhbmdlcys9bj8xOi0xKX0sZS5wcm90b3R5cGUuaXNUZXN0RmlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhLnRlc3R9LGUucHJvdG90eXBlLmNvdmVyYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzUmVwb3J0YWJsZUNvdmVyYWdlKCk/TWF0aC5yb3VuZCgxZTQqdGhpcy5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzL18uc2l6ZSh0aGlzLl9yYW5nZXMpKS8xMDA6dm9pZCAwfSxlLnByb3RvdHlwZS5oYXNSZXBvcnRhYmxlQ292ZXJhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc1Rlc3RGaWxlKCkmJnRoaXMuaW5zdHJ1bWVudGVkKCkmJiF0aGlzLl9ub0NvdmVyYWdlQ2FsY3VsYXRpb259LGUucHJvdG90eXBlLm51bWJlck9mQ292ZXJlZFJhbmdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9udW1iZXJPZkNvdmVyZWRSYW5nZXN9LGUucHJvdG90eXBlLm51bWJlck9mQWxsUmFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF8uc2l6ZSh0aGlzLl9yYW5nZXMpfSxlLnByb3RvdHlwZS5zZXRSYW5nZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXM7dGhpcy5fYWxsUmFuZ2VzUmVjZWl2ZWQ9dCx0JiZ0aGlzLl9yZWJ1aWxkUmFuZ2VNYXAoKTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO18uZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciBzPWUua2V5KCksbz1pLl9yYW5nZXNbc107aWYobyl7dmFyIGE9by5pc0NvdmVyZWQoKSxsPWUuaXNDb3ZlcmVkKCk7dHx8YT09PWx8fChpLl9udW1iZXJPZkNvdmVyZWRSYW5nZXMrPWw/MTotMSksby51cGRhdGVGcm9tKGUsdCxuKSxyW3NdPW8saS5fYWZmZWN0ZWRSYW5nZXNbc109b31lbHNlIGkuX3Jhbmdlc1tzXT1lLGkuX25ld1Jhbmdlc1tzXT1lLGUuYXR0YWNoZWRUb1NvdXJjZUZpbGUoKSxlLmlzQ292ZXJlZCgpJiYhdCYmaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKyt9KSx0JiYoaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzPTAsdGhpcy5fbGluZVRvUmFuZ2VNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2goXy52YWx1ZXModGhpcy5fcmFuZ2VzKSxmdW5jdGlvbihlKXt2YXIgdD1lLmtleSgpO2lmKGkuX25ld1Jhbmdlc1t0XXx8clt0XSl7ZS5pc0NvdmVyZWQoKSYmaS5fbnVtYmVyT2ZDb3ZlcmVkUmFuZ2VzKys7Zm9yKHZhciBuPWUuc3RhcnRMaW5lKCk7bjw9ZS5lbmRMaW5lKCk7bisrKXt2YXIgcz1pLl9saW5lVG9SYW5nZU1hcFtuXTsoIXN8fGUuaXNJbnNpZGVPZihzKSkmJihpLl9saW5lVG9SYW5nZU1hcFtuXT1lKX19ZWxzZSBpLl9vdXRkYXRlZFJhbmdlc1t0XT1lLGRlbGV0ZSBpLl9yYW5nZXNbdF19KSl9LGUucHJvdG90eXBlLm93blRlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIF8udmFsdWVzKHRoaXMuX3Rlc3RNYXApfSxlLnByb3RvdHlwZS5yZW1vdmVBbGxUZXN0cz1mdW5jdGlvbigpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIF8uZWFjaCh0aGlzLm93blRlc3RzKCksZnVuY3Rpb24odCl7Xy5lYWNoKHQub2Jzb2xldGUoKSxmdW5jdGlvbih0KXtlW3Qua2V5KCldPXR9KX0pLHRoaXMuX3Rlc3RNYXA9T2JqZWN0LmNyZWF0ZShudWxsKSxlfSxlLnByb3RvdHlwZS5jbG9zZXN0UmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2xpbmVUb1JhbmdlTWFwW2VdfSxlLnByb3RvdHlwZS5fcmVidWlsZFJhbmdlTWFwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3Jhbmdlczt0aGlzLl9yYW5nZXM9T2JqZWN0LmNyZWF0ZShudWxsKSxfLmVhY2godCxmdW5jdGlvbih0KXt2YXIgbj10LmtleSgpLGk9ZS5fcmFuZ2VzW25dO2UuX3Jhbmdlc1tuXT10LGkmJmkuZGlzcG9zZSgpfSl9LGV9KCk7dC5leHBvcnRzPXN9LHsiLi9jb3ZlcmFibGVSYW5nZSI6NCwiLi9kb2N1bWVudEluRWRpdG9yIjo1fV0sMTQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9e2xpbmVTdGF0ZTp7bm90Q292ZXJlZDoxLGZ1bGx5Q292ZXJlZDoyLHBhcnRpYWxseUNvdmVyZWQ6MyxlcnJvclNvdXJjZTo0LGVycm9yUGF0aDo1fX19LHt9XSwxNTpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnJlcGxhY2UoL15ccyt8XHMrJC9nbSwiIil9LHI9WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdO3QuZXhwb3J0cz17bm9ybWFsaXplUGF0aDpmdW5jdGlvbihlKXtyZXR1cm4id2luMzIiPT09cHJvY2Vzcy5wbGF0Zm9ybSYmZT9lLnJlcGxhY2UoL1xcL2csIi8iKTplfSxwYXJzZUtleTpmdW5jdGlvbihlKXt2YXIgdD17fTtpZihlKXt2YXIgbj1lLnNwbGl0KCI6Iik7Mj09PW4ubGVuZ3RoJiYoZT1pKG5bMV0pKX12YXIgcz1uZXcgQnVmZmVyKGUsImJhc2U2NCIpLnRvU3RyaW5nKCkuc3BsaXQoIlxuIik7dC5saWNlbnNlZU5hbWU9c1swXSx0LmxpY2Vuc2VUYWdzPXNbMV07dmFyIG89dC5saWNlbnNlVGFncy5zcGxpdCgiLCIpO28ubGVuZ3RoPj0xJiYodC5saWNlbnNlZUVtYWlsPW9bMF0pLG8ubGVuZ3RoPj0yJiYodC5saWNlbnNlZFByb2R1Y3Q9b1sxXSksdC5leHBpcmF0aW9uRGF0ZVN0cmluZz1zWzJdLHQubGljZW5zZVNpZ25hdHVyZT1zWzNdO3RyeXt2YXIgYT10LmV4cGlyYXRpb25EYXRlU3RyaW5nLnNwbGl0KCIvIik7dC5leHBpcmF0aW9uRGF0ZVN0cmluZ0Zvcm1hdHRlZD1hWzBdKyIgIityW3BhcnNlSW50KGFbMV0sMTApLTFdKyIgIithWzJdfWNhdGNoKGwpe3QuZXhwaXJhdGlvbkRhdGVTdHJpbmdGb3JtYXR0ZWQ9dC5leHBpcmF0aW9uRGF0ZVN0cmluZ31yZXR1cm4gdH0sZm9ybWF0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucmVwbGFjZSgvXHsoWzAtOWEtekEtWl9dKylcfS9nLGZ1bmN0aW9uKG4saSxyKXt2YXIgcztyZXR1cm4ieyI9PT1lW3ItMV0mJiJ9Ij09PWVbcituLmxlbmd0aF0/aToocz10Lmhhc093blByb3BlcnR5KGkpP3RbaV06bnVsbCxudWxsPT09c3x8dm9pZCAwPT09cz8iIjpzKX0pfSx2YWxpZFBhY2thZ2VOYW1lOmZ1bmN0aW9uKGUpe2lmKGUmJiFlLm1hdGNoKC9eXC4vKSYmIWUubWF0Y2goL15fLykmJiEoZS5sZW5ndGg+MjE0fHxlLnRvTG93ZXJDYXNlKCkhPT1lfHwvW34nISgpKl0vLnRlc3QoZS5zcGxpdCgiLyIpLnNsaWNlKC0xKVswXSkpKXtpZihlbmNvZGVVUklDb21wb25lbnQoZSk9PT1lKXJldHVybiBlO3ZhciB0PWUubWF0Y2goL14oPzpAKFteXC9dKz8pW1wvXSk/KFteXC9dKz8pJC8pO2lmKHQpe3ZhciBuPXRbMV0saT10WzJdO2lmKGVuY29kZVVSSUNvbXBvbmVudChuKT09PW4mJmVuY29kZVVSSUNvbXBvbmVudChpKT09PWkpcmV0dXJuIGV9fX19fSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGkscj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiYoZVtuXT10W25dKX07cmV0dXJuIGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooaS5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IGkpfX0oKSxzPWUoIm5ldCIpLG89ZSgiaHR0cCIpLGE9ZSgidXJsIiksbD1lKCJ3cyIpLlNlcnZlcixjPWUoIi4uL3NlcnZlci9kb2N1bWVudEluRWRpdG9yIiksdT1bNTEyMzUsNTEyMzYsNTEyMzcsNTEyMzgsNTEyMzksNTEyNDAsNTEyNDEsNTEyNDIsNTEyNDMsNTEyNDQsNTI3NDIsNTI3NDMsNTI3NDQsNTI3NDUsNTI3NDYsNTI3NDcsNTI3NDgsNTI3NDksNTI3NTAsNTI3NTEsNTM1NzgsNTM1NzksNTM1ODAsNTM1ODEsNTM1ODIsNTM1ODMsNTM1ODQsNTM1ODUsNTM1ODYsNTM1ODddLGQ9NTEyNDUsaD0nPCFET0NUWVBFIGh0bWw+XG48aHRtbCBsYW5nPSJlbiI+XG48aGVhZD5cbiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+XG4gICAgPGxpbmsgaWQ9ImZhdmljb24iIHJlbD0iaWNvbiIgaHJlZj0iaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLmljbyIgdHlwZT0iaW1hZ2UveC1pY29uIi8+XG4gICAgPGxpbmsgaWQ9InNob3J0Y3V0IiByZWw9InNob3J0Y3V0IGljb24iIGhyZWY9Imh0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi5pY28iIHR5cGU9ImltYWdlL3gtaWNvbiIvPlxuICAgIDxzdHlsZT5cbiAgICAgICAgaHRtbCxcbiAgICAgICAgYm9keSB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgfVxuICAgIDwvc3R5bGU+XG48L2hlYWQ+XG48Ym9keSBzdHlsZT0ibWFyZ2luOjBweDtwYWRkaW5nOjBweDtvdmVyZmxvdzpoaWRkZW47Ij5cbjxzY3JpcHQ+XG4gIHRyeSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCdtZXNzYWdlXCcsIGZ1bmN0aW9uIChtKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAobS5kYXRhLnRpdGxlKSB7XG4gICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBtLmRhdGEudGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG0uZGF0YS5zdGF0dXMpIHtcbiAgICAgICAgICBpZiAobS5kYXRhLnN0YXR1cy5wYXNzaW5nKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcJ2Zhdmljb25cJykuc2V0QXR0cmlidXRlKFwnaHJlZlwnLCBcJ2h0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi5pY29cJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcJ3Nob3J0Y3V0XCcpLnNldEF0dHJpYnV0ZShcJ2hyZWZcJywgXCdodHRwczovL3dhbGxhYnlqcy5jb20vYXBwL2Zhdmljb24uaWNvXCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcJ2Zhdmljb25cJykuc2V0QXR0cmlidXRlKFwnaHJlZlwnLCBcJ2h0dHBzOi8vd2FsbGFieWpzLmNvbS9hcHAvZmF2aWNvbi1hbHQuaWNvXCcpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdzaG9ydGN1dFwnKS5zZXRBdHRyaWJ1dGUoXCdocmVmXCcsIFwnaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcC9mYXZpY29uLWFsdC5pY29cJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxuPC9zY3JpcHQ+XG48aWZyYW1lIHNyYz0iaHR0cHM6Ly93YWxsYWJ5anMuY29tL2FwcCIgZnJhbWVib3JkZXI9IjAiIHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJSIgaGVpZ2h0PSIxMDAlIiB3aWR0aD0iMTAwJSI+PC9pZnJhbWU+XG48L2JvZHk+XG48L2h0bWw+XG4nLHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihuKXt2YXIgcj10LmNhbGwodGhpcyl8fHRoaXMscz1yO3JldHVybiByLl9maW5kRnJlZVBvcnQoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBzLl9zdGFydChlLG4pfSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBzdGFydCB3YWxsYWJ5IGFwcCBzZXJ2aWNlOiAiKyhlJiZlLm1lc3NhZ2UpKX0pLGk9ZSgiZGVidWciKSgid2FsbGFieTp1aVNlcnZpY2UiKSxzLl9jb25uZWN0aW9ucz1bXSxzLl9vcGVuZWRGaWxlcz17fSxyfXJldHVybiByKG4sdCksbi5wcm90b3R5cGVbInVpOnN0YXJ0Il09ZnVuY3Rpb24oZSx0KXt0aGlzLl9zZW5kKF8uZXh0ZW5kKHt0eXBlOiJ1aTpzdW1tYXJ5In0sdGhpcy5fbW9kZWwuc3VtbWFyeSgpKSx0KTt2YXIgbj10aGlzLl9tb2RlbC5hbGxGaWxlcygpO18uaXNFbXB0eShuKXx8dGhpcy5fc2VuZEFsbEZpbGVzV2l0aENvdmVyYWdlKG4sdCl9LG4ucHJvdG90eXBlWyJ1aTpuYXZpZ2F0ZSJdPWZ1bmN0aW9uKGUpe2UubGluZT1wYXJzZUludChlLmxpbmUsMTApLGUuY29sdW1uPXBhcnNlSW50KGUuY29sdW1uLDEwKSxfLmlzTmFOKGUubGluZSkmJihlLmxpbmU9MSksXy5pc05hTihlLmNvbHVtbikmJmRlbGV0ZSBlLmNvbHVtbix0aGlzLmVtaXQoIm1lc3NhZ2UiLF8uZXh0ZW5kKGUse3R5cGU6Im5hdmlnYXRpb25SZXF1ZXN0ZWQifSkpfSxuLnByb3RvdHlwZVsidWk6cnVuVGVzdHMiXT1mdW5jdGlvbihlKXt0aGlzLl9tb2RlbC5fcHJvamVjdC5ydW5UZXN0cyh7dGVzdHM6ZS50ZXN0c30pfSxuLnByb3RvdHlwZVsidWk6b3BlbmVkSW5FZGl0b3IiXT1mdW5jdGlvbihlKXt0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdP3RoaXMuX29wZW5lZEZpbGVzW2UucGF0aF0rKzp0aGlzLl9vcGVuZWRGaWxlc1tlLnBhdGhdPTF9LG4ucHJvdG90eXBlWyJ1aTpjbG9zZWRJbkVkaXRvciJdPWZ1bmN0aW9uKGUpe3RoaXMuX29wZW5lZEZpbGVzW2UucGF0aF0mJnRoaXMuX29wZW5lZEZpbGVzW2UucGF0aF0tLX0sbi5wcm90b3R5cGVbInVpOmNvZGVSZXF1ZXN0ZWQiXT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsaT10aGlzLl9tb2RlbC5maWxlQ29udGVudEJ5UGF0aChlLnBhdGgpO2kmJmkudGhlbihmdW5jdGlvbihpKXt2YXIgcixzPW5ldyBjLG89bi5fbW9kZWwuZmlsZUJ5UGF0aChlLnBhdGgpLGE9W10sbD1bXTtvJiZvLmluc3RydW1lbnRlZCgpJiYocy51cGRhdGUoXy52YWx1ZXMoby5yYW5nZXMoKSksITEsITApLGw9cy5hbGxMaW5lcygpLmxpbmVzfHxbXSxhPW4uX21vZGVsLnVuY292ZXJlZFJlZ2lvbnNCeVJlcXVlc3Qoe2ZpbGU6ZS5wYXRofSl8fFtdLHI9bi5fcmVwb3J0RmlsZUNvdmVyYWdlKG8pKSxuLl9zZW5kKHt0eXBlOiJ1aTpjb2RlIixjb3JyZWxhdGlvbklkOmUuY29ycmVsYXRpb25JZCxjb2RlOmkudG9TdHJpbmcoKSxsaW5lczpsLHVuY292ZXJlZFJlZ2lvbnM6YSxjb3ZlcmFnZTpyfSx0KX0pfSxuLnByb3RvdHlwZVsidWk6dGVzdHM6cmVzdWx0c1JlcXVlc3RlZCJdPWZ1bmN0aW9uKGUsdCl7dC5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzPSEwLHRoaXMuX3NlbmRUZXN0UmVzdWx0cyh2b2lkIDAsdCl9LG4ucHJvdG90eXBlWyJ1aTp0ZXN0czpyZXN1bHRzQWJhbmRvbmVkIl09ZnVuY3Rpb24oZSx0KXt0Ll9hbGxvd2VkVG9TZW5kVGVzdFJlc3VsdHM9ITF9LG4ucHJvdG90eXBlWyJtb2RlbDp0ZXN0RmlsZURlbGV0ZWQiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO18uZWFjaCh0aGlzLl9jb25uZWN0aW9ucyxmdW5jdGlvbihuKXtuLl9hbGxvd2VkVG9TZW5kVGVzdFJlc3VsdHMmJnQuX3NlbmQoe3R5cGU6InVpOnRlc3RzOnNvbWVSZXN1bHRzVXBkYXRlZCIsZmlsZXM6W3twYXRoOmUuZmlsZS5wYXRoLGFjdGlvbjoiZGVsZXRlZCJ9XX0sbil9KX0sbi5wcm90b3R5cGVbIm1vZGVsOmFsbEZpbGVzIl09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztfLmVhY2godGhpcy5fY29ubmVjdGlvbnMsZnVuY3Rpb24obil7bi5fYWxsb3dlZFRvU2VuZEFsbEZpbGVzJiZ0Ll9zZW5kQWxsRmlsZXNXaXRoQ292ZXJhZ2UoXy5tYXAoZS5maWxlcyxmdW5jdGlvbihlKXtyZXR1cm57cGF0aDplLnBhdGgsaWQ6ZS5pZH19KSxuKX0pfSxuLnByb3RvdHlwZVsibW9kZWw6ZmlsZUFkZGVkIl09ZnVuY3Rpb24oZSl7dGhpcy5fc2VuZCh7dHlwZToidWk6ZmlsZXMiLGZpbGVzOlt7YWN0aW9uOiJhZGRlZCIscGF0aDplLmZpbGUucGF0aCxpZDplLmZpbGUuaWQsdGVzdDplLmZpbGUudGVzdHx8dm9pZCAwfV19KX0sbi5wcm90b3R5cGVbIm1vZGVsOmZpbGVDaGFuZ2VkIl09ZnVuY3Rpb24oZSl7dGhpcy5fc2VuZCh7dHlwZToidWk6ZmlsZXMiLGZpbGVzOlt7YWN0aW9uOiJjaGFuZ2VkIixwYXRoOmUuZmlsZS5wYXRoLGlkOmUuZmlsZS5pZH1dfSl9LG4ucHJvdG90eXBlWyJtb2RlbDpmaWxlRGVsZXRlZCJdPWZ1bmN0aW9uKGUpe3RoaXMuX3NlbmQoe3R5cGU6InVpOmZpbGVzIixmaWxlczpbe2FjdGlvbjoiZGVsZXRlZCIscGF0aDplLmZpbGUucGF0aCxpZDplLmZpbGUuaWR9XX0pfSxuLnByb3RvdHlwZVsibW9kZWw6dGVzdHNFeGVjdXRlZCJdPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5fc2VuZChfLmV4dGVuZCh7dHlwZToidWk6c3VtbWFyeSJ9LHRoaXMuX21vZGVsLnN1bW1hcnkoKSkpLF8uZWFjaCh0aGlzLl9jb25uZWN0aW9ucyxmdW5jdGlvbihuKXtuLl9hbGxvd2VkVG9TZW5kVGVzdFJlc3VsdHMmJnQuX3NlbmRUZXN0UmVzdWx0cyhlLG4pfSksIV8uaXNFbXB0eShlLmFsbEFmZmVjdGVkRmlsZXMpKXt2YXIgbj1bXSxpPV8ucmVkdWNlKGUuYWxsQWZmZWN0ZWRGaWxlcyxmdW5jdGlvbihlLGkpe3ZhciByPXQuX3JlcG9ydEZpbGVDb3ZlcmFnZShpKTtyZXR1cm4gciYmci52YWx1ZUNoYW5nZWQmJihkZWxldGUgci52YWx1ZUNoYW5nZWQsZVtpLmtleSgpXT1yKSx0Ll9vcGVuZWRGaWxlc1tpLnBhdGgoKV0mJm4ucHVzaCh7YWN0aW9uOiJhZmZlY3RlZCIscGF0aDppLnBhdGgoKSxpZDppLmtleSgpLHRlc3Q6aS5pc1Rlc3RGaWxlKCl8fHZvaWQgMH0pLGV9LHt9KTtfLmlzRW1wdHkoaSl8fHRoaXMuX3NlbmQoe3R5cGU6InVpOmNvdmVyYWdlQ2hhbmdlZCIsY2hhbmdlczppfSksXy5pc0VtcHR5KG4pfHx0aGlzLl9zZW5kKHt0eXBlOiJ1aTpmaWxlcyIsZmlsZXM6bn0pfX0sbi5wcm90b3R5cGUuX3JlcG9ydEZpbGVDb3ZlcmFnZT1mdW5jdGlvbihlKXtpZihlKXt2YXIgdCxuPWUuY292ZXJhZ2UoKTtyZXR1cm4gbj49MCYmKHQ9e3ZhbHVlOm4sbG93Om48dGhpcy5fbW9kZWwubG93Q292ZXJhZ2VUaHJlc2hvbGQoKSxyYW5nZXM6e2NvdmVyZWQ6ZS5udW1iZXJPZkNvdmVyZWRSYW5nZXMoKSxhbGw6ZS5udW1iZXJPZkFsbFJhbmdlcygpfSx2YWx1ZUNoYW5nZWQ6ZS5fbGF0ZXN0UmVwb3J0ZWRDb3ZlcmFnZVZhbHVlIT09bnx8dm9pZCAwfSxlLl9sYXRlc3RSZXBvcnRlZENvdmVyYWdlVmFsdWU9biksdH19LG4ucHJvdG90eXBlLl9zZW5kQWxsRmlsZXNXaXRoQ292ZXJhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3QuX2FsbG93ZWRUb1NlbmRBbGxGaWxlcz0hMSx0aGlzLl9zZW5kKHt0eXBlOiJ1aTpmaWxlcyIsZmlsZXM6ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9bi5fbW9kZWwuZmlsZUJ5SWQoZS5pZCk7cmV0dXJue2FjdGlvbjoiYWRkZWQiLHBhdGg6ZS5wYXRoLGlkOmUuaWQsdGVzdDp0JiZ0LmlzVGVzdEZpbGUoKXx8dm9pZCAwLGNvdmVyYWdlOm4uX3JlcG9ydEZpbGVDb3ZlcmFnZSh0KX19KX0sdCl9LG4ucHJvdG90eXBlLl9zZW5kVGVzdFJlc3VsdHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHIscz0ic29tZVJlc3VsdHNVcGRhdGVkIjtlPyhlLmZ1bGxSdW4mJihzPSJhbGxSZXN1bHRzVXBkYXRlZCIpLG49ZS5jaGFuZ2VkLGk9ZS5leGVjdXRlZCxyPWUuZmlyc3RGYWlsaW5nT3JTaW5nbGVFeGVjdXRlZFRlc3QpOihzPSJhbGxSZXN1bHRzVXBkYXRlZCIsbj10aGlzLl9tb2RlbC5hbGxUZXN0RmlsZXMoKSksdGhpcy5fc2VuZCh7dHlwZToidWk6dGVzdHM6IitzLGZpbGVzOnRoaXMuX2NyZWF0ZVRlc3RSZXN1bHRzKG4sciwiY2hhbmdlZCIpLmNvbmNhdCh0aGlzLl9jcmVhdGVUZXN0UmVzdWx0cyhpLHIsImV4ZWN1dGVkIikpfSx0KX0sbi5wcm90b3R5cGUuX2NyZWF0ZVRlc3RSZXN1bHRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLHI9Xy5yZWR1Y2UodGhpcy5fbW9kZWwuZ2xvYmFsRXJyb3JzKCksZnVuY3Rpb24oZSx0KXt2YXIgbjtpZihfLmVhY2godC5zdGFjaygpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZmlsZUlkKCk7aWYodCl7dmFyIHI9aS5fbW9kZWwuZmlsZUJ5SWQodCk7aWYoci5pc1Rlc3RGaWxlKCkpcmV0dXJuIG49ciwhMX19KSxuKXt2YXIgcj1lW24ua2V5KCldPWVbbi5rZXkoKV18fFtdO3IucHVzaCh7bWVzc2FnZTp0Lm1lc3NhZ2UoKSxzdGFjazpfLm1hcCh0LnN0YWNrKCksZnVuY3Rpb24oZSl7cmV0dXJuIGkuX2J1aWxkTG9jYXRpb24oZSxlLmZpbGVQYXRoKCkpfSl9KX1yZXR1cm4gZX0se30pfHx7fTtyZXR1cm4gXy5tYXAoZSxmdW5jdGlvbihlKXt2YXIgcz17fTtyZXR1cm4gXy5lYWNoKGUub3duVGVzdHMoKSxmdW5jdGlvbihlKXt2YXIgbj1lLnBhdGgoKSxyPSI6IitfLmxhc3Qobiksbz1zO24ubGVuZ3RoPjEmJl8uZWFjaChfLnRha2UobixuLmxlbmd0aC0xKSxmdW5jdGlvbihlKXtlPSI6IitlO3ZhciB0PW9bZV07dHx8KHQ9e30sb1tlXT10KSxvPXR9KTt2YXIgYT1fLm1hcChlLmNvdmVyZWRGaWxlcygpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmtleSgpfSk7Xy5pc0VtcHR5KGEpJiYoYT12b2lkIDApLG9bcl09e2lzVGVzdDohMCxmaXJzdEZhaWxpbmdPclNpbmdsZUV4ZWN1dGVkOmU9PT10fHx2b2lkIDAsbmFtZTpyLnN1YnN0cigxKSx0aW1lOmUudGltZSgpLHNsb3c6ZS5zbG93KCksbGluZTplLnN0YXJ0UmFuZ2UoKT9lLnN0YXJ0UmFuZ2UoKS5zdGFydExpbmUoKToxLGxvZ3M6Xy5tYXAoZS5jb25zb2xlTWVzc2FnZXMoKSxmdW5jdGlvbihlKXt2YXIgdD17bWVzc2FnZTplLnRleHQoKX07cmV0dXJuIGUuZmlsZSgpJiYodC5sb2NhdGlvbj1pLl9idWlsZExvY2F0aW9uKGUsZS5maWxlKCkucGF0aCgpKSksdH0pLGVycm9yczpfLm1hcChlLmVycm9ycygpLGZ1bmN0aW9uKGUpe3JldHVybnttZXNzYWdlOmUubWVzc2FnZSgpLHN0YWNrOl8ubWFwKGUuc3RhY2soKSxmdW5jdGlvbihlKXtyZXR1cm4gaS5fYnVpbGRMb2NhdGlvbihlLGUuZmlsZVBhdGgoKSl9KSxhY3R1YWw6ZS5hY3R1YWwoKSxleHBlY3RlZDplLmV4cGVjdGVkKCl9fSksY292ZXJlZEZpbGVzOmF9fSkse3BhdGg6ZS5wYXRoKCksYWN0aW9uOm4sdGVzdHM6aS5fYnVpbGRBcnJheVRlc3RTdHJ1Y3R1cmUocyksZXJyb3JzOnJbZS5rZXkoKV19fSl9LG4ucHJvdG90eXBlLl9idWlsZExvY2F0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49e3BhdGg6dH07cmV0dXJuIGUucmFuZ2UoKT8obi5saW5lPWUucmFuZ2UoKS5zdGFydExpbmUoKSxuLmNvbHVtbj1lLnJhbmdlKCkuc3RhcnRDb2x1bW4oKSk6ZS5saW5lKCkmJihuLmxpbmU9ZS5saW5lKCkpLG4uY29udGV4dD1lLmNvbnRleHQoKSxufSxuLnByb3RvdHlwZS5fYnVpbGRBcnJheVRlc3RTdHJ1Y3R1cmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gXy5tYXAoZSxmdW5jdGlvbihlLG4pe3JldHVybiBlLmlzVGVzdD09PSEwPyhkZWxldGUgZS5pc1Rlc3QsZSk6e25hbWU6bi5zdWJzdHIoMSksdGVzdHM6dC5fYnVpbGRBcnJheVRlc3RTdHJ1Y3R1cmUoZSl9fSl9LG4ucHJvdG90eXBlLl9zdGFydD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1mdW5jdGlvbihlKXtyZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpe3ZhciB0PW5bIm1vZGVsOiIrZS50eXBlXTt0JiZ0LmNhbGwobixlKX0pfSxzPWZ1bmN0aW9uKCl7bi5fd3NzPW5ldyBsKHtwb3J0OmUsdmVyaWZ5Q2xpZW50OmZ1bmN0aW9uKGUpe3ZhciB0PSExO3RyeXt2YXIgbj1hLnBhcnNlKGUub3JpZ2luKTt0PSJ3YWxsYWJ5anMuY29tIj09PW4uaG9zdG5hbWV9Y2F0Y2goaSl7fXJldHVybiB0fX0pLG4uX3dzcy5vbigiY29ubmVjdGlvbiIsZnVuY3Rpb24oZSl7aSgiVUkgY2xpZW50IGNvbm5lY3RlZCIpLG4uX21vZGVsPXQsZS5fYWxsb3dlZFRvU2VuZFRlc3RSZXN1bHRzPSExLGUuX2FsbG93ZWRUb1NlbmRBbGxGaWxlcz0hMCwhbi5fY29ubmVjdGlvbnMubGVuZ3RoJiZuLl9tb2RlbC5vbigibWVzc2FnZSIsciksbi5fY29ubmVjdGlvbnMucHVzaChlKSxlLm9uKCJtZXNzYWdlIixmdW5jdGlvbih0KXt2YXIgcjt0cnl7cj1KU09OLnBhcnNlKHQpfWNhdGNoKHMpe3JldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBkZXNlcmlhbGl6ZSBtZXNzYWdlIGZyb20gd2FsbGFieSBVSTogIit0KyIsICIrKHMmJnMubWVzc2FnZSkpfWkoIkluY29taW5nIG1lc3NhZ2UgJXMiLHIudHlwZSk7dmFyIG89bltyLnR5cGVdO28mJm8uY2FsbChuLHIsZSl9KSxlLm9uKCJjbG9zZSIsZnVuY3Rpb24oKXtpKCJVSSBjbGllbnQgZGlzY29ubmVjdGVkIiksbi5fY29ubmVjdGlvbnM9bi5fY29ubmVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0IT1lfSksIW4uX2Nvbm5lY3Rpb25zLmxlbmd0aCYmbi5fbW9kZWwucmVtb3ZlTGlzdGVuZXIoIm1lc3NhZ2UiLHIpfSksbi5fc2VuZCh7dHlwZToidWk6aGFuZHNoYWtlIixwcm9qZWN0OntuYW1lOm4uX21vZGVsLnByb2plY3ROYW1lKCkscGF0aDpuLl9tb2RlbC5jb25maWdGaWxlUGF0aCgpLGNvbmZpZzpuLl9tb2RlbC5wcm9qZWN0Q29uZmlnKCl9LHZlcnNpb246bi5fbW9kZWwuY29yZVZlcnNpb24oKX0sZSl9KSxpKCJMaXN0ZW5pbmcgcG9ydCAlcyIsZSl9O24uX2NoZWNrUG9ydChkKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGUpdHJ5e24uX2h0dHBTZXJ2ZXI9by5jcmVhdGVTZXJ2ZXIoZnVuY3Rpb24oZSx0KXt0LndyaXRlSGVhZCgyMDAseyJDb250ZW50LVR5cGUiOiJ0ZXh0L2h0bWwifSksdC53cml0ZShoKSx0LmVuZCgpfSkub25jZSgibGlzdGVuaW5nIixmdW5jdGlvbigpe3JldHVybiBzKCl9KS5saXN0ZW4oZSl9Y2F0Y2godCl7cygpfWVsc2UgcygpfSl9LG4ucHJvdG90eXBlLl9zZW5kPWZ1bmN0aW9uKGUsdCl7dCYmKCJ1aTp0ZXN0czphbGxSZXN1bHRzVXBkYXRlZCI9PT1lLnR5cGU/KHQuX3NvbWVSZXN1bHRzUmVzcG9uc2VTZXFOdW09MCxlLnNlcT10Ll9zb21lUmVzdWx0c1Jlc3BvbnNlU2VxTnVtKyspOiJ1aTp0ZXN0czpzb21lUmVzdWx0c1VwZGF0ZWQiPT09ZS50eXBlJiYoZS5zZXE9dC5fc29tZVJlc3VsdHNSZXNwb25zZVNlcU51bSsrKSksaSgiT3V0Z29pbmcgbWVzc2FnZSAlcyIsZS50eXBlKTt2YXIgbj1KU09OLnN0cmluZ2lmeShlKTt0P3Quc2VuZChuKTpfLmVhY2godGhpcy5fY29ubmVjdGlvbnMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2VuZChuKX0pfSxuLnByb3RvdHlwZS5fZmluZEZyZWVQb3J0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gUS5hbGwoXy5tYXAodSxmdW5jdGlvbih0KXtyZXR1cm4gZS5fY2hlY2tQb3J0KHQpfSkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIF8uZmluZChlLGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZXx8US5yZWplY3QobmV3IEVycm9yKCJDYW4gbm90IGZpbmQgYSBmcmVlIHBvcnQiKSl9KX0sbi5wcm90b3R5cGUuX2NoZWNrUG9ydD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGk9cy5jcmVhdGVTZXJ2ZXIoKS5vbmNlKCJlcnJvciIsZnVuY3Rpb24odCl7cmV0dXJuIG4odCYmIkVBRERSTk9UQVZBSUwiPT09dC5jb2RlP2U6MCl9KS5vbmNlKCJsaXN0ZW5pbmciLGZ1bmN0aW9uKCl7cmV0dXJuIGkub25jZSgiY2xvc2UiLGZ1bmN0aW9uKCl7cmV0dXJuIG4oZSl9KS5jbG9zZSgpfSkubGlzdGVuKGUsdCl9fTtyZXR1cm4gUS5wcm9taXNlKHQoIjAuMC4wLjAiKSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZT9RLnByb21pc2UodCgiMTI3LjAuMC4xIikpOjB9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBlP1EucHJvbWlzZSh0KCI6OjEiKSk6MH0pfSxuLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl93c3MmJmUuX3dzcy5jbG9zZSgpLGUuX2h0dHBTZXJ2ZXImJmUuX2h0dHBTZXJ2ZXIuY2xvc2UoKX0sbn0oRXZlbnRFbWl0dGVyKTt0LmV4cG9ydHM9cH0seyIuLi9zZXJ2ZXIvZG9jdW1lbnRJbkVkaXRvciI6NSxkZWJ1Zzp2b2lkIDAsaHR0cDp2b2lkIDAsbmV0OnZvaWQgMCx1cmw6dm9pZCAwLHdzOnZvaWQgMH1dLDE3OltmdW5jdGlvbihlLHQsbil7dmFyIGk9ZSgicGF0aCIpLHI9L15ccyooXC9cKlwqPygufFxyP1xuKSo/XCpcLykvLHM9L15ccyovLG89L1tcdTAwMWJcdTAwOWJdW1soKSM7P10qKD86WzAtOV17MSw0fSg/OjtbMC05XXswLDR9KSopP1swLTlBLVBSWmNmLW5xcnk9PjxdL2c7dC5leHBvcnRzPXtyYW5kb21JZDpmdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiw1KX0sbm9vcFRydWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbm9vcFRydWVQcm9taXNlOmZ1bmN0aW9uKCl7cmV0dXJuIFEuZmNhbGwodGhpcy5ub29wVHJ1ZSl9LGlzUGF0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoPjImJiJAIj09PWVbMF0mJiJAIj09PWVbMV19LGRvY0Jsb2NrQ29tbWVudDpmdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKHIpO3JldHVybiB0P3RbMF0ucmVwbGFjZShzLCIiKXx8IiI6IiJ9LHRleHRJbmRleFBvc2l0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy50ZXh0TGluZXMoZSx0KTtyZXR1cm57bGluZTpuLmxlbmd0aCxjb2x1bW46bltuLmxlbmd0aC0xXS5sZW5ndGh9fSx0ZXh0TGluZXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1fLmlzVW5kZWZpbmVkKHQpP2U6ZS5zdWJzdHIoMCx0KSxlLnNwbGl0KC9cclxufFxyfFxuLyl9LHZlcmlmeUxvY2FsT3JpZ2luOmZ1bmN0aW9uKHQsbil7aWYoIXQpcmV0dXJuITA7dmFyIGk9ITE7dHJ5e3ZhciByPWUoInVybCIpLnBhcnNlKHQpLmhvc3RuYW1lO2k9ImxvY2FsaG9zdCI9PT1yfHwiMC4wLjAuMCI9PT1yfHwiMTI3LjAuMC4xIj09PXJ8fCI6OjEiPT09cn1jYXRjaChzKXt9cmV0dXJuIGl8fG58fGNvbnNvbGUuZXJyb3IoIndhbGxhYnkuanMgcmVmdXNlZCB0byBhY2NlcHQgY29ubmVjdGlvbiBmcm9tICIrdCksaX0scGF0Y2hNb2R1bGU6ZnVuY3Rpb24odCxuKXt2YXIgaT1lKCJtb2R1bGUiKS5Nb2R1bGUucHJvdG90eXBlLHI9aS5yZXF1aXJlO2kucmVxdWlyZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXQ/bihfLmJpbmQocix0aGlzKSk6ci5jYWxsKHRoaXMsZSl9fSxyZXF1aXJlTW9kdWxlRnJvbTpmdW5jdGlvbih0LG4pe3RyeXtyZXR1cm4gZShpLmpvaW4odCwibm9kZV9tb2R1bGVzIixuKSl9Y2F0Y2gocil7dmFyIHM9ZSgibW9kdWxlIiksbz1uZXcgcygiLiIsbnVsbCk7cmV0dXJuIG8uZmlsZW5hbWU9aS5qb2luKHQsIndhbGxhYnkuanMiKSxvLnBhdGhzPXMuX25vZGVNb2R1bGVQYXRocyh0KSxzLl9sb2FkKG4sbywhMSl9fSxyZXNvbHZlTW9kdWxlUGF0aEZyb206ZnVuY3Rpb24odCxuKXt2YXIgcj1lKCJtb2R1bGUiKSxzPW5ldyByKCIuIixudWxsKTtyZXR1cm4gcy5maWxlbmFtZT1pLmpvaW4odCwid2FsbGFieS5qcyIpLHMucGF0aHM9ci5fbm9kZU1vZHVsZVBhdGhzKHQpLHIuX3Jlc29sdmVGaWxlbmFtZShuLHMsITEpfSxoYXNBbnNpOmZ1bmN0aW9uKGUpe3JldHVybiBlJiYic3RyaW5nIj09dHlwZW9mIGUmJmUubWF0Y2gobyl9LHJlbW92ZUFuc2k6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJzdHJpbmciPT10eXBlb2YgZT9lLnJlcGxhY2UobywiIik6ZX19fSx7bW9kdWxlOnZvaWQgMCxwYXRoOnZvaWQgMCx1cmw6dm9pZCAwfV19LHt9LFsxXSk7